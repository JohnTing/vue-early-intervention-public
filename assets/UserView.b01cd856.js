var ua=Object.defineProperty,la=Object.defineProperties;var ca=Object.getOwnPropertyDescriptors;var Kn=Object.getOwnPropertySymbols;var da=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable;var Hn=(e,t,r)=>t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,De=(e,t)=>{for(var r in t||(t={}))da.call(t,r)&&Hn(e,r,t[r]);if(Kn)for(var r of Kn(t))fa.call(t,r)&&Hn(e,r,t[r]);return e},ot=(e,t)=>la(e,ca(t));import{d as He,r as de,o as ha,M as ma,a as Q,c as ne,b as y,F as Ne,e as ze,f as ge,w as rr,g as se,h as rt,v as er,t as $e,i as Yr,j as pa,k as hs,u as ct,n as _a,l as Or,m as Xe,p as va,q as ya}from"./index.29c1bb6e.js";const $a=y("div",{class:"modal-dialog"},[y("div",{class:"modal-content"},[y("div",{class:"modal-header"},[y("h4",{class:"modal-title"},"\u5831\u540D\u524D\u8ACB\u5BB6\u9577\u8A73\u95B1\u898F\u5B9A"),y("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})]),y("div",{class:"modal-body"},[y("ol",null,[y("li",null,"\u672C\u9580\u8A3A\u770B\u8A3A\u689D\u4EF6\u9700\u70BA\u300C\u591A\u9762\u5411\u767C\u5C55\u9072\u7DE9\u300D\uFF0C\u82E5\u70BA\u55AE\u4E00\u9762\u9805\u767C\u5C55\u9072\u7DE9\uFF0C\u8ACB\u76F4\u63A5\u639B\u55AE\u4E00\u79D1\u5225\u5C31\u8A3A\uFF0C\u8ACB\u52FF\u639B\u865F"),y("ul",null,[y("li",null,"\u55AE\u7D14\u52D5\u4F5C\u3001\u8A9E\u8A00\u554F\u984C\u2192\u8ACB\u639B\u5FA9\u5065\u79D1"),y("li",null,"\u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49\u2192\u8ACB\u639B\u5152\u7AE5\u5FC3\u667A\u79D1"),y("li",null,"\u751F\u9577\u554F\u984C\uFF08\u8EAB\u9AD8\u3001\u9AD4\u91CD\u3001\u6027\u65E9\u719F\u7B49\uFF09\u2192\u8ACB\u639B\u907A\u50B3\u4EE3\u8B1D\u79D1")]),y("br"),y("li",null,"\u672C\u9580\u8A3A\u7684\u770B\u8A3A\u5E74\u9F61\u70BA\u300C\u5B78\u9F61\u524D\uFF08\u5165\u5C0F\u5B78\u524D\uFF09\u300D\uFF0C\u82E5\u60A8\u7684\u5152\u7AE5\u73FE\u76EE\u524D\u5DF2\u8B80\u5927\u73ED\uFF0C\u82E5\u9580\u8A3A\u53EF\u770B\u8A3A\u65E5\u671F\u5DF2\u8D85\u904E\u4E94\u6708\uFF0C\u5247\u4E0D\u7B26\u5408\u672C\u9662\u770B\u8A3A\u5E74\u9F61\uFF1B\u5EFA\u8B70\u60A8\u8F49\u81F3\u5B83\u9662\u639B\u865F\uFF0C\u6216\u55AE\u4E00\u79D1\u5225\u5C31\u8A3A\u3002"),y("br"),y("li",null,"\u76EE\u524D\u570B\u5065\u7F72\u5DF2\u63D0\u4F9B\u7CFB\u7D71\u53EF\u67E5\u8A62\u5152\u7AE5\u5728\u5404\u5BB6\u91AB\u9662\u5152\u7AE5\u767C\u5C55\u79D1\u662F\u5426\u6709\u5C31\u8A3A\u7D00\u9304\uFF0C\u56E0\u6B64\u82E5\u4E00\u5E74\u5167\u66FE\u7D93\u5C31\u8A3A\u6216\u5230\u671F\u65E5\u672A\u8005\uFF0C\u8ACB\u52FF\u639B\u865F\u3002"),y("br"),y("li",null,"\u7CFB\u7D71\u5A92\u5408\u5230\u7684\u5C31\u8A3A\u65E5\u671F\u70BA\u6700\u9069\u5C31\u8A3A\u65E5\u671F\uFF0C\u8ACB\u52FF\u8981\u6C42\u66F4\u52D5\u3002")])]),y("div",{class:"modal-footer"},[y("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onclick:"sessionStorage.setItem('isReadRegulations', 'true');"},"\u78BA\u8A8D")])])],-1),ga=[$a],Ea=He({__name:"ReadRegulations",setup(e){let t=de(),r=null;return ha(()=>{r=new ma(t.value,{}),sessionStorage.getItem("isReadRegulations")!=="true"&&r.show()}),(s,n)=>(Q(),ne("div",{class:"modal fade",id:"myModal",tabindex:"-1",ref_key:"myModalRef",ref:t},ga,512))}});var ms=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ps={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(ms,function(){var r=1e3,s=6e4,n=36e5,o="millisecond",l="second",h="minute",d="hour",u="day",c="week",p="month",F="quarter",N="year",w="date",A="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},P=function(J,B,V){var X=String(J);return!X||X.length>=B?J:""+Array(B+1-X.length).join(V)+J},j={s:P,z:function(J){var B=-J.utcOffset(),V=Math.abs(B),X=Math.floor(V/60),U=V%60;return(B<=0?"+":"-")+P(X,2,"0")+":"+P(U,2,"0")},m:function J(B,V){if(B.date()<V.date())return-J(V,B);var X=12*(V.year()-B.year())+(V.month()-B.month()),U=B.clone().add(X,p),x=V-U<0,Z=B.clone().add(X+(x?-1:1),p);return+(-(X+(V-U)/(x?U-Z:Z-U))||0)},a:function(J){return J<0?Math.ceil(J)||0:Math.floor(J)},p:function(J){return{M:p,y:N,w:c,d:u,D:w,h:d,m:h,s:l,ms:o,Q:F}[J]||String(J||"").toLowerCase().replace(/s$/,"")},u:function(J){return J===void 0}},M="en",b={};b[M]=D;var k=function(J){return J instanceof fe},I=function J(B,V,X){var U;if(!B)return M;if(typeof B=="string"){var x=B.toLowerCase();b[x]&&(U=x),V&&(b[x]=V,U=x);var Z=B.split("-");if(!U&&Z.length>1)return J(Z[0])}else{var T=B.name;b[T]=B,U=T}return!X&&U&&(M=U),U||!X&&M},K=function(J,B){if(k(J))return J.clone();var V=typeof B=="object"?B:{};return V.date=J,V.args=arguments,new fe(V)},L=j;L.l=I,L.i=k,L.w=function(J,B){return K(J,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var fe=function(){function J(V){this.$L=I(V.locale,null,!0),this.parse(V)}var B=J.prototype;return B.parse=function(V){this.$d=function(X){var U=X.date,x=X.utc;if(U===null)return new Date(NaN);if(L.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var Z=U.match(E);if(Z){var T=Z[2]-1||0,$=(Z[7]||"0").substring(0,3);return x?new Date(Date.UTC(Z[1],T,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,$)):new Date(Z[1],T,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,$)}}return new Date(U)}(V),this.$x=V.x||{},this.init()},B.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},B.$utils=function(){return L},B.isValid=function(){return this.$d.toString()!==A},B.isSame=function(V,X){var U=K(V);return this.startOf(X)<=U&&U<=this.endOf(X)},B.isAfter=function(V,X){return K(V)<this.startOf(X)},B.isBefore=function(V,X){return this.endOf(X)<K(V)},B.$g=function(V,X,U){return L.u(V)?this[X]:this.set(U,V)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(V,X){var U=this,x=!!L.u(X)||X,Z=L.p(V),T=function(z,W){var te=L.w(U.$u?Date.UTC(U.$y,W,z):new Date(U.$y,W,z),U);return x?te:te.endOf(u)},$=function(z,W){return L.w(U.toDate()[z].apply(U.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(W)),U)},R=this.$W,g=this.$M,a=this.$D,f="set"+(this.$u?"UTC":"");switch(Z){case N:return x?T(1,0):T(31,11);case p:return x?T(1,g):T(0,g+1);case c:var O=this.$locale().weekStart||0,q=(R<O?R+7:R)-O;return T(x?a-q:a+(6-q),g);case u:case w:return $(f+"Hours",0);case d:return $(f+"Minutes",1);case h:return $(f+"Seconds",2);case l:return $(f+"Milliseconds",3);default:return this.clone()}},B.endOf=function(V){return this.startOf(V,!1)},B.$set=function(V,X){var U,x=L.p(V),Z="set"+(this.$u?"UTC":""),T=(U={},U[u]=Z+"Date",U[w]=Z+"Date",U[p]=Z+"Month",U[N]=Z+"FullYear",U[d]=Z+"Hours",U[h]=Z+"Minutes",U[l]=Z+"Seconds",U[o]=Z+"Milliseconds",U)[x],$=x===u?this.$D+(X-this.$W):X;if(x===p||x===N){var R=this.clone().set(w,1);R.$d[T]($),R.init(),this.$d=R.set(w,Math.min(this.$D,R.daysInMonth())).$d}else T&&this.$d[T]($);return this.init(),this},B.set=function(V,X){return this.clone().$set(V,X)},B.get=function(V){return this[L.p(V)]()},B.add=function(V,X){var U,x=this;V=Number(V);var Z=L.p(X),T=function(g){var a=K(x);return L.w(a.date(a.date()+Math.round(g*V)),x)};if(Z===p)return this.set(p,this.$M+V);if(Z===N)return this.set(N,this.$y+V);if(Z===u)return T(1);if(Z===c)return T(7);var $=(U={},U[h]=s,U[d]=n,U[l]=r,U)[Z]||1,R=this.$d.getTime()+V*$;return L.w(R,this)},B.subtract=function(V,X){return this.add(-1*V,X)},B.format=function(V){var X=this,U=this.$locale();if(!this.isValid())return U.invalidDate||A;var x=V||"YYYY-MM-DDTHH:mm:ssZ",Z=L.z(this),T=this.$H,$=this.$m,R=this.$M,g=U.weekdays,a=U.months,f=function(W,te,he,Fe){return W&&(W[te]||W(X,x))||he[te].slice(0,Fe)},O=function(W){return L.s(T%12||12,W,"0")},q=U.meridiem||function(W,te,he){var Fe=W<12?"AM":"PM";return he?Fe.toLowerCase():Fe},z={YY:String(this.$y).slice(-2),YYYY:this.$y,M:R+1,MM:L.s(R+1,2,"0"),MMM:f(U.monthsShort,R,a,3),MMMM:f(a,R),D:this.$D,DD:L.s(this.$D,2,"0"),d:String(this.$W),dd:f(U.weekdaysMin,this.$W,g,2),ddd:f(U.weekdaysShort,this.$W,g,3),dddd:g[this.$W],H:String(T),HH:L.s(T,2,"0"),h:O(1),hh:O(2),a:q(T,$,!0),A:q(T,$,!1),m:String($),mm:L.s($,2,"0"),s:String(this.$s),ss:L.s(this.$s,2,"0"),SSS:L.s(this.$ms,3,"0"),Z};return x.replace(v,function(W,te){return te||z[W]||Z.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(V,X,U){var x,Z=L.p(X),T=K(V),$=(T.utcOffset()-this.utcOffset())*s,R=this-T,g=L.m(this,T);return g=(x={},x[N]=g/12,x[p]=g,x[F]=g/3,x[c]=(R-$)/6048e5,x[u]=(R-$)/864e5,x[d]=R/n,x[h]=R/s,x[l]=R/r,x)[Z]||R,U?g:L.a(g)},B.daysInMonth=function(){return this.endOf(p).$D},B.$locale=function(){return b[this.$L]},B.locale=function(V,X){if(!V)return this.$L;var U=this.clone(),x=I(V,X,!0);return x&&(U.$L=x),U},B.clone=function(){return L.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},J}(),ie=fe.prototype;return K.prototype=ie,[["$ms",o],["$s",l],["$m",h],["$H",d],["$W",u],["$M",p],["$y",N],["$D",w]].forEach(function(J){ie[J[1]]=function(B){return this.$g(B,J[0],J[1])}}),K.extend=function(J,B){return J.$i||(J(B,fe,K),J.$i=!0),K},K.locale=I,K.isDayjs=k,K.unix=function(J){return K(1e3*J)},K.en=b[M],K.Ls=b,K.p={},K})})(ps);var Ve=ps.exports;function nr(e){const t={},r=new FormData(e.target);for(const s of r.keys())t[s]=r.getAll(s).join("|");return t}const wa=["onSubmit"],Sa=y("h5",null,"1.\u5152\u7AE5\u57FA\u672C\u8CC7\u6599",-1),Aa={class:"row"},Ca={class:"col-md-4"},Da=se(" \u5152\u7AE5\u8EAB\u4EFD\u8B49\u865F\uFF1A "),Pa=["readonly"],Fa={class:"col-md-4"},ka=se(" \u5152\u7AE5\u59D3\u540D\uFF1A "),Na=["readonly"],Oa=y("br",null,null,-1),Ra={class:"row"},ja={class:"col-md-12"},Ta=se(" \u586B\u5BEB\u4EBA\u8207\u5152\u7AE5\u95DC\u4FC2\uFF1A "),Ia={class:"form-inline"},Ma={class:"form-check-inline"},Ba={class:"form-check-label"},Va=["value","disabled"],qa=["placeholder","disabled","readonly"],Ua=y("div",{class:"row"},[y("div",{class:"col-md-4"},[y("label",null,[se(" \u586B\u8868\u4EBA\u806F\u7E6B\u96FB\u8A71\uFF1A "),y("input",{type:"text",class:"form-control",placeholder:"(\u52D9\u5FC5\u7559\u4E0B\u53EF\u806F\u7E6B\u96FB\u8A71)",name:"phoneNumber",required:""})])])],-1),za={class:"row"},La=se(" \u5C31\u8A3A\u554F\u984C(\u53EF\u8907\u9078)\uFF1A"),Ka=y("br",null,null,-1),Ha={class:"form-check-label"},Ya=["value","disabled"],Ga=y("br",null,null,-1),Ja={key:0,class:"btn btn-primary",type:"submit"},Wa=He({__name:"UserFrom1",props:{disabled:{type:Boolean}},emits:["kidBirthdayChange","submit"],setup(e,{emit:t}){const r=["\u7236\u6BCD/\u76E3\u8B77\u4EBA","\u8001\u5E2B","\u793E\u5DE5","\u8B77\u7406\u5E2B","\u5176\u4ED6"],s=["\u52D5\u4F5C","\u8A9E\u8A00","\u5B78\u7FD2","\u60C5\u7DD2","\u5C08\u6CE8\u529B\u3001\u904E\u52D5","\u5B78\u524D\u9451\u5B9A"],n=de("");Ve();const o=de(null);function l(h){t("submit",nr(h),!0)}return(h,d)=>(Q(),ne("form",{id:"from",onSubmit:rr(l,["prevent"])},[Sa,y("div",Aa,[y("div",Ca,[Da,y("input",{type:"text",class:"form-control",name:"identityNumber",required:"",pattern:"[A-Z][01][0-9]{8}",readonly:e.disabled},null,8,Pa)]),y("div",Fa,[ka,y("input",{type:"text",class:"form-control",name:"childName",required:"",readonly:e.disabled},null,8,Na)])]),Oa,y("div",Ra,[y("div",ja,[Ta,y("div",Ia,[(Q(),ne(Ne,null,ze(r,(u,c)=>y("div",Ma,[y("label",Ba,[rt(y("input",{class:"form-check-input",type:"radio",name:"userRelationship",value:u,"onUpdate:modelValue":d[0]||(d[0]=p=>n.value=p),required:"",disabled:e.disabled},null,8,Va),[[er,n.value]]),se($e(u),1)])])),64)),y("div",null,[y("input",{type:"text",class:"form-control",name:"userRelationshipOther",placeholder:n.value==r[r.length-1]?"\u8ACB\u8F38\u5165\u95DC\u4FC2":"",disabled:n.value!=r[r.length-1],readonly:e.disabled},null,8,qa)])])])]),Ua,y("div",za,[La,Ka,(Q(),ne(Ne,null,ze(s,u=>y("label",Ha,[y("input",{class:"form-check-input",type:"checkbox",name:"questionsAbouts",value:u,disabled:e.disabled},null,8,Ya),se(" "+$e(u)+"\u2003 ",1)])),64))]),Ga,o.value?ge("",!0):(Q(),ne("button",Ja,"\u78BA\u8A8D"))],40,wa))}}),Qa=["onSubmit"],Xa=y("h5",null,"2.\u662F\u5426\u66FE\u7D93\u65BC\u672C\u9662/\u4ED6\u9662\u770B\u904E\u5152\u7AE5\u767C\u5C55\u806F\u5408\u8A55\u4F30\u9580\u8A3A\uFF1F",-1),Za={class:"col-md-12"},xa={class:"form-check"},eo={class:"form-check-label"},to=["disabled"],ro=se("\u5426 "),no={class:"form-check"},so={class:"form-check-label"},ao=["disabled"],oo=se("\u662F "),io={key:0},uo={class:"row"},lo={class:"form-inline col-md-6"},co=se(" \u524D\u6B21\u8A55\u4F30\u65E5\u671F\uFF1A"),fo=["disabled"],ho={class:"form-inline col-md-6"},mo=se(" \u5EFA\u8B70\u8907\u8A55\u6642\u9593\uFF1A"),po=["disabled"],_o=y("br",null,null,-1),vo={key:0},yo=y("h5",null,"\u524D\u6B21\u8A55\u4F30\u9072\u7DE9/\u81E8\u754C\u9072\u7DE9\uFF1A",-1),$o={class:"col-md-12"},go={class:"form-inline"},Eo={class:"form-check"},bo={class:"form-check-label"},wo=["value","disabled"],So={key:1,class:"alert alert-warning"},Ao=se(" \u2027\u7121\u8AD6\u65BC\u672C\u9662\u6216\u4ED6\u9662\u8A55\u4F30\u4E00\u5E74\u5167\u4E0D\u5F97\u91CD\u8A55\uFF0C\u67E5\u8A62\u5F8C\u82E5\u91CD\u8986\u770B\u8A3A\uFF0C\u5C07\u6703\u62D2\u7D55\u8A55\u4F30"),Co=y("br",null,null,-1),Do=[Ao,Co],Po={key:2,class:"btn btn-primary",type:"submit"},Fo=He({__name:"UserFrom2",props:{disabled:{type:Boolean}},emits:["submit"],setup(e,{emit:t}){const r=de(!1),s=de(null),n=de(null),o=["\u52D5\u4F5C\u985E","\u8A9E\u8A00","\u8A8D\u77E5\u3001\u793E\u6703\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49"],l=de([]);function h(d){const u=Ve().diff(s.value);s.value&&r.value?n.value=u/(1e3*60*60*24)>365-61:n.value=!0,t("submit",nr(d),!0)}return(d,u)=>(Q(),ne("form",{id:"from",onSubmit:rr(h,["prevent"])},[Xa,y("div",Za,[y("div",xa,[y("label",eo,[rt(y("input",{type:"radio",class:"form-check-input",value:!1,"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),required:"",disabled:e.disabled},null,8,to),[[er,r.value]]),ro])]),y("div",no,[y("label",so,[rt(y("input",{type:"radio",class:"form-check-input",value:!0,"onUpdate:modelValue":u[1]||(u[1]=c=>r.value=c),required:"",disabled:e.disabled},null,8,ao),[[er,r.value]]),oo]),r.value?(Q(),ne("div",io,[y("div",uo,[y("div",lo,[co,rt(y("input",{type:"date",class:"form-control",name:"lastEvaluate",required:"","onUpdate:modelValue":u[2]||(u[2]=c=>s.value=c),disabled:e.disabled},null,8,fo),[[Yr,s.value]])]),y("div",ho,[mo,y("input",{type:"date",class:"form-control",name:"SuggestEvaluate",required:"",disabled:e.disabled},null,8,po)])])])):ge("",!0)])]),_o,r.value?(Q(),ne("div",vo,[yo,y("div",$o,[(Q(),ne(Ne,null,ze(o,(c,p)=>y("div",go,[y("div",Eo,[y("label",bo,[rt(y("input",{type:"checkbox",class:"form-check-input",name:"previousAssessment","onUpdate:modelValue":u[3]||(u[3]=F=>l.value=F),value:c,disabled:e.disabled},null,8,wo),[[pa,l.value]]),se($e(c),1)])])])),64))])])):ge("",!0),r.value?(Q(),ne("div",So,Do)):ge("",!0),n.value?ge("",!0):(Q(),ne("button",Po,"\u78BA\u8A8D"))],40,Qa))}}),ko=["onSubmit"],No=y("h5",null,"3\u3001\u662F\u5426\u6709\u7279\u6B8A\u75BE\u75C5\uFF1F",-1),Oo={class:"col-md-12"},Ro={class:"form-check"},jo={class:"form-check-label"},To=["disabled"],Io=se("\u5426 "),Mo={class:"form-check"},Bo={class:"form-check-label"},Vo=["disabled"],qo=se("\u662F "),Uo={class:"form-check form-check-inline"},zo={class:"form-check-label"},Lo=["value","disabled"],Ko=y("br",null,null,-1),Ho={key:0,class:"btn btn-primary",type:"submit"},Yo=He({__name:"UserFrom3",props:{disabled:{type:Boolean}},emits:["submit"],setup(e,{emit:t}){const r=de(!1),s=["\u795E\u7D93\u7CFB\u7D71","\u5167\u5206\u6CCC","\u7F55\u898B\u75BE\u75C5","\u65E9\u7522"],n=de(null);function o(l){n.value=!0,t("submit",nr(l),n.value)}return(l,h)=>(Q(),ne("form",{id:"from",onSubmit:rr(o,["prevent"])},[No,y("div",Oo,[y("div",Ro,[y("label",jo,[rt(y("input",{type:"radio",class:"form-check-input",value:!1,"onUpdate:modelValue":h[0]||(h[0]=d=>r.value=d),required:"",disabled:e.disabled},null,8,To),[[er,r.value]]),Io])]),y("div",Mo,[y("label",Bo,[rt(y("input",{type:"radio",class:"form-check-input",value:!0,"onUpdate:modelValue":h[1]||(h[1]=d=>r.value=d),required:"",disabled:e.disabled},null,8,Vo),[[er,r.value]]),qo]),y("div",null,[(Q(),ne(Ne,null,ze(s,(d,u)=>y("div",Uo,[y("label",zo,[y("input",{type:"checkbox",class:"form-check-input",name:"specialDisease",value:d,disabled:e.disabled||!r.value},null,8,Lo),se($e(d),1)])])),64))])])]),Ko,n.value?ge("",!0):(Q(),ne("button",Ho,"\u78BA\u8A8D"))],40,ko))}});const Go=["onSubmit"],Jo=y("h5",null,"5\u3001TAIPEI II \u7BE9\u6AA2\u8868",-1),Wo={class:"col-md-12"},Qo={key:0},Xo=y("div",{class:"text-center"},[y("div",{class:"spinner-border",role:"status"},[y("span",{class:"visually-hidden"},"Loading...")])],-1),Zo=[Xo],xo={key:1},ei={class:"row"},ti={class:"col-md-1"},ri={style:{color:"red"}},ni={class:"col-md-9"},si={class:"form-check-label"},ai={class:"col-md-2 text-center"},oi=["id","name"],ii=["for"],ui=["id","name"],li=["for"],ci=["src"],di=y("br",null,null,-1),fi={key:0,class:"btn btn-primary",type:"submit"},hi=He({__name:"UserFrom5",props:{kidBirthday:null},emits:["submit"],setup(e,{emit:t}){const r=e,s=de({}),n=de({questions:[],image:""});fetch("assets/monthRoot.json").then(d=>d.json()).then(d=>{s.value=d});const o=hs(()=>{const u=Ve().diff(Ve(r.kidBirthday))/(1e3*60*60*24);let c="";for(const p in s.value)if(s.value[p].min<=u&&s.value[p].max>=u){c=s.value[p].title,fetch(p).then(F=>F.json()).then(F=>{F.questions.forEach((N,w,A)=>{N.title=N.title.replace(/^\d+\./gm,""),N.answer=!!N.answer}),n.value=F});break}return c}),l=de(null);function h(d){const u=nr(d),c=[];n.value.questions.forEach((p,F,N)=>{const w=p.answer?"true":"false";u["q_"+F]==w&&c.push(F+1),delete u["q_"+F]}),u.wrongAnswers=c.join("|"),t("submit",u,!!o.value)}return(d,u)=>(Q(),ne("form",{id:"from",onSubmit:rr(h,["prevent"])},[Jo,y("div",Wo,[ct(o)?ge("",!0):(Q(),ne("div",Qo,Zo)),ct(o)?(Q(),ne("div",xo,[y("h6",null,$e(ct(o)),1),y("div",null,[(Q(!0),ne(Ne,null,ze(n.value.questions,(c,p)=>(Q(),ne("div",{class:_a(p%2==0?"q_white_line":"q_gray_line")},[y("div",ei,[y("div",ti,[se($e(p+1),1),y("span",ri,$e(c.special?"\u2605":""),1)]),y("div",ni,[y("label",si,$e(c.title),1)]),y("div",ai,[y("input",{type:"radio",class:"slist_radio_input",id:`q5t_${p}`,name:`q_${p}`,required:"",value:!0},null,8,oi),y("label",{class:"slist_radio_label",for:`q5t_${p}`},"\u662F",8,ii),y("input",{type:"radio",class:"slist_radio_input",id:`q5f_${p}`,name:`q_${p}`,required:"",value:!1},null,8,ui),y("label",{class:"slist_radio_label",for:`q5f_${p}`},"\u5426",8,li)])])],2))),256)),y("img",{src:n.value.image,style:{width:"100%"}},null,8,ci)])])):ge("",!0)]),di,l.value?ge("",!0):(Q(),ne("button",fi,"\u78BA\u8A8D"))],40,Go))}}),mi=se(" \u4E0D\u7B26\u5408\u672C\u9662\u770B\u8A3A\u689D\u4EF6\uFF0C\u82E5\u4ECD\u9700\u8981\u672C\u9662\u5C31\u8A3A\uFF0C\u5EFA\u8B70\u8F49\u8A3A\u81F3\u4EE5\u4E0B\u79D1\u5225\uFF1A"),pi=y("br",null,null,-1),_i=se(" \u52D5\u4F5C\u3001\u8A9E\u8A00\u985E\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),vi=y("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1",-1),yi=y("br",null,null,-1),$i=se(" \u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49 \u2192 \u8ACB\u639B"),gi=y("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1",-1),Ei=He({__name:"SuggestReferral",setup(e){return(t,r)=>(Q(),ne(Ne,null,[mi,pi,_i,vi,yi,$i,gi],64))}});var Vr={exports:{}},_s={},Ke={},Rt={},sr={},oe={},tr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(D){if(super(),!e.IDENTIFIER.test(D))throw new Error("CodeGen: name must be a valid identifier");this.str=D}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class s extends t{constructor(D){super(),this._items=typeof D=="string"?[D]:D}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const D=this._items[0];return D===""||D==='""'}get str(){var D;return(D=this._str)!==null&&D!==void 0?D:this._str=this._items.reduce((P,j)=>`${P}${j}`,"")}get names(){var D;return(D=this._names)!==null&&D!==void 0?D:this._names=this._items.reduce((P,j)=>(j instanceof r&&(P[j.str]=(P[j.str]||0)+1),P),{})}}e._Code=s,e.nil=new s("");function n(v,...D){const P=[v[0]];let j=0;for(;j<D.length;)h(P,D[j]),P.push(v[++j]);return new s(P)}e._=n;const o=new s("+");function l(v,...D){const P=[N(v[0])];let j=0;for(;j<D.length;)P.push(o),h(P,D[j]),P.push(o,N(v[++j]));return d(P),new s(P)}e.str=l;function h(v,D){D instanceof s?v.push(...D._items):D instanceof r?v.push(D):v.push(p(D))}e.addCodeArg=h;function d(v){let D=1;for(;D<v.length-1;){if(v[D]===o){const P=u(v[D-1],v[D+1]);if(P!==void 0){v.splice(D-1,3,P);continue}v[D++]="+"}D++}}function u(v,D){if(D==='""')return v;if(v==='""')return D;if(typeof v=="string")return D instanceof r||v[v.length-1]!=='"'?void 0:typeof D!="string"?`${v.slice(0,-1)}${D}"`:D[0]==='"'?v.slice(0,-1)+D.slice(1):void 0;if(typeof D=="string"&&D[0]==='"'&&!(v instanceof r))return`"${v}${D.slice(1)}`}function c(v,D){return D.emptyStr()?v:v.emptyStr()?D:l`${v}${D}`}e.strConcat=c;function p(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:N(Array.isArray(v)?v.join(","):v)}function F(v){return new s(N(v))}e.stringify=F;function N(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=N;function w(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new s(`.${v}`):n`[${v}]`}e.getProperty=w;function A(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new s(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=A;function E(v){return new s(v.toString())}e.regexpCode=E})(tr);var qr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=tr;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var s;(function(d){d[d.Started=0]="Started",d[d.Completed=1]="Completed"})(s=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class n{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,p;if(((p=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||p===void 0?void 0:p.has(u))||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=n;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:p}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${p}]`}}e.ValueScopeName=o;const l=(0,t._)`\n`;class h extends n{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts=ot(De({},u),{_n:u.lines?l:t.nil})}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var p;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const F=this.toName(u),{prefix:N}=F,w=(p=c.key)!==null&&p!==void 0?p:c.ref;let A=this._values[N];if(A){const D=A.get(w);if(D)return D}else A=this._values[N]=new Map;A.set(w,F);const E=this._scope[N]||(this._scope[N]=[]),v=E.length;return E[v]=c.ref,F.setValue(c,{property:N,itemIndex:v}),F}getValue(u,c){const p=this._values[u];if(!!p)return p.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${u}${p.scopePath}`})}scopeCode(u=this._values,c,p){return this._reduceValues(u,F=>{if(F.value===void 0)throw new Error(`CodeGen: name "${F}" has no value`);return F.value.code},c,p)}_reduceValues(u,c,p={},F){let N=t.nil;for(const w in u){const A=u[w];if(!A)continue;const E=p[w]=p[w]||new Map;A.forEach(v=>{if(E.has(v))return;E.set(v,s.Started);let D=c(v);if(D){const P=this.opts.es5?e.varKinds.var:e.varKinds.const;N=(0,t._)`${N}${P} ${v} = ${D};${this.opts._n}`}else if(D=F==null?void 0:F(v))N=(0,t._)`${N}${D}${this.opts._n}`;else throw new r(v);E.set(v,s.Completed)})}return N}}e.ValueScope=h})(qr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=tr,r=qr;var s=tr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return s.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return s.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return s.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return s.Name}});var n=qr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(a,f){return this}}class l extends o{constructor(a,f,O){super(),this.varKind=a,this.name=f,this.rhs=O}render({es5:a,_n:f}){const O=a?r.varKinds.var:this.varKind,q=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${q};`+f}optimizeNames(a,f){if(!!a[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,a,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class h extends o{constructor(a,f,O){super(),this.lhs=a,this.rhs=f,this.sideEffects=O}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,f){if(!(this.lhs instanceof t.Name&&!a[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,a,f),this}get names(){const a=this.lhs instanceof t.Name?{}:De({},this.lhs.names);return J(a,this.rhs)}}class d extends h{constructor(a,f,O,q){super(a,O,q),this.op=f}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class u extends o{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class c extends o{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`break${this.label?` ${this.label}`:""};`+a}}class p extends o{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class F extends o{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,f){return this.code=B(this.code,a,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class N extends o{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((f,O)=>f+O.render(a),"")}optimizeNodes(){const{nodes:a}=this;let f=a.length;for(;f--;){const O=a[f].optimizeNodes();Array.isArray(O)?a.splice(f,1,...O):O?a[f]=O:a.splice(f,1)}return a.length>0?this:void 0}optimizeNames(a,f){const{nodes:O}=this;let q=O.length;for(;q--;){const z=O[q];z.optimizeNames(a,f)||(V(a,z.names),O.splice(q,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((a,f)=>ie(a,f.names),{})}}class w extends N{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class A extends N{}class E extends w{}E.kind="else";class v extends w{constructor(a,f){super(f),this.condition=a}render(a){let f=`if(${this.condition})`+super.render(a);return this.else&&(f+="else "+this.else.render(a)),f}optimizeNodes(){super.optimizeNodes();const a=this.condition;if(a===!0)return this.nodes;let f=this.else;if(f){const O=f.optimizeNodes();f=this.else=Array.isArray(O)?new E(O):O}if(f)return a===!1?f instanceof v?f:f.nodes:this.nodes.length?this:new v(X(a),f instanceof v?[f]:f.nodes);if(!(a===!1||!this.nodes.length))return this}optimizeNames(a,f){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(a,f),!!(super.optimizeNames(a,f)||this.else))return this.condition=B(this.condition,a,f),this}get names(){const a=super.names;return J(a,this.condition),this.else&&ie(a,this.else.names),a}}v.kind="if";class D extends w{}D.kind="for";class P extends D{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,f){if(!!super.optimizeNames(a,f))return this.iteration=B(this.iteration,a,f),this}get names(){return ie(super.names,this.iteration.names)}}class j extends D{constructor(a,f,O,q){super(),this.varKind=a,this.name=f,this.from=O,this.to=q}render(a){const f=a.es5?r.varKinds.var:this.varKind,{name:O,from:q,to:z}=this;return`for(${f} ${O}=${q}; ${O}<${z}; ${O}++)`+super.render(a)}get names(){const a=J(super.names,this.from);return J(a,this.to)}}class M extends D{constructor(a,f,O,q){super(),this.loop=a,this.varKind=f,this.name=O,this.iterable=q}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,f){if(!!super.optimizeNames(a,f))return this.iterable=B(this.iterable,a,f),this}get names(){return ie(super.names,this.iterable.names)}}class b extends w{constructor(a,f,O){super(),this.name=a,this.args=f,this.async=O}render(a){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(a)}}b.kind="func";class k extends N{render(a){return"return "+super.render(a)}}k.kind="return";class I extends w{render(a){let f="try"+super.render(a);return this.catch&&(f+=this.catch.render(a)),this.finally&&(f+=this.finally.render(a)),f}optimizeNodes(){var a,f;return super.optimizeNodes(),(a=this.catch)===null||a===void 0||a.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(a,f){var O,q;return super.optimizeNames(a,f),(O=this.catch)===null||O===void 0||O.optimizeNames(a,f),(q=this.finally)===null||q===void 0||q.optimizeNames(a,f),this}get names(){const a=super.names;return this.catch&&ie(a,this.catch.names),this.finally&&ie(a,this.finally.names),a}}class K extends w{constructor(a){super(),this.error=a}render(a){return`catch(${this.error})`+super.render(a)}}K.kind="catch";class L extends w{render(a){return"finally"+super.render(a)}}L.kind="finally";class fe{constructor(a,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ot(De({},f),{_n:f.lines?`
`:""}),this._extScope=a,this._scope=new r.Scope({parent:a}),this._nodes=[new A]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,f){const O=this._extScope.value(a,f);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(a,f){return this._extScope.getValue(a,f)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,f,O,q){const z=this._scope.toName(f);return O!==void 0&&q&&(this._constants[z.str]=O),this._leafNode(new l(a,z,O)),z}const(a,f,O){return this._def(r.varKinds.const,a,f,O)}let(a,f,O){return this._def(r.varKinds.let,a,f,O)}var(a,f,O){return this._def(r.varKinds.var,a,f,O)}assign(a,f,O){return this._leafNode(new h(a,f,O))}add(a,f){return this._leafNode(new d(a,e.operators.ADD,f))}code(a){return typeof a=="function"?a():a!==t.nil&&this._leafNode(new F(a)),this}object(...a){const f=["{"];for(const[O,q]of a)f.length>1&&f.push(","),f.push(O),(O!==q||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,q));return f.push("}"),new t._Code(f)}if(a,f,O){if(this._blockNode(new v(a)),f&&O)this.code(f).else().code(O).endIf();else if(f)this.code(f).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new v(a))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(v,E)}_for(a,f){return this._blockNode(a),f&&this.code(f).endFor(),this}for(a,f){return this._for(new P(a),f)}forRange(a,f,O,q,z=this.opts.es5?r.varKinds.var:r.varKinds.let){const W=this._scope.toName(a);return this._for(new j(z,W,f,O),()=>q(W))}forOf(a,f,O,q=r.varKinds.const){const z=this._scope.toName(a);if(this.opts.es5){const W=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${W}.length`,te=>{this.var(z,(0,t._)`${W}[${te}]`),O(z)})}return this._for(new M("of",q,z,f),()=>O(z))}forIn(a,f,O,q=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(a,(0,t._)`Object.keys(${f})`,O);const z=this._scope.toName(a);return this._for(new M("in",q,z,f),()=>O(z))}endFor(){return this._endBlockNode(D)}label(a){return this._leafNode(new u(a))}break(a){return this._leafNode(new c(a))}return(a){const f=new k;if(this._blockNode(f),this.code(a),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(a,f,O){if(!f&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const q=new I;if(this._blockNode(q),this.code(a),f){const z=this.name("e");this._currNode=q.catch=new K(z),f(z)}return O&&(this._currNode=q.finally=new L,this.code(O)),this._endBlockNode(K,L)}throw(a){return this._leafNode(new p(a))}block(a,f){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(f),this}endBlock(a){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-f;if(O<0||a!==void 0&&O!==a)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${a} expected`);return this._nodes.length=f,this}func(a,f=t.nil,O,q){return this._blockNode(new b(a,f,O)),q&&this.code(q).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,f){const O=this._currNode;if(O instanceof a||f&&O instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${a.kind}/${f.kind}`:a.kind}"`)}_elseNode(a){const f=this._currNode;if(!(f instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=a,this}get _root(){return this._nodes[0]}get _currNode(){const a=this._nodes;return a[a.length-1]}set _currNode(a){const f=this._nodes;f[f.length-1]=a}}e.CodeGen=fe;function ie(g,a){for(const f in a)g[f]=(g[f]||0)+(a[f]||0);return g}function J(g,a){return a instanceof t._CodeOrName?ie(g,a.names):g}function B(g,a,f){if(g instanceof t.Name)return O(g);if(!q(g))return g;return new t._Code(g._items.reduce((z,W)=>(W instanceof t.Name&&(W=O(W)),W instanceof t._Code?z.push(...W._items):z.push(W),z),[]));function O(z){const W=f[z.str];return W===void 0||a[z.str]!==1?z:(delete a[z.str],W)}function q(z){return z instanceof t._Code&&z._items.some(W=>W instanceof t.Name&&a[W.str]===1&&f[W.str]!==void 0)}}function V(g,a){for(const f in a)g[f]=(g[f]||0)-(a[f]||0)}function X(g){return typeof g=="boolean"||typeof g=="number"||g===null?!g:(0,t._)`!${R(g)}`}e.not=X;const U=$(e.operators.AND);function x(...g){return g.reduce(U)}e.and=x;const Z=$(e.operators.OR);function T(...g){return g.reduce(Z)}e.or=T;function $(g){return(a,f)=>a===t.nil?f:f===t.nil?a:(0,t._)`${R(a)} ${g} ${R(f)}`}function R(g){return g instanceof t.Name?g:(0,t._)`(${g})`}})(oe);var ce={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=oe,r=tr;function s(b){const k={};for(const I of b)k[I]=!0;return k}e.toHash=s;function n(b,k){return typeof k=="boolean"?k:Object.keys(k).length===0?!0:(o(b,k),!l(k,b.self.RULES.all))}e.alwaysValidSchema=n;function o(b,k=b.schema){const{opts:I,self:K}=b;if(!I.strictSchema||typeof k=="boolean")return;const L=K.RULES.keywords;for(const fe in k)L[fe]||M(b,`unknown keyword: "${fe}"`)}e.checkUnknownRules=o;function l(b,k){if(typeof b=="boolean")return!b;for(const I in b)if(k[I])return!0;return!1}e.schemaHasRules=l;function h(b,k){if(typeof b=="boolean")return!b;for(const I in b)if(I!=="$ref"&&k.all[I])return!0;return!1}e.schemaHasRulesButRef=h;function d({topSchemaRef:b,schemaPath:k},I,K,L){if(!L){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${b}${k}${(0,t.getProperty)(K)}`}e.schemaRefOrVal=d;function u(b){return F(decodeURIComponent(b))}e.unescapeFragment=u;function c(b){return encodeURIComponent(p(b))}e.escapeFragment=c;function p(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=p;function F(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=F;function N(b,k){if(Array.isArray(b))for(const I of b)k(I);else k(b)}e.eachItem=N;function w({mergeNames:b,mergeToName:k,mergeValues:I,resultToName:K}){return(L,fe,ie,J)=>{const B=ie===void 0?fe:ie instanceof t.Name?(fe instanceof t.Name?b(L,fe,ie):k(L,fe,ie),ie):fe instanceof t.Name?(k(L,ie,fe),fe):I(fe,ie);return J===t.Name&&!(B instanceof t.Name)?K(L,B):B}}e.mergeEvaluated={props:w({mergeNames:(b,k,I)=>b.if((0,t._)`${I} !== true && ${k} !== undefined`,()=>{b.if((0,t._)`${k} === true`,()=>b.assign(I,!0),()=>b.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${k})`))}),mergeToName:(b,k,I)=>b.if((0,t._)`${I} !== true`,()=>{k===!0?b.assign(I,!0):(b.assign(I,(0,t._)`${I} || {}`),E(b,I,k))}),mergeValues:(b,k)=>b===!0?!0:De(De({},b),k),resultToName:A}),items:w({mergeNames:(b,k,I)=>b.if((0,t._)`${I} !== true && ${k} !== undefined`,()=>b.assign(I,(0,t._)`${k} === true ? true : ${I} > ${k} ? ${I} : ${k}`)),mergeToName:(b,k,I)=>b.if((0,t._)`${I} !== true`,()=>b.assign(I,k===!0?!0:(0,t._)`${I} > ${k} ? ${I} : ${k}`)),mergeValues:(b,k)=>b===!0?!0:Math.max(b,k),resultToName:(b,k)=>b.var("items",k)})};function A(b,k){if(k===!0)return b.var("props",!0);const I=b.var("props",(0,t._)`{}`);return k!==void 0&&E(b,I,k),I}e.evaluatedPropsToName=A;function E(b,k,I){Object.keys(I).forEach(K=>b.assign((0,t._)`${k}${(0,t.getProperty)(K)}`,!0))}e.setEvaluated=E;const v={};function D(b,k){return b.scopeValue("func",{ref:k,code:v[k.code]||(v[k.code]=new r._Code(k.code))})}e.useFunc=D;var P;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(P=e.Type||(e.Type={}));function j(b,k,I){if(b instanceof t.Name){const K=k===P.Num;return I?K?(0,t._)`"[" + ${b} + "]"`:(0,t._)`"['" + ${b} + "']"`:K?(0,t._)`"/" + ${b}`:(0,t._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(b).toString():"/"+p(b)}e.getErrorPath=j;function M(b,k,I=b.opts.strictSchema){if(!!I){if(k=`strict mode: ${k}`,I===!0)throw new Error(k);b.self.logger.warn(k)}}e.checkStrictMode=M})(ce);var et={};Object.defineProperty(et,"__esModule",{value:!0});const Pe=oe,bi={data:new Pe.Name("data"),valCxt:new Pe.Name("valCxt"),instancePath:new Pe.Name("instancePath"),parentData:new Pe.Name("parentData"),parentDataProperty:new Pe.Name("parentDataProperty"),rootData:new Pe.Name("rootData"),dynamicAnchors:new Pe.Name("dynamicAnchors"),vErrors:new Pe.Name("vErrors"),errors:new Pe.Name("errors"),this:new Pe.Name("this"),self:new Pe.Name("self"),scope:new Pe.Name("scope"),json:new Pe.Name("json"),jsonPos:new Pe.Name("jsonPos"),jsonLen:new Pe.Name("jsonLen"),jsonPart:new Pe.Name("jsonPart")};et.default=bi;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=oe,r=ce,s=et;e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:v})=>v?(0,t.str)`"${E}" keyword must be ${v} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function n(E,v=e.keywordError,D,P){const{it:j}=E,{gen:M,compositeRule:b,allErrors:k}=j,I=p(E,v,D);(P!=null?P:b||k)?d(M,I):u(j,(0,t._)`[${I}]`)}e.reportError=n;function o(E,v=e.keywordError,D){const{it:P}=E,{gen:j,compositeRule:M,allErrors:b}=P,k=p(E,v,D);d(j,k),M||b||u(P,s.default.vErrors)}e.reportExtraError=o;function l(E,v){E.assign(s.default.errors,v),E.if((0,t._)`${s.default.vErrors} !== null`,()=>E.if(v,()=>E.assign((0,t._)`${s.default.vErrors}.length`,v),()=>E.assign(s.default.vErrors,null)))}e.resetErrorsCount=l;function h({gen:E,keyword:v,schemaValue:D,data:P,errsCount:j,it:M}){if(j===void 0)throw new Error("ajv implementation error");const b=E.name("err");E.forRange("i",j,s.default.errors,k=>{E.const(b,(0,t._)`${s.default.vErrors}[${k}]`),E.if((0,t._)`${b}.instancePath === undefined`,()=>E.assign((0,t._)`${b}.instancePath`,(0,t.strConcat)(s.default.instancePath,M.errorPath))),E.assign((0,t._)`${b}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${v}`),M.opts.verbose&&(E.assign((0,t._)`${b}.schema`,D),E.assign((0,t._)`${b}.data`,P))})}e.extendErrors=h;function d(E,v){const D=E.const("err",v);E.if((0,t._)`${s.default.vErrors} === null`,()=>E.assign(s.default.vErrors,(0,t._)`[${D}]`),(0,t._)`${s.default.vErrors}.push(${D})`),E.code((0,t._)`${s.default.errors}++`)}function u(E,v){const{gen:D,validateName:P,schemaEnv:j}=E;j.$async?D.throw((0,t._)`new ${E.ValidationError}(${v})`):(D.assign((0,t._)`${P}.errors`,v),D.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(E,v,D){const{createErrors:P}=E.it;return P===!1?(0,t._)`{}`:F(E,v,D)}function F(E,v,D={}){const{gen:P,it:j}=E,M=[N(j,D),w(E,D)];return A(E,v,M),P.object(...M)}function N({errorPath:E},{instancePath:v}){const D=v?(0,t.str)`${E}${(0,r.getErrorPath)(v,r.Type.Str)}`:E;return[s.default.instancePath,(0,t.strConcat)(s.default.instancePath,D)]}function w({keyword:E,it:{errSchemaPath:v}},{schemaPath:D,parentSchema:P}){let j=P?v:(0,t.str)`${v}/${E}`;return D&&(j=(0,t.str)`${j}${(0,r.getErrorPath)(D,r.Type.Str)}`),[c.schemaPath,j]}function A(E,{params:v,message:D},P){const{keyword:j,data:M,schemaValue:b,it:k}=E,{opts:I,propertyName:K,topSchemaRef:L,schemaPath:fe}=k;P.push([c.keyword,j],[c.params,typeof v=="function"?v(E):v||(0,t._)`{}`]),I.messages&&P.push([c.message,typeof D=="function"?D(E):D]),I.verbose&&P.push([c.schema,b],[c.parentSchema,(0,t._)`${L}${fe}`],[s.default.data,M]),K&&P.push([c.propertyName,K])}})(sr);Object.defineProperty(Rt,"__esModule",{value:!0});Rt.boolOrEmptySchema=Rt.topBoolOrEmptySchema=void 0;const wi=sr,Si=oe,Ai=et,Ci={message:"boolean schema is false"};function Di(e){const{gen:t,schema:r,validateName:s}=e;r===!1?vs(e,!1):typeof r=="object"&&r.$async===!0?t.return(Ai.default.data):(t.assign((0,Si._)`${s}.errors`,null),t.return(!0))}Rt.topBoolOrEmptySchema=Di;function Pi(e,t){const{gen:r,schema:s}=e;s===!1?(r.var(t,!1),vs(e)):r.var(t,!0)}Rt.boolOrEmptySchema=Pi;function vs(e,t){const{gen:r,data:s}=e,n={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,wi.reportError)(n,Ci,void 0,t)}var ar={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.getRules=gt.isJSONType=void 0;const Fi=["string","number","integer","boolean","null","object","array"],ki=new Set(Fi);function Ni(e){return typeof e=="string"&&ki.has(e)}gt.isJSONType=Ni;function Oi(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ot(De({},e),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}gt.getRules=Oi;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.shouldUseRule=nt.shouldUseGroup=nt.schemaHasRulesForType=void 0;function Ri({schema:e,self:t},r){const s=t.RULES.types[r];return s&&s!==!0&&ys(e,s)}nt.schemaHasRulesForType=Ri;function ys(e,t){return t.rules.some(r=>$s(e,r))}nt.shouldUseGroup=ys;function $s(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(s=>e[s]!==void 0))}nt.shouldUseRule=$s;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=gt,r=nt,s=sr,n=oe,o=ce;var l;(function(P){P[P.Correct=0]="Correct",P[P.Wrong=1]="Wrong"})(l=e.DataType||(e.DataType={}));function h(P){const j=d(P.type);if(j.includes("null")){if(P.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!j.length&&P.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');P.nullable===!0&&j.push("null")}return j}e.getSchemaTypes=h;function d(P){const j=Array.isArray(P)?P:P?[P]:[];if(j.every(t.isJSONType))return j;throw new Error("type must be JSONType or JSONType[]: "+j.join(","))}e.getJSONTypes=d;function u(P,j){const{gen:M,data:b,opts:k}=P,I=p(j,k.coerceTypes),K=j.length>0&&!(I.length===0&&j.length===1&&(0,r.schemaHasRulesForType)(P,j[0]));if(K){const L=A(j,b,k.strictNumbers,l.Wrong);M.if(L,()=>{I.length?F(P,j,I):v(P)})}return K}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function p(P,j){return j?P.filter(M=>c.has(M)||j==="array"&&M==="array"):[]}function F(P,j,M){const{gen:b,data:k,opts:I}=P,K=b.let("dataType",(0,n._)`typeof ${k}`),L=b.let("coerced",(0,n._)`undefined`);I.coerceTypes==="array"&&b.if((0,n._)`${K} == 'object' && Array.isArray(${k}) && ${k}.length == 1`,()=>b.assign(k,(0,n._)`${k}[0]`).assign(K,(0,n._)`typeof ${k}`).if(A(j,k,I.strictNumbers),()=>b.assign(L,k))),b.if((0,n._)`${L} !== undefined`);for(const ie of M)(c.has(ie)||ie==="array"&&I.coerceTypes==="array")&&fe(ie);b.else(),v(P),b.endIf(),b.if((0,n._)`${L} !== undefined`,()=>{b.assign(k,L),N(P,L)});function fe(ie){switch(ie){case"string":b.elseIf((0,n._)`${K} == "number" || ${K} == "boolean"`).assign(L,(0,n._)`"" + ${k}`).elseIf((0,n._)`${k} === null`).assign(L,(0,n._)`""`);return;case"number":b.elseIf((0,n._)`${K} == "boolean" || ${k} === null
              || (${K} == "string" && ${k} && ${k} == +${k})`).assign(L,(0,n._)`+${k}`);return;case"integer":b.elseIf((0,n._)`${K} === "boolean" || ${k} === null
              || (${K} === "string" && ${k} && ${k} == +${k} && !(${k} % 1))`).assign(L,(0,n._)`+${k}`);return;case"boolean":b.elseIf((0,n._)`${k} === "false" || ${k} === 0 || ${k} === null`).assign(L,!1).elseIf((0,n._)`${k} === "true" || ${k} === 1`).assign(L,!0);return;case"null":b.elseIf((0,n._)`${k} === "" || ${k} === 0 || ${k} === false`),b.assign(L,null);return;case"array":b.elseIf((0,n._)`${K} === "string" || ${K} === "number"
              || ${K} === "boolean" || ${k} === null`).assign(L,(0,n._)`[${k}]`)}}}function N({gen:P,parentData:j,parentDataProperty:M},b){P.if((0,n._)`${j} !== undefined`,()=>P.assign((0,n._)`${j}[${M}]`,b))}function w(P,j,M,b=l.Correct){const k=b===l.Correct?n.operators.EQ:n.operators.NEQ;let I;switch(P){case"null":return(0,n._)`${j} ${k} null`;case"array":I=(0,n._)`Array.isArray(${j})`;break;case"object":I=(0,n._)`${j} && typeof ${j} == "object" && !Array.isArray(${j})`;break;case"integer":I=K((0,n._)`!(${j} % 1) && !isNaN(${j})`);break;case"number":I=K();break;default:return(0,n._)`typeof ${j} ${k} ${P}`}return b===l.Correct?I:(0,n.not)(I);function K(L=n.nil){return(0,n.and)((0,n._)`typeof ${j} == "number"`,L,M?(0,n._)`isFinite(${j})`:n.nil)}}e.checkDataType=w;function A(P,j,M,b){if(P.length===1)return w(P[0],j,M,b);let k;const I=(0,o.toHash)(P);if(I.array&&I.object){const K=(0,n._)`typeof ${j} != "object"`;k=I.null?K:(0,n._)`!${j} || ${K}`,delete I.null,delete I.array,delete I.object}else k=n.nil;I.number&&delete I.integer;for(const K in I)k=(0,n.and)(k,w(K,j,M,b));return k}e.checkDataTypes=A;const E={message:({schema:P})=>`must be ${P}`,params:({schema:P,schemaValue:j})=>typeof P=="string"?(0,n._)`{type: ${P}}`:(0,n._)`{type: ${j}}`};function v(P){const j=D(P);(0,s.reportError)(j,E)}e.reportTypeError=v;function D(P){const{gen:j,data:M,schema:b}=P,k=(0,o.schemaRefOrVal)(P,b,"type");return{gen:j,keyword:"type",data:M,schema:b.type,schemaCode:k,schemaValue:k,parentSchema:b,params:{},it:P}}})(ar);var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.assignDefaults=void 0;const Ft=oe,ji=ce;function Ti(e,t){const{properties:r,items:s}=e.schema;if(t==="object"&&r)for(const n in r)Yn(e,n,r[n].default);else t==="array"&&Array.isArray(s)&&s.forEach((n,o)=>Yn(e,o,n.default))}Ar.assignDefaults=Ti;function Yn(e,t,r){const{gen:s,compositeRule:n,data:o,opts:l}=e;if(r===void 0)return;const h=(0,Ft._)`${o}${(0,Ft.getProperty)(t)}`;if(n){(0,ji.checkStrictMode)(e,`default is ignored for: ${h}`);return}let d=(0,Ft._)`${h} === undefined`;l.useDefaults==="empty"&&(d=(0,Ft._)`${d} || ${h} === null || ${h} === ""`),s.if(d,(0,Ft._)`${h} = ${(0,Ft.stringify)(r)}`)}var xe={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.validateUnion=ae.validateArray=ae.usePattern=ae.callValidateCode=ae.schemaProperties=ae.allSchemaProperties=ae.noPropertyInData=ae.propertyInData=ae.isOwnProperty=ae.hasPropFunc=ae.reportMissingProp=ae.checkMissingProp=ae.checkReportMissingProp=void 0;const _e=oe,Gr=ce,it=et,Ii=ce;function Mi(e,t){const{gen:r,data:s,it:n}=e;r.if(Wr(r,s,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,_e._)`${t}`},!0),e.error()})}ae.checkReportMissingProp=Mi;function Bi({gen:e,data:t,it:{opts:r}},s,n){return(0,_e.or)(...s.map(o=>(0,_e.and)(Wr(e,t,o,r.ownProperties),(0,_e._)`${n} = ${o}`)))}ae.checkMissingProp=Bi;function Vi(e,t){e.setParams({missingProperty:t},!0),e.error()}ae.reportMissingProp=Vi;function gs(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,_e._)`Object.prototype.hasOwnProperty`})}ae.hasPropFunc=gs;function Jr(e,t,r){return(0,_e._)`${gs(e)}.call(${t}, ${r})`}ae.isOwnProperty=Jr;function qi(e,t,r,s){const n=(0,_e._)`${t}${(0,_e.getProperty)(r)} !== undefined`;return s?(0,_e._)`${n} && ${Jr(e,t,r)}`:n}ae.propertyInData=qi;function Wr(e,t,r,s){const n=(0,_e._)`${t}${(0,_e.getProperty)(r)} === undefined`;return s?(0,_e.or)(n,(0,_e.not)(Jr(e,t,r))):n}ae.noPropertyInData=Wr;function Es(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ae.allSchemaProperties=Es;function Ui(e,t){return Es(t).filter(r=>!(0,Gr.alwaysValidSchema)(e,t[r]))}ae.schemaProperties=Ui;function zi({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:o},it:l},h,d,u){const c=u?(0,_e._)`${e}, ${t}, ${s}${n}`:t,p=[[it.default.instancePath,(0,_e.strConcat)(it.default.instancePath,o)],[it.default.parentData,l.parentData],[it.default.parentDataProperty,l.parentDataProperty],[it.default.rootData,it.default.rootData]];l.opts.dynamicRef&&p.push([it.default.dynamicAnchors,it.default.dynamicAnchors]);const F=(0,_e._)`${c}, ${r.object(...p)}`;return d!==_e.nil?(0,_e._)`${h}.call(${d}, ${F})`:(0,_e._)`${h}(${F})`}ae.callValidateCode=zi;const Li=(0,_e._)`new RegExp`;function Ki({gen:e,it:{opts:t}},r){const s=t.unicodeRegExp?"u":"",{regExp:n}=t.code,o=n(r,s);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,_e._)`${n.code==="new RegExp"?Li:(0,Ii.useFunc)(e,n)}(${r}, ${s})`})}ae.usePattern=Ki;function Hi(e){const{gen:t,data:r,keyword:s,it:n}=e,o=t.name("valid");if(n.allErrors){const h=t.let("valid",!0);return l(()=>t.assign(h,!1)),h}return t.var(o,!0),l(()=>t.break()),o;function l(h){const d=t.const("len",(0,_e._)`${r}.length`);t.forRange("i",0,d,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:Gr.Type.Num},o),t.if((0,_e.not)(o),h)})}}ae.validateArray=Hi;function Yi(e){const{gen:t,schema:r,keyword:s,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>(0,Gr.alwaysValidSchema)(n,d))&&!n.opts.unevaluated)return;const l=t.let("valid",!1),h=t.name("_valid");t.block(()=>r.forEach((d,u)=>{const c=e.subschema({keyword:s,schemaProp:u,compositeRule:!0},h);t.assign(l,(0,_e._)`${l} || ${h}`),e.mergeValidEvaluated(c,h)||t.if((0,_e.not)(l))})),e.result(l,()=>e.reset(),()=>e.error(!0))}ae.validateUnion=Yi;Object.defineProperty(xe,"__esModule",{value:!0});xe.validateKeywordUsage=xe.validSchemaType=xe.funcKeywordCode=xe.macroKeywordCode=void 0;const ke=oe,vt=et,Gi=ae,Ji=sr;function Wi(e,t){const{gen:r,keyword:s,schema:n,parentSchema:o,it:l}=e,h=t.macro.call(l.self,n,o,l),d=bs(r,s,h);l.opts.validateSchema!==!1&&l.self.validateSchema(h,!0);const u=r.name("valid");e.subschema({schema:h,schemaPath:ke.nil,errSchemaPath:`${l.errSchemaPath}/${s}`,topSchemaRef:d,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}xe.macroKeywordCode=Wi;function Qi(e,t){var r;const{gen:s,keyword:n,schema:o,parentSchema:l,$data:h,it:d}=e;Zi(d,t);const u=!h&&t.compile?t.compile.call(d.self,o,l,d):t.validate,c=bs(s,n,u),p=s.let("valid");e.block$data(p,F),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function F(){if(t.errors===!1)A(),t.modifying&&Gn(e),E(()=>e.error());else{const v=t.async?N():w();t.modifying&&Gn(e),E(()=>Xi(e,v))}}function N(){const v=s.let("ruleErrs",null);return s.try(()=>A((0,ke._)`await `),D=>s.assign(p,!1).if((0,ke._)`${D} instanceof ${d.ValidationError}`,()=>s.assign(v,(0,ke._)`${D}.errors`),()=>s.throw(D))),v}function w(){const v=(0,ke._)`${c}.errors`;return s.assign(v,null),A(ke.nil),v}function A(v=t.async?(0,ke._)`await `:ke.nil){const D=d.opts.passContext?vt.default.this:vt.default.self,P=!("compile"in t&&!h||t.schema===!1);s.assign(p,(0,ke._)`${v}${(0,Gi.callValidateCode)(e,c,D,P)}`,t.modifying)}function E(v){var D;s.if((0,ke.not)((D=t.valid)!==null&&D!==void 0?D:p),v)}}xe.funcKeywordCode=Qi;function Gn(e){const{gen:t,data:r,it:s}=e;t.if(s.parentData,()=>t.assign(r,(0,ke._)`${s.parentData}[${s.parentDataProperty}]`))}function Xi(e,t){const{gen:r}=e;r.if((0,ke._)`Array.isArray(${t})`,()=>{r.assign(vt.default.vErrors,(0,ke._)`${vt.default.vErrors} === null ? ${t} : ${vt.default.vErrors}.concat(${t})`).assign(vt.default.errors,(0,ke._)`${vt.default.vErrors}.length`),(0,Ji.extendErrors)(e)},()=>e.error())}function Zi({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function bs(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ke.stringify)(r)})}function xi(e,t,r=!1){return!t.length||t.some(s=>s==="array"?Array.isArray(e):s==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==s||r&&typeof e=="undefined")}xe.validSchemaType=xi;function eu({schema:e,opts:t,self:r,errSchemaPath:s},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");const l=n.dependencies;if(l!=null&&l.some(h=>!Object.prototype.hasOwnProperty.call(e,h)))throw new Error(`parent schema must have dependencies of ${o}: ${l.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[o])){const d=`keyword "${o}" value is invalid at path "${s}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}xe.validateKeywordUsage=eu;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.extendSubschemaMode=dt.extendSubschemaData=dt.getSubschema=void 0;const Ze=oe,ws=ce;function tu(e,{keyword:t,schemaProp:r,schema:s,schemaPath:n,errSchemaPath:o,topSchemaRef:l}){if(t!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const h=e.schema[t];return r===void 0?{schema:h,schemaPath:(0,Ze._)`${e.schemaPath}${(0,Ze.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:h[r],schemaPath:(0,Ze._)`${e.schemaPath}${(0,Ze.getProperty)(t)}${(0,Ze.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ws.escapeFragment)(r)}`}}if(s!==void 0){if(n===void 0||o===void 0||l===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:n,topSchemaRef:l,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}dt.getSubschema=tu;function ru(e,t,{dataProp:r,dataPropType:s,data:n,dataTypes:o,propertyName:l}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=t;if(r!==void 0){const{errorPath:u,dataPathArr:c,opts:p}=t,F=h.let("data",(0,Ze._)`${t.data}${(0,Ze.getProperty)(r)}`,!0);d(F),e.errorPath=(0,Ze.str)`${u}${(0,ws.getErrorPath)(r,s,p.jsPropertySyntax)}`,e.parentDataProperty=(0,Ze._)`${r}`,e.dataPathArr=[...c,e.parentDataProperty]}if(n!==void 0){const u=n instanceof Ze.Name?n:h.let("data",n,!0);d(u),l!==void 0&&(e.propertyName=l)}o&&(e.dataTypes=o);function d(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}dt.extendSubschemaData=ru;function nu(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:s,createErrors:n,allErrors:o}){s!==void 0&&(e.compositeRule=s),n!==void 0&&(e.createErrors=n),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}dt.extendSubschemaMode=nu;var Ce={},Ss=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var s,n,o;if(Array.isArray(t)){if(s=t.length,s!=r.length)return!1;for(n=s;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),s=o.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=s;n--!==0;){var l=o[n];if(!e(t[l],r[l]))return!1}return!0}return t!==t&&r!==r},As={exports:{}},lt=As.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var s=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};_r(t,s,n,e,"",e)};lt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};lt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};lt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};lt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _r(e,t,r,s,n,o,l,h,d,u){if(s&&typeof s=="object"&&!Array.isArray(s)){t(s,n,o,l,h,d,u);for(var c in s){var p=s[c];if(Array.isArray(p)){if(c in lt.arrayKeywords)for(var F=0;F<p.length;F++)_r(e,t,r,p[F],n+"/"+c+"/"+F,o,n,c,s,F)}else if(c in lt.propsKeywords){if(p&&typeof p=="object")for(var N in p)_r(e,t,r,p[N],n+"/"+c+"/"+su(N),o,n,c,s,N)}else(c in lt.keywords||e.allKeys&&!(c in lt.skipKeywords))&&_r(e,t,r,p,n+"/"+c,o,n,c,s)}r(s,n,o,l,h,d,u)}}function su(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Ce,"__esModule",{value:!0});Ce.getSchemaRefs=Ce.resolveUrl=Ce.normalizeId=Ce._getFullPath=Ce.getFullPath=Ce.inlineRef=void 0;const au=ce,ou=Ss,iu=As.exports,uu=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function lu(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Ur(e):t?Cs(e)<=t:!1}Ce.inlineRef=lu;const cu=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ur(e){for(const t in e){if(cu.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Ur)||typeof r=="object"&&Ur(r))return!0}return!1}function Cs(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!uu.has(r)&&(typeof e[r]=="object"&&(0,au.eachItem)(e[r],s=>t+=Cs(s)),t===1/0))return 1/0}return t}function Ds(e,t="",r){r!==!1&&(t=Ot(t));const s=e.parse(t);return Ps(e,s)}Ce.getFullPath=Ds;function Ps(e,t){return e.serialize(t).split("#")[0]+"#"}Ce._getFullPath=Ps;const du=/#\/?$/;function Ot(e){return e?e.replace(du,""):""}Ce.normalizeId=Ot;function fu(e,t,r){return r=Ot(r),e.resolve(t,r)}Ce.resolveUrl=fu;const hu=/^[a-z_][-a-z0-9._]*$/i;function mu(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:s}=this.opts,n=Ot(e[r]||t),o={"":n},l=Ds(s,n,!1),h={},d=new Set;return iu(e,{allKeys:!0},(p,F,N,w)=>{if(w===void 0)return;const A=l+F;let E=o[w];typeof p[r]=="string"&&(E=v.call(this,p[r])),D.call(this,p.$anchor),D.call(this,p.$dynamicAnchor),o[F]=E;function v(P){const j=this.opts.uriResolver.resolve;if(P=Ot(E?j(E,P):P),d.has(P))throw c(P);d.add(P);let M=this.refs[P];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?u(p,M.schema,P):P!==Ot(A)&&(P[0]==="#"?(u(p,h[P],P),h[P]=p):this.refs[P]=A),P}function D(P){if(typeof P=="string"){if(!hu.test(P))throw new Error(`invalid anchor "${P}"`);v.call(this,`#${P}`)}}}),h;function u(p,F,N){if(F!==void 0&&!ou(p,F))throw c(N)}function c(p){return new Error(`reference "${p}" resolves to more than one schema`)}}Ce.getSchemaRefs=mu;Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getData=Ke.KeywordCxt=Ke.validateFunctionCode=void 0;const Fs=Rt,Jn=ar,Qr=nt,gr=ar,pu=Ar,Wt=xe,Rr=dt,H=oe,ee=et,_u=Ce,st=ce,Yt=sr;function vu(e){if(Os(e)&&(Rs(e),Ns(e))){gu(e);return}ks(e,()=>(0,Fs.topBoolOrEmptySchema)(e))}Ke.validateFunctionCode=vu;function ks({gen:e,validateName:t,schema:r,schemaEnv:s,opts:n},o){n.code.es5?e.func(t,(0,H._)`${ee.default.data}, ${ee.default.valCxt}`,s.$async,()=>{e.code((0,H._)`"use strict"; ${Wn(r,n)}`),$u(e,n),e.code(o)}):e.func(t,(0,H._)`${ee.default.data}, ${yu(n)}`,s.$async,()=>e.code(Wn(r,n)).code(o))}function yu(e){return(0,H._)`{${ee.default.instancePath}="", ${ee.default.parentData}, ${ee.default.parentDataProperty}, ${ee.default.rootData}=${ee.default.data}${e.dynamicRef?(0,H._)`, ${ee.default.dynamicAnchors}={}`:H.nil}}={}`}function $u(e,t){e.if(ee.default.valCxt,()=>{e.var(ee.default.instancePath,(0,H._)`${ee.default.valCxt}.${ee.default.instancePath}`),e.var(ee.default.parentData,(0,H._)`${ee.default.valCxt}.${ee.default.parentData}`),e.var(ee.default.parentDataProperty,(0,H._)`${ee.default.valCxt}.${ee.default.parentDataProperty}`),e.var(ee.default.rootData,(0,H._)`${ee.default.valCxt}.${ee.default.rootData}`),t.dynamicRef&&e.var(ee.default.dynamicAnchors,(0,H._)`${ee.default.valCxt}.${ee.default.dynamicAnchors}`)},()=>{e.var(ee.default.instancePath,(0,H._)`""`),e.var(ee.default.parentData,(0,H._)`undefined`),e.var(ee.default.parentDataProperty,(0,H._)`undefined`),e.var(ee.default.rootData,ee.default.data),t.dynamicRef&&e.var(ee.default.dynamicAnchors,(0,H._)`{}`)})}function gu(e){const{schema:t,opts:r,gen:s}=e;ks(e,()=>{r.$comment&&t.$comment&&Ts(e),Au(e),s.let(ee.default.vErrors,null),s.let(ee.default.errors,0),r.unevaluated&&Eu(e),js(e),Pu(e)})}function Eu(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,H._)`${r}.evaluated`),t.if((0,H._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,H._)`${e.evaluated}.props`,(0,H._)`undefined`)),t.if((0,H._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,H._)`${e.evaluated}.items`,(0,H._)`undefined`))}function Wn(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,H._)`/*# sourceURL=${r} */`:H.nil}function bu(e,t){if(Os(e)&&(Rs(e),Ns(e))){wu(e,t);return}(0,Fs.boolOrEmptySchema)(e,t)}function Ns({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Os(e){return typeof e.schema!="boolean"}function wu(e,t){const{schema:r,gen:s,opts:n}=e;n.$comment&&r.$comment&&Ts(e),Cu(e),Du(e);const o=s.const("_errs",ee.default.errors);js(e,o),s.var(t,(0,H._)`${o} === ${ee.default.errors}`)}function Rs(e){(0,st.checkUnknownRules)(e),Su(e)}function js(e,t){if(e.opts.jtd)return Qn(e,[],!1,t);const r=(0,Jn.getSchemaTypes)(e.schema),s=(0,Jn.coerceAndCheckDataType)(e,r);Qn(e,r,!s,t)}function Su(e){const{schema:t,errSchemaPath:r,opts:s,self:n}=e;t.$ref&&s.ignoreKeywordsWithRef&&(0,st.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Au(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,st.checkStrictMode)(e,"default is ignored in the schema root")}function Cu(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,_u.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Du(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ts({gen:e,schemaEnv:t,schema:r,errSchemaPath:s,opts:n}){const o=r.$comment;if(n.$comment===!0)e.code((0,H._)`${ee.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){const l=(0,H.str)`${s}/$comment`,h=e.scopeValue("root",{ref:t.root});e.code((0,H._)`${ee.default.self}.opts.$comment(${o}, ${l}, ${h}.schema)`)}}function Pu(e){const{gen:t,schemaEnv:r,validateName:s,ValidationError:n,opts:o}=e;r.$async?t.if((0,H._)`${ee.default.errors} === 0`,()=>t.return(ee.default.data),()=>t.throw((0,H._)`new ${n}(${ee.default.vErrors})`)):(t.assign((0,H._)`${s}.errors`,ee.default.vErrors),o.unevaluated&&Fu(e),t.return((0,H._)`${ee.default.errors} === 0`))}function Fu({gen:e,evaluated:t,props:r,items:s}){r instanceof H.Name&&e.assign((0,H._)`${t}.props`,r),s instanceof H.Name&&e.assign((0,H._)`${t}.items`,s)}function Qn(e,t,r,s){const{gen:n,schema:o,data:l,allErrors:h,opts:d,self:u}=e,{RULES:c}=u;if(o.$ref&&(d.ignoreKeywordsWithRef||!(0,st.schemaHasRulesButRef)(o,c))){n.block(()=>Ms(e,"$ref",c.all.$ref.definition));return}d.jtd||ku(e,t),n.block(()=>{for(const F of c.rules)p(F);p(c.post)});function p(F){!(0,Qr.shouldUseGroup)(o,F)||(F.type?(n.if((0,gr.checkDataType)(F.type,l,d.strictNumbers)),Xn(e,F),t.length===1&&t[0]===F.type&&r&&(n.else(),(0,gr.reportTypeError)(e)),n.endIf()):Xn(e,F),h||n.if((0,H._)`${ee.default.errors} === ${s||0}`))}}function Xn(e,t){const{gen:r,schema:s,opts:{useDefaults:n}}=e;n&&(0,pu.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,Qr.shouldUseRule)(s,o)&&Ms(e,o.keyword,o.definition,t.type)})}function ku(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Nu(e,t),e.opts.allowUnionTypes||Ou(e,t),Ru(e,e.dataTypes))}function Nu(e,t){if(!!t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Zn(e.dataTypes,r)||Xr(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(r=>Zn(t,r))}}function Ou(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Xr(e,"use allowUnionTypes to allow union type keyword")}function Ru(e,t){const r=e.self.RULES.all;for(const s in r){const n=r[s];if(typeof n=="object"&&(0,Qr.shouldUseRule)(e.schema,n)){const{type:o}=n.definition;o.length&&!o.some(l=>ju(t,l))&&Xr(e,`missing type "${o.join(",")}" for keyword "${s}"`)}}}function ju(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Zn(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Xr(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,st.checkStrictMode)(e,t,e.opts.strictTypes)}class Is{constructor(t,r,s){if((0,Wt.validateKeywordUsage)(t,r,s),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=s,this.data=t.data,this.schema=t.schema[s],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,st.schemaRefOrVal)(t,this.schema,s,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Bs(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Wt.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${s} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ee.default.errors))}result(t,r,s){this.failResult((0,H.not)(t),r,s)}failResult(t,r,s){this.gen.if(t),s?s():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,H.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,H._)`${r} !== undefined && (${(0,H.or)(this.invalid$data(),t)})`)}error(t,r,s){if(r){this.setParams(r),this._error(t,s),this.setParams({});return}this._error(t,s)}_error(t,r){(t?Yt.reportExtraError:Yt.reportError)(this,this.def.error,r)}$dataError(){(0,Yt.reportError)(this,this.def.$dataError||Yt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Yt.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,s=H.nil){this.gen.block(()=>{this.check$data(t,s),r()})}check$data(t=H.nil,r=H.nil){if(!this.$data)return;const{gen:s,schemaCode:n,schemaType:o,def:l}=this;s.if((0,H.or)((0,H._)`${n} === undefined`,r)),t!==H.nil&&s.assign(t,!0),(o.length||l.validateSchema)&&(s.elseIf(this.invalid$data()),this.$dataError(),t!==H.nil&&s.assign(t,!1)),s.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:s,def:n,it:o}=this;return(0,H.or)(l(),h());function l(){if(s.length){if(!(r instanceof H.Name))throw new Error("ajv implementation error");const d=Array.isArray(s)?s:[s];return(0,H._)`${(0,gr.checkDataTypes)(d,r,o.opts.strictNumbers,gr.DataType.Wrong)}`}return H.nil}function h(){if(n.validateSchema){const d=t.scopeValue("validate$data",{ref:n.validateSchema});return(0,H._)`!${d}(${r})`}return H.nil}}subschema(t,r){const s=(0,Rr.getSubschema)(this.it,t);(0,Rr.extendSubschemaData)(s,this.it,t),(0,Rr.extendSubschemaMode)(s,t);const n=ot(De(De({},this.it),s),{items:void 0,props:void 0});return bu(n,r),n}mergeEvaluated(t,r){const{it:s,gen:n}=this;!s.opts.unevaluated||(s.props!==!0&&t.props!==void 0&&(s.props=st.mergeEvaluated.props(n,t.props,s.props,r)),s.items!==!0&&t.items!==void 0&&(s.items=st.mergeEvaluated.items(n,t.items,s.items,r)))}mergeValidEvaluated(t,r){const{it:s,gen:n}=this;if(s.opts.unevaluated&&(s.props!==!0||s.items!==!0))return n.if(r,()=>this.mergeEvaluated(t,H.Name)),!0}}Ke.KeywordCxt=Is;function Ms(e,t,r,s){const n=new Is(e,r,t);"code"in r?r.code(n,s):n.$data&&r.validate?(0,Wt.funcKeywordCode)(n,r):"macro"in r?(0,Wt.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Wt.funcKeywordCode)(n,r)}const Tu=/^\/(?:[^~]|~0|~1)*$/,Iu=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Bs(e,{dataLevel:t,dataNames:r,dataPathArr:s}){let n,o;if(e==="")return ee.default.rootData;if(e[0]==="/"){if(!Tu.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,o=ee.default.rootData}else{const u=Iu.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(n=u[2],n==="#"){if(c>=t)throw new Error(d("property/index",c));return s[t-c]}if(c>t)throw new Error(d("data",c));if(o=r[t-c],!n)return o}let l=o;const h=n.split("/");for(const u of h)u&&(o=(0,H._)`${o}${(0,H.getProperty)((0,st.unescapeJsonPointer)(u))}`,l=(0,H._)`${l} && ${o}`);return l;function d(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}Ke.getData=Bs;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});class Mu extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Cr.default=Mu;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});const jr=Ce;class Bu extends Error{constructor(t,r,s,n){super(n||`can't resolve reference ${s} from id ${r}`),this.missingRef=(0,jr.resolveUrl)(t,r,s),this.missingSchema=(0,jr.normalizeId)((0,jr.getFullPath)(t,this.missingRef))}}Dr.default=Bu;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.resolveSchema=je.getCompilingSchema=je.resolveRef=je.compileSchema=je.SchemaEnv=void 0;const qe=oe,Vu=Cr,_t=et,Le=Ce,xn=ce,qu=Ke;class Pr{constructor(t){var r;this.refs={},this.dynamicAnchors={};let s;typeof t.schema=="object"&&(s=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Le.normalizeId)(s==null?void 0:s[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=s==null?void 0:s.$async,this.refs={}}}je.SchemaEnv=Pr;function Zr(e){const t=Vs.call(this,e);if(t)return t;const r=(0,Le.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:s,lines:n}=this.opts.code,{ownProperties:o}=this.opts,l=new qe.CodeGen(this.scope,{es5:s,lines:n,ownProperties:o});let h;e.$async&&(h=l.scopeValue("Error",{ref:Vu.default,code:(0,qe._)`require("ajv/dist/runtime/validation_error").default`}));const d=l.scopeName("validate");e.validateName=d;const u={gen:l,allErrors:this.opts.allErrors,data:_t.default.data,parentData:_t.default.parentData,parentDataProperty:_t.default.parentDataProperty,dataNames:[_t.default.data],dataPathArr:[qe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,qe.stringify)(e.schema)}:{ref:e.schema}),validateName:d,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:qe.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,qe._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,qu.validateFunctionCode)(u),l.optimize(this.opts.code.optimize);const p=l.toString();c=`${l.scopeRefs(_t.default.scope)}return ${p}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const N=new Function(`${_t.default.self}`,`${_t.default.scope}`,c)(this,this.scope.get());if(this.scope.value(d,{ref:N}),N.errors=null,N.schema=e.schema,N.schemaEnv=e,e.$async&&(N.$async=!0),this.opts.code.source===!0&&(N.source={validateName:d,validateCode:p,scopeValues:l._values}),this.opts.unevaluated){const{props:w,items:A}=u;N.evaluated={props:w instanceof qe.Name?void 0:w,items:A instanceof qe.Name?void 0:A,dynamicProps:w instanceof qe.Name,dynamicItems:A instanceof qe.Name},N.source&&(N.source.evaluated=(0,qe.stringify)(N.evaluated))}return e.validate=N,e}catch(p){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),p}finally{this._compilations.delete(e)}}je.compileSchema=Zr;function Uu(e,t,r){var s;r=(0,Le.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let o=Ku.call(this,e,r);if(o===void 0){const l=(s=e.localRefs)===null||s===void 0?void 0:s[r],{schemaId:h}=this.opts;l&&(o=new Pr({schema:l,schemaId:h,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=zu.call(this,o)}je.resolveRef=Uu;function zu(e){return(0,Le.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Zr.call(this,e)}function Vs(e){for(const t of this._compilations)if(Lu(t,e))return t}je.getCompilingSchema=Vs;function Lu(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Ku(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Fr.call(this,e,t)}function Fr(e,t){const r=this.opts.uriResolver.parse(t),s=(0,Le._getFullPath)(this.opts.uriResolver,r);let n=(0,Le.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&s===n)return Tr.call(this,r,e);const o=(0,Le.normalizeId)(s),l=this.refs[o]||this.schemas[o];if(typeof l=="string"){const h=Fr.call(this,e,l);return typeof(h==null?void 0:h.schema)!="object"?void 0:Tr.call(this,r,h)}if(typeof(l==null?void 0:l.schema)=="object"){if(l.validate||Zr.call(this,l),o===(0,Le.normalizeId)(t)){const{schema:h}=l,{schemaId:d}=this.opts,u=h[d];return u&&(n=(0,Le.resolveUrl)(this.opts.uriResolver,n,u)),new Pr({schema:h,schemaId:d,root:e,baseId:n})}return Tr.call(this,r,l)}}je.resolveSchema=Fr;const Hu=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Tr(e,{baseId:t,schema:r,root:s}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const h of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const d=r[(0,xn.unescapeFragment)(h)];if(d===void 0)return;r=d;const u=typeof r=="object"&&r[this.opts.schemaId];!Hu.has(h)&&u&&(t=(0,Le.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,xn.schemaHasRulesButRef)(r,this.RULES)){const h=(0,Le.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=Fr.call(this,s,h)}const{schemaId:l}=this.opts;if(o=o||new Pr({schema:r,schemaId:l,root:s,baseId:t}),o.schema!==o.root.schema)return o}const Yu="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Gu="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ju="object",Wu=["$data"],Qu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Xu=!1;var Zu={$id:Yu,description:Gu,type:Ju,required:Wu,properties:Qu,additionalProperties:Xu},xr={},zr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,s){s(t)})(ms,function(r){function s(){for(var m=arguments.length,i=Array(m),_=0;_<m;_++)i[_]=arguments[_];if(i.length>1){i[0]=i[0].slice(0,-1);for(var C=i.length-1,S=1;S<C;++S)i[S]=i[S].slice(1,-1);return i[C]=i[C].slice(1),i.join("")}else return i[0]}function n(m){return"(?:"+m+")"}function o(m){return m===void 0?"undefined":m===null?"null":Object.prototype.toString.call(m).split(" ").pop().split("]").shift().toLowerCase()}function l(m){return m.toUpperCase()}function h(m){return m!=null?m instanceof Array?m:typeof m.length!="number"||m.split||m.setInterval||m.call?[m]:Array.prototype.slice.call(m):[]}function d(m,i){var _=m;if(i)for(var C in i)_[C]=i[C];return _}function u(m){var i="[A-Za-z]",_="[0-9]",C=s(_,"[A-Fa-f]"),S=n(n("%[EFef]"+C+"%"+C+C+"%"+C+C)+"|"+n("%[89A-Fa-f]"+C+"%"+C+C)+"|"+n("%"+C+C)),Y="[\\:\\/\\?\\#\\[\\]\\@]",G="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",le=s(Y,G),pe=m?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ee=m?"[\\uE000-\\uF8FF]":"[]",ue=s(i,_,"[\\-\\.\\_\\~]",pe);n(i+s(i,_,"[\\+\\-\\.]")+"*"),n(n(S+"|"+s(ue,G,"[\\:]"))+"*");var me=n(n("25[0-5]")+"|"+n("2[0-4]"+_)+"|"+n("1"+_+_)+"|"+n("0?[1-9]"+_)+"|0?0?"+_),be=n(me+"\\."+me+"\\."+me+"\\."+me),re=n(C+"{1,4}"),ve=n(n(re+"\\:"+re)+"|"+be),Se=n(n(re+"\\:")+"{6}"+ve),ye=n("\\:\\:"+n(re+"\\:")+"{5}"+ve),at=n(n(re)+"?\\:\\:"+n(re+"\\:")+"{4}"+ve),Je=n(n(n(re+"\\:")+"{0,1}"+re)+"?\\:\\:"+n(re+"\\:")+"{3}"+ve),We=n(n(n(re+"\\:")+"{0,2}"+re)+"?\\:\\:"+n(re+"\\:")+"{2}"+ve),Pt=n(n(n(re+"\\:")+"{0,3}"+re)+"?\\:\\:"+re+"\\:"+ve),mt=n(n(n(re+"\\:")+"{0,4}"+re)+"?\\:\\:"+ve),Me=n(n(n(re+"\\:")+"{0,5}"+re)+"?\\:\\:"+re),Qe=n(n(n(re+"\\:")+"{0,6}"+re)+"?\\:\\:"),pt=n([Se,ye,at,Je,We,Pt,mt,Me,Qe].join("|")),tt=n(n(ue+"|"+S)+"+");n("[vV]"+C+"+\\."+s(ue,G,"[\\:]")+"+"),n(n(S+"|"+s(ue,G))+"*");var Kt=n(S+"|"+s(ue,G,"[\\:\\@]"));return n(n(S+"|"+s(ue,G,"[\\@]"))+"+"),n(n(Kt+"|"+s("[\\/\\?]",Ee))+"*"),{NOT_SCHEME:new RegExp(s("[^]",i,_,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",ue,G),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",ue,G),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",ue,G),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",ue,G),"g"),NOT_QUERY:new RegExp(s("[^\\%]",ue,G,"[\\:\\@\\/\\?]",Ee),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",ue,G,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",ue,G),"g"),UNRESERVED:new RegExp(ue,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",ue,le),"g"),PCT_ENCODED:new RegExp(S,"g"),IPV4ADDRESS:new RegExp("^("+be+")$"),IPV6ADDRESS:new RegExp("^\\[?("+pt+")"+n(n("\\%25|\\%(?!"+C+"{2})")+"("+tt+")")+"?\\]?$")}}var c=u(!1),p=u(!0),F=function(){function m(i,_){var C=[],S=!0,Y=!1,G=void 0;try{for(var le=i[Symbol.iterator](),pe;!(S=(pe=le.next()).done)&&(C.push(pe.value),!(_&&C.length===_));S=!0);}catch(Ee){Y=!0,G=Ee}finally{try{!S&&le.return&&le.return()}finally{if(Y)throw G}}return C}return function(i,_){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return m(i,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(m){if(Array.isArray(m)){for(var i=0,_=Array(m.length);i<m.length;i++)_[i]=m[i];return _}else return Array.from(m)},w=2147483647,A=36,E=1,v=26,D=38,P=700,j=72,M=128,b="-",k=/^xn--/,I=/[^\0-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},fe=A-E,ie=Math.floor,J=String.fromCharCode;function B(m){throw new RangeError(L[m])}function V(m,i){for(var _=[],C=m.length;C--;)_[C]=i(m[C]);return _}function X(m,i){var _=m.split("@"),C="";_.length>1&&(C=_[0]+"@",m=_[1]),m=m.replace(K,".");var S=m.split("."),Y=V(S,i).join(".");return C+Y}function U(m){for(var i=[],_=0,C=m.length;_<C;){var S=m.charCodeAt(_++);if(S>=55296&&S<=56319&&_<C){var Y=m.charCodeAt(_++);(Y&64512)==56320?i.push(((S&1023)<<10)+(Y&1023)+65536):(i.push(S),_--)}else i.push(S)}return i}var x=function(i){return String.fromCodePoint.apply(String,N(i))},Z=function(i){return i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:A},T=function(i,_){return i+22+75*(i<26)-((_!=0)<<5)},$=function(i,_,C){var S=0;for(i=C?ie(i/P):i>>1,i+=ie(i/_);i>fe*v>>1;S+=A)i=ie(i/fe);return ie(S+(fe+1)*i/(i+D))},R=function(i){var _=[],C=i.length,S=0,Y=M,G=j,le=i.lastIndexOf(b);le<0&&(le=0);for(var pe=0;pe<le;++pe)i.charCodeAt(pe)>=128&&B("not-basic"),_.push(i.charCodeAt(pe));for(var Ee=le>0?le+1:0;Ee<C;){for(var ue=S,me=1,be=A;;be+=A){Ee>=C&&B("invalid-input");var re=Z(i.charCodeAt(Ee++));(re>=A||re>ie((w-S)/me))&&B("overflow"),S+=re*me;var ve=be<=G?E:be>=G+v?v:be-G;if(re<ve)break;var Se=A-ve;me>ie(w/Se)&&B("overflow"),me*=Se}var ye=_.length+1;G=$(S-ue,ye,ue==0),ie(S/ye)>w-Y&&B("overflow"),Y+=ie(S/ye),S%=ye,_.splice(S++,0,Y)}return String.fromCodePoint.apply(String,_)},g=function(i){var _=[];i=U(i);var C=i.length,S=M,Y=0,G=j,le=!0,pe=!1,Ee=void 0;try{for(var ue=i[Symbol.iterator](),me;!(le=(me=ue.next()).done);le=!0){var be=me.value;be<128&&_.push(J(be))}}catch(Ht){pe=!0,Ee=Ht}finally{try{!le&&ue.return&&ue.return()}finally{if(pe)throw Ee}}var re=_.length,ve=re;for(re&&_.push(b);ve<C;){var Se=w,ye=!0,at=!1,Je=void 0;try{for(var We=i[Symbol.iterator](),Pt;!(ye=(Pt=We.next()).done);ye=!0){var mt=Pt.value;mt>=S&&mt<Se&&(Se=mt)}}catch(Ht){at=!0,Je=Ht}finally{try{!ye&&We.return&&We.return()}finally{if(at)throw Je}}var Me=ve+1;Se-S>ie((w-Y)/Me)&&B("overflow"),Y+=(Se-S)*Me,S=Se;var Qe=!0,pt=!1,tt=void 0;try{for(var Kt=i[Symbol.iterator](),qn;!(Qe=(qn=Kt.next()).done);Qe=!0){var Un=qn.value;if(Un<S&&++Y>w&&B("overflow"),Un==S){for(var ur=Y,lr=A;;lr+=A){var cr=lr<=G?E:lr>=G+v?v:lr-G;if(ur<cr)break;var zn=ur-cr,Ln=A-cr;_.push(J(T(cr+zn%Ln,0))),ur=ie(zn/Ln)}_.push(J(T(ur,0))),G=$(Y,Me,ve==re),Y=0,++ve}}}catch(Ht){pt=!0,tt=Ht}finally{try{!Qe&&Kt.return&&Kt.return()}finally{if(pt)throw tt}}++Y,++S}return _.join("")},a=function(i){return X(i,function(_){return k.test(_)?R(_.slice(4).toLowerCase()):_})},f=function(i){return X(i,function(_){return I.test(_)?"xn--"+g(_):_})},O={version:"2.1.0",ucs2:{decode:U,encode:x},decode:R,encode:g,toASCII:f,toUnicode:a},q={};function z(m){var i=m.charCodeAt(0),_=void 0;return i<16?_="%0"+i.toString(16).toUpperCase():i<128?_="%"+i.toString(16).toUpperCase():i<2048?_="%"+(i>>6|192).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase():_="%"+(i>>12|224).toString(16).toUpperCase()+"%"+(i>>6&63|128).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase(),_}function W(m){for(var i="",_=0,C=m.length;_<C;){var S=parseInt(m.substr(_+1,2),16);if(S<128)i+=String.fromCharCode(S),_+=3;else if(S>=194&&S<224){if(C-_>=6){var Y=parseInt(m.substr(_+4,2),16);i+=String.fromCharCode((S&31)<<6|Y&63)}else i+=m.substr(_,6);_+=6}else if(S>=224){if(C-_>=9){var G=parseInt(m.substr(_+4,2),16),le=parseInt(m.substr(_+7,2),16);i+=String.fromCharCode((S&15)<<12|(G&63)<<6|le&63)}else i+=m.substr(_,9);_+=9}else i+=m.substr(_,3),_+=3}return i}function te(m,i){function _(C){var S=W(C);return S.match(i.UNRESERVED)?S:C}return m.scheme&&(m.scheme=String(m.scheme).replace(i.PCT_ENCODED,_).toLowerCase().replace(i.NOT_SCHEME,"")),m.userinfo!==void 0&&(m.userinfo=String(m.userinfo).replace(i.PCT_ENCODED,_).replace(i.NOT_USERINFO,z).replace(i.PCT_ENCODED,l)),m.host!==void 0&&(m.host=String(m.host).replace(i.PCT_ENCODED,_).toLowerCase().replace(i.NOT_HOST,z).replace(i.PCT_ENCODED,l)),m.path!==void 0&&(m.path=String(m.path).replace(i.PCT_ENCODED,_).replace(m.scheme?i.NOT_PATH:i.NOT_PATH_NOSCHEME,z).replace(i.PCT_ENCODED,l)),m.query!==void 0&&(m.query=String(m.query).replace(i.PCT_ENCODED,_).replace(i.NOT_QUERY,z).replace(i.PCT_ENCODED,l)),m.fragment!==void 0&&(m.fragment=String(m.fragment).replace(i.PCT_ENCODED,_).replace(i.NOT_FRAGMENT,z).replace(i.PCT_ENCODED,l)),m}function he(m){return m.replace(/^0*(.*)/,"$1")||"0"}function Fe(m,i){var _=m.match(i.IPV4ADDRESS)||[],C=F(_,2),S=C[1];return S?S.split(".").map(he).join("."):m}function bt(m,i){var _=m.match(i.IPV6ADDRESS)||[],C=F(_,3),S=C[1],Y=C[2];if(S){for(var G=S.toLowerCase().split("::").reverse(),le=F(G,2),pe=le[0],Ee=le[1],ue=Ee?Ee.split(":").map(he):[],me=pe.split(":").map(he),be=i.IPV4ADDRESS.test(me[me.length-1]),re=be?7:8,ve=me.length-re,Se=Array(re),ye=0;ye<re;++ye)Se[ye]=ue[ye]||me[ve+ye]||"";be&&(Se[re-1]=Fe(Se[re-1],i));var at=Se.reduce(function(Me,Qe,pt){if(!Qe||Qe==="0"){var tt=Me[Me.length-1];tt&&tt.index+tt.length===pt?tt.length++:Me.push({index:pt,length:1})}return Me},[]),Je=at.sort(function(Me,Qe){return Qe.length-Me.length})[0],We=void 0;if(Je&&Je.length>1){var Pt=Se.slice(0,Je.index),mt=Se.slice(Je.index+Je.length);We=Pt.join(":")+"::"+mt.join(":")}else We=Se.join(":");return Y&&(We+="%"+Y),We}else return m}var Mt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Bt="".match(/(){0}/)[1]===void 0;function Te(m){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={},C=i.iri!==!1?p:c;i.reference==="suffix"&&(m=(i.scheme?i.scheme+":":"")+"//"+m);var S=m.match(Mt);if(S){Bt?(_.scheme=S[1],_.userinfo=S[3],_.host=S[4],_.port=parseInt(S[5],10),_.path=S[6]||"",_.query=S[7],_.fragment=S[8],isNaN(_.port)&&(_.port=S[5])):(_.scheme=S[1]||void 0,_.userinfo=m.indexOf("@")!==-1?S[3]:void 0,_.host=m.indexOf("//")!==-1?S[4]:void 0,_.port=parseInt(S[5],10),_.path=S[6]||"",_.query=m.indexOf("?")!==-1?S[7]:void 0,_.fragment=m.indexOf("#")!==-1?S[8]:void 0,isNaN(_.port)&&(_.port=m.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?S[4]:void 0)),_.host&&(_.host=bt(Fe(_.host,C),C)),_.scheme===void 0&&_.userinfo===void 0&&_.host===void 0&&_.port===void 0&&!_.path&&_.query===void 0?_.reference="same-document":_.scheme===void 0?_.reference="relative":_.fragment===void 0?_.reference="absolute":_.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==_.reference&&(_.error=_.error||"URI is not a "+i.reference+" reference.");var Y=q[(i.scheme||_.scheme||"").toLowerCase()];if(!i.unicodeSupport&&(!Y||!Y.unicodeSupport)){if(_.host&&(i.domainHost||Y&&Y.domainHost))try{_.host=O.toASCII(_.host.replace(C.PCT_ENCODED,W).toLowerCase())}catch(G){_.error=_.error||"Host's domain name can not be converted to ASCII via punycode: "+G}te(_,c)}else te(_,C);Y&&Y.parse&&Y.parse(_,i)}else _.error=_.error||"URI can not be parsed.";return _}function Vt(m,i){var _=i.iri!==!1?p:c,C=[];return m.userinfo!==void 0&&(C.push(m.userinfo),C.push("@")),m.host!==void 0&&C.push(bt(Fe(String(m.host),_),_).replace(_.IPV6ADDRESS,function(S,Y,G){return"["+Y+(G?"%25"+G:"")+"]"})),(typeof m.port=="number"||typeof m.port=="string")&&(C.push(":"),C.push(String(m.port))),C.length?C.join(""):void 0}var wt=/^\.\.?\//,St=/^\/\.(\/|$)/,At=/^\/\.\.(\/|$)/,qt=/^\/?(?:.|\n)*?(?=\/|$)/;function Ye(m){for(var i=[];m.length;)if(m.match(wt))m=m.replace(wt,"");else if(m.match(St))m=m.replace(St,"/");else if(m.match(At))m=m.replace(At,"/"),i.pop();else if(m==="."||m==="..")m="";else{var _=m.match(qt);if(_){var C=_[0];m=m.slice(C.length),i.push(C)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function Oe(m){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=i.iri?p:c,C=[],S=q[(i.scheme||m.scheme||"").toLowerCase()];if(S&&S.serialize&&S.serialize(m,i),m.host&&!_.IPV6ADDRESS.test(m.host)){if(i.domainHost||S&&S.domainHost)try{m.host=i.iri?O.toUnicode(m.host):O.toASCII(m.host.replace(_.PCT_ENCODED,W).toLowerCase())}catch(le){m.error=m.error||"Host's domain name can not be converted to "+(i.iri?"Unicode":"ASCII")+" via punycode: "+le}}te(m,_),i.reference!=="suffix"&&m.scheme&&(C.push(m.scheme),C.push(":"));var Y=Vt(m,i);if(Y!==void 0&&(i.reference!=="suffix"&&C.push("//"),C.push(Y),m.path&&m.path.charAt(0)!=="/"&&C.push("/")),m.path!==void 0){var G=m.path;!i.absolutePath&&(!S||!S.absolutePath)&&(G=Ye(G)),Y===void 0&&(G=G.replace(/^\/\//,"/%2F")),C.push(G)}return m.query!==void 0&&(C.push("?"),C.push(m.query)),m.fragment!==void 0&&(C.push("#"),C.push(m.fragment)),C.join("")}function Ct(m,i){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments[3],S={};return C||(m=Te(Oe(m,_),_),i=Te(Oe(i,_),_)),_=_||{},!_.tolerant&&i.scheme?(S.scheme=i.scheme,S.userinfo=i.userinfo,S.host=i.host,S.port=i.port,S.path=Ye(i.path||""),S.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(S.userinfo=i.userinfo,S.host=i.host,S.port=i.port,S.path=Ye(i.path||""),S.query=i.query):(i.path?(i.path.charAt(0)==="/"?S.path=Ye(i.path):((m.userinfo!==void 0||m.host!==void 0||m.port!==void 0)&&!m.path?S.path="/"+i.path:m.path?S.path=m.path.slice(0,m.path.lastIndexOf("/")+1)+i.path:S.path=i.path,S.path=Ye(S.path)),S.query=i.query):(S.path=m.path,i.query!==void 0?S.query=i.query:S.query=m.query),S.userinfo=m.userinfo,S.host=m.host,S.port=m.port),S.scheme=m.scheme),S.fragment=i.fragment,S}function Ut(m,i,_){var C=d({scheme:"null"},_);return Oe(Ct(Te(m,C),Te(i,C),C,!0),C)}function ft(m,i){return typeof m=="string"?m=Oe(Te(m,i),i):o(m)==="object"&&(m=Te(Oe(m,i),i)),m}function zt(m,i,_){return typeof m=="string"?m=Oe(Te(m,_),_):o(m)==="object"&&(m=Oe(m,_)),typeof i=="string"?i=Oe(Te(i,_),_):o(i)==="object"&&(i=Oe(i,_)),m===i}function ir(m,i){return m&&m.toString().replace(!i||!i.iri?c.ESCAPE:p.ESCAPE,z)}function Ie(m,i){return m&&m.toString().replace(!i||!i.iri?c.PCT_ENCODED:p.PCT_ENCODED,W)}var ht={scheme:"http",domainHost:!0,parse:function(i,_){return i.host||(i.error=i.error||"HTTP URIs must have a host."),i},serialize:function(i,_){var C=String(i.scheme).toLowerCase()==="https";return(i.port===(C?443:80)||i.port==="")&&(i.port=void 0),i.path||(i.path="/"),i}},On={scheme:"https",domainHost:ht.domainHost,parse:ht.parse,serialize:ht.serialize};function Rn(m){return typeof m.secure=="boolean"?m.secure:String(m.scheme).toLowerCase()==="wss"}var Lt={scheme:"ws",domainHost:!0,parse:function(i,_){var C=i;return C.secure=Rn(C),C.resourceName=(C.path||"/")+(C.query?"?"+C.query:""),C.path=void 0,C.query=void 0,C},serialize:function(i,_){if((i.port===(Rn(i)?443:80)||i.port==="")&&(i.port=void 0),typeof i.secure=="boolean"&&(i.scheme=i.secure?"wss":"ws",i.secure=void 0),i.resourceName){var C=i.resourceName.split("?"),S=F(C,2),Y=S[0],G=S[1];i.path=Y&&Y!=="/"?Y:void 0,i.query=G,i.resourceName=void 0}return i.fragment=void 0,i}},jn={scheme:"wss",domainHost:Lt.domainHost,parse:Lt.parse,serialize:Lt.serialize},Xs={},Tn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ge="[0-9A-Fa-f]",Zs=n(n("%[EFef]"+Ge+"%"+Ge+Ge+"%"+Ge+Ge)+"|"+n("%[89A-Fa-f]"+Ge+"%"+Ge+Ge)+"|"+n("%"+Ge+Ge)),xs="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ea="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ta=s(ea,'[\\"\\\\]'),ra="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",na=new RegExp(Tn,"g"),Dt=new RegExp(Zs,"g"),sa=new RegExp(s("[^]",xs,"[\\.]",'[\\"]',ta),"g"),In=new RegExp(s("[^]",Tn,ra),"g"),aa=In;function Nr(m){var i=W(m);return i.match(na)?i:m}var Mn={scheme:"mailto",parse:function(i,_){var C=i,S=C.to=C.path?C.path.split(","):[];if(C.path=void 0,C.query){for(var Y=!1,G={},le=C.query.split("&"),pe=0,Ee=le.length;pe<Ee;++pe){var ue=le[pe].split("=");switch(ue[0]){case"to":for(var me=ue[1].split(","),be=0,re=me.length;be<re;++be)S.push(me[be]);break;case"subject":C.subject=Ie(ue[1],_);break;case"body":C.body=Ie(ue[1],_);break;default:Y=!0,G[Ie(ue[0],_)]=Ie(ue[1],_);break}}Y&&(C.headers=G)}C.query=void 0;for(var ve=0,Se=S.length;ve<Se;++ve){var ye=S[ve].split("@");if(ye[0]=Ie(ye[0]),_.unicodeSupport)ye[1]=Ie(ye[1],_).toLowerCase();else try{ye[1]=O.toASCII(Ie(ye[1],_).toLowerCase())}catch(at){C.error=C.error||"Email address's domain name can not be converted to ASCII via punycode: "+at}S[ve]=ye.join("@")}return C},serialize:function(i,_){var C=i,S=h(i.to);if(S){for(var Y=0,G=S.length;Y<G;++Y){var le=String(S[Y]),pe=le.lastIndexOf("@"),Ee=le.slice(0,pe).replace(Dt,Nr).replace(Dt,l).replace(sa,z),ue=le.slice(pe+1);try{ue=_.iri?O.toUnicode(ue):O.toASCII(Ie(ue,_).toLowerCase())}catch(ve){C.error=C.error||"Email address's domain name can not be converted to "+(_.iri?"Unicode":"ASCII")+" via punycode: "+ve}S[Y]=Ee+"@"+ue}C.path=S.join(",")}var me=i.headers=i.headers||{};i.subject&&(me.subject=i.subject),i.body&&(me.body=i.body);var be=[];for(var re in me)me[re]!==Xs[re]&&be.push(re.replace(Dt,Nr).replace(Dt,l).replace(In,z)+"="+me[re].replace(Dt,Nr).replace(Dt,l).replace(aa,z));return be.length&&(C.query=be.join("&")),C}},oa=/^([^\:]+)\:(.*)/,Bn={scheme:"urn",parse:function(i,_){var C=i.path&&i.path.match(oa),S=i;if(C){var Y=_.scheme||S.scheme||"urn",G=C[1].toLowerCase(),le=C[2],pe=Y+":"+(_.nid||G),Ee=q[pe];S.nid=G,S.nss=le,S.path=void 0,Ee&&(S=Ee.parse(S,_))}else S.error=S.error||"URN can not be parsed.";return S},serialize:function(i,_){var C=_.scheme||i.scheme||"urn",S=i.nid,Y=C+":"+(_.nid||S),G=q[Y];G&&(i=G.serialize(i,_));var le=i,pe=i.nss;return le.path=(S||_.nid)+":"+pe,le}},ia=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Vn={scheme:"urn:uuid",parse:function(i,_){var C=i;return C.uuid=C.nss,C.nss=void 0,!_.tolerant&&(!C.uuid||!C.uuid.match(ia))&&(C.error=C.error||"UUID is not valid."),C},serialize:function(i,_){var C=i;return C.nss=(i.uuid||"").toLowerCase(),C}};q[ht.scheme]=ht,q[On.scheme]=On,q[Lt.scheme]=Lt,q[jn.scheme]=jn,q[Mn.scheme]=Mn,q[Bn.scheme]=Bn,q[Vn.scheme]=Vn,r.SCHEMES=q,r.pctEncChar=z,r.pctDecChars=W,r.parse=Te,r.removeDotSegments=Ye,r.serialize=Oe,r.resolveComponents=Ct,r.resolve=Ut,r.normalize=ft,r.equal=zt,r.escapeComponent=ir,r.unescapeComponent=Ie,Object.defineProperty(r,"__esModule",{value:!0})})})(zr,zr.exports);Object.defineProperty(xr,"__esModule",{value:!0});const qs=zr.exports;qs.code='require("ajv/dist/runtime/uri").default';xr.default=qs;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ke;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=oe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const s=Cr,n=Dr,o=gt,l=je,h=oe,d=Ce,u=ar,c=ce,p=Zu,F=xr,N=(T,$)=>new RegExp(T,$);N.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],A=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},D=200;function P(T){var $,R,g,a,f,O,q,z,W,te,he,Fe,bt,Mt,Bt,Te,Vt,wt,St,At,qt,Ye,Oe,Ct,Ut;const ft=T.strict,zt=($=T.code)===null||$===void 0?void 0:$.optimize,ir=zt===!0||zt===void 0?1:zt||0,Ie=(g=(R=T.code)===null||R===void 0?void 0:R.regExp)!==null&&g!==void 0?g:N,ht=(a=T.uriResolver)!==null&&a!==void 0?a:F.default;return{strictSchema:(O=(f=T.strictSchema)!==null&&f!==void 0?f:ft)!==null&&O!==void 0?O:!0,strictNumbers:(z=(q=T.strictNumbers)!==null&&q!==void 0?q:ft)!==null&&z!==void 0?z:!0,strictTypes:(te=(W=T.strictTypes)!==null&&W!==void 0?W:ft)!==null&&te!==void 0?te:"log",strictTuples:(Fe=(he=T.strictTuples)!==null&&he!==void 0?he:ft)!==null&&Fe!==void 0?Fe:"log",strictRequired:(Mt=(bt=T.strictRequired)!==null&&bt!==void 0?bt:ft)!==null&&Mt!==void 0?Mt:!1,code:T.code?ot(De({},T.code),{optimize:ir,regExp:Ie}):{optimize:ir,regExp:Ie},loopRequired:(Bt=T.loopRequired)!==null&&Bt!==void 0?Bt:D,loopEnum:(Te=T.loopEnum)!==null&&Te!==void 0?Te:D,meta:(Vt=T.meta)!==null&&Vt!==void 0?Vt:!0,messages:(wt=T.messages)!==null&&wt!==void 0?wt:!0,inlineRefs:(St=T.inlineRefs)!==null&&St!==void 0?St:!0,schemaId:(At=T.schemaId)!==null&&At!==void 0?At:"$id",addUsedSchema:(qt=T.addUsedSchema)!==null&&qt!==void 0?qt:!0,validateSchema:(Ye=T.validateSchema)!==null&&Ye!==void 0?Ye:!0,validateFormats:(Oe=T.validateFormats)!==null&&Oe!==void 0?Oe:!0,unicodeRegExp:(Ct=T.unicodeRegExp)!==null&&Ct!==void 0?Ct:!0,int32range:(Ut=T.int32range)!==null&&Ut!==void 0?Ut:!0,uriResolver:ht}}class j{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts=De(De({},$),P($));const{es5:R,lines:g}=this.opts.code;this.scope=new h.ValueScope({scope:{},prefixes:A,es5:R,lines:g}),this.logger=ie($.logger);const a=$.validateFormats;$.validateFormats=!1,this.RULES=(0,o.getRules)(),M.call(this,E,$,"NOT SUPPORTED"),M.call(this,v,$,"DEPRECATED","warn"),this._metaOpts=L.call(this),$.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&K.call(this,$.keywords),typeof $.meta=="object"&&this.addMetaSchema($.meta),k.call(this),$.validateFormats=a}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:R,schemaId:g}=this.opts;let a=p;g==="id"&&(a=De({},p),a.id=a.$id,delete a.$id),R&&$&&this.addMetaSchema(a,a[g],!1)}defaultMeta(){const{meta:$,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof $=="object"?$[R]||$:void 0}validate($,R){let g;if(typeof $=="string"){if(g=this.getSchema($),!g)throw new Error(`no schema with key or ref "${$}"`)}else g=this.compile($);const a=g(R);return"$async"in g||(this.errors=g.errors),a}compile($,R){const g=this._addSchema($,R);return g.validate||this._compileSchemaEnv(g)}compileAsync($,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:g}=this.opts;return a.call(this,$,R);async function a(te,he){await f.call(this,te.$schema);const Fe=this._addSchema(te,he);return Fe.validate||O.call(this,Fe)}async function f(te){te&&!this.getSchema(te)&&await a.call(this,{$ref:te},!0)}async function O(te){try{return this._compileSchemaEnv(te)}catch(he){if(!(he instanceof n.default))throw he;return q.call(this,he),await z.call(this,he.missingSchema),O.call(this,te)}}function q({missingSchema:te,missingRef:he}){if(this.refs[te])throw new Error(`AnySchema ${te} is loaded but ${he} cannot be resolved`)}async function z(te){const he=await W.call(this,te);this.refs[te]||await f.call(this,he.$schema),this.refs[te]||this.addSchema(he,te,R)}async function W(te){const he=this._loading[te];if(he)return he;try{return await(this._loading[te]=g(te))}finally{delete this._loading[te]}}}addSchema($,R,g,a=this.opts.validateSchema){if(Array.isArray($)){for(const O of $)this.addSchema(O,void 0,g,a);return this}let f;if(typeof $=="object"){const{schemaId:O}=this.opts;if(f=$[O],f!==void 0&&typeof f!="string")throw new Error(`schema ${O} must be string`)}return R=(0,d.normalizeId)(R||f),this._checkUnique(R),this.schemas[R]=this._addSchema($,g,R,a,!0),this}addMetaSchema($,R,g=this.opts.validateSchema){return this.addSchema($,R,!0,g),this}validateSchema($,R){if(typeof $=="boolean")return!0;let g;if(g=$.$schema,g!==void 0&&typeof g!="string")throw new Error("$schema must be a string");if(g=g||this.opts.defaultMeta||this.defaultMeta(),!g)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const a=this.validate(g,$);if(!a&&R){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return a}getSchema($){let R;for(;typeof(R=b.call(this,$))=="string";)$=R;if(R===void 0){const{schemaId:g}=this.opts,a=new l.SchemaEnv({schema:{},schemaId:g});if(R=l.resolveSchema.call(this,a,$),!R)return;this.refs[$]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=b.call(this,$);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{const R=$;this._cache.delete(R);let g=$[this.opts.schemaId];return g&&(g=(0,d.normalizeId)(g),delete this.schemas[g],delete this.refs[g]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const R of $)this.addKeyword(R);return this}addKeyword($,R){let g;if(typeof $=="string")g=$,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=g);else if(typeof $=="object"&&R===void 0){if(R=$,g=R.keyword,Array.isArray(g)&&!g.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,g,R),!R)return(0,c.eachItem)(g,f=>V.call(this,f)),this;U.call(this,R);const a=ot(De({},R),{type:(0,u.getJSONTypes)(R.type),schemaType:(0,u.getJSONTypes)(R.schemaType)});return(0,c.eachItem)(g,a.type.length===0?f=>V.call(this,f,a):f=>a.type.forEach(O=>V.call(this,f,a,O))),this}getKeyword($){const R=this.RULES.all[$];return typeof R=="object"?R.definition:!!R}removeKeyword($){const{RULES:R}=this;delete R.keywords[$],delete R.all[$];for(const g of R.rules){const a=g.rules.findIndex(f=>f.keyword===$);a>=0&&g.rules.splice(a,1)}return this}addFormat($,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[$]=R,this}errorsText($=this.errors,{separator:R=", ",dataVar:g="data"}={}){return!$||$.length===0?"No errors":$.map(a=>`${g}${a.instancePath} ${a.message}`).reduce((a,f)=>a+R+f)}$dataMetaSchema($,R){const g=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const a of R){const f=a.split("/").slice(1);let O=$;for(const q of f)O=O[q];for(const q in g){const z=g[q];if(typeof z!="object")continue;const{$data:W}=z.definition,te=O[q];W&&te&&(O[q]=Z(te))}}return $}_removeAllSchemas($,R){for(const g in $){const a=$[g];(!R||R.test(g))&&(typeof a=="string"?delete $[g]:a&&!a.meta&&(this._cache.delete(a.schema),delete $[g]))}}_addSchema($,R,g,a=this.opts.validateSchema,f=this.opts.addUsedSchema){let O;const{schemaId:q}=this.opts;if(typeof $=="object")O=$[q];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof $!="boolean")throw new Error("schema must be object or boolean")}let z=this._cache.get($);if(z!==void 0)return z;g=(0,d.normalizeId)(O||g);const W=d.getSchemaRefs.call(this,$,g);return z=new l.SchemaEnv({schema:$,schemaId:q,meta:R,baseId:g,localRefs:W}),this._cache.set(z.schema,z),f&&!g.startsWith("#")&&(g&&this._checkUnique(g),this.refs[g]=z),a&&this.validateSchema($,!0),z}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):l.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const R=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,$)}finally{this.opts=R}}}e.default=j,j.ValidationError=s.default,j.MissingRefError=n.default;function M(T,$,R,g="error"){for(const a in T){const f=a;f in $&&this.logger[g](`${R}: option ${a}. ${T[f]}`)}}function b(T){return T=(0,d.normalizeId)(T),this.schemas[T]||this.refs[T]}function k(){const T=this.opts.schemas;if(!!T)if(Array.isArray(T))this.addSchema(T);else for(const $ in T)this.addSchema(T[$],$)}function I(){for(const T in this.opts.formats){const $=this.opts.formats[T];$&&this.addFormat(T,$)}}function K(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in T){const R=T[$];R.keyword||(R.keyword=$),this.addKeyword(R)}}function L(){const T=De({},this.opts);for(const $ of w)delete T[$];return T}const fe={log(){},warn(){},error(){}};function ie(T){if(T===!1)return fe;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}const J=/^[a-z_$][a-z0-9_$:-]*$/i;function B(T,$){const{RULES:R}=this;if((0,c.eachItem)(T,g=>{if(R.keywords[g])throw new Error(`Keyword ${g} is already defined`);if(!J.test(g))throw new Error(`Keyword ${g} has invalid name`)}),!!$&&$.$data&&!("code"in $||"validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function V(T,$,R){var g;const a=$==null?void 0:$.post;if(R&&a)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let O=a?f.post:f.rules.find(({type:z})=>z===R);if(O||(O={type:R,rules:[]},f.rules.push(O)),f.keywords[T]=!0,!$)return;const q={keyword:T,definition:ot(De({},$),{type:(0,u.getJSONTypes)($.type),schemaType:(0,u.getJSONTypes)($.schemaType)})};$.before?X.call(this,O,q,$.before):O.rules.push(q),f.all[T]=q,(g=$.implements)===null||g===void 0||g.forEach(z=>this.addKeyword(z))}function X(T,$,R){const g=T.rules.findIndex(a=>a.keyword===R);g>=0?T.rules.splice(g,0,$):(T.rules.push($),this.logger.warn(`rule ${R} is not defined`))}function U(T){let{metaSchema:$}=T;$!==void 0&&(T.$data&&this.opts.$data&&($=Z($)),T.validateSchema=this.compile($,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Z(T){return{anyOf:[T,x]}}})(_s);var en={},tn={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});const xu={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};rn.default=xu;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.callRef=Et.getValidate=void 0;const el=Dr,es=ae,Re=oe,kt=et,ts=je,dr=ce,tl={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:s}=e,{baseId:n,schemaEnv:o,validateName:l,opts:h,self:d}=s,{root:u}=o;if((r==="#"||r==="#/")&&n===u.baseId)return p();const c=ts.resolveRef.call(d,u,n,r);if(c===void 0)throw new el.default(s.opts.uriResolver,n,r);if(c instanceof ts.SchemaEnv)return F(c);return N(c);function p(){if(o===u)return vr(e,l,o,o.$async);const w=t.scopeValue("root",{ref:u});return vr(e,(0,Re._)`${w}.validate`,u,u.$async)}function F(w){const A=Us(e,w);vr(e,A,w,w.$async)}function N(w){const A=t.scopeValue("schema",h.code.source===!0?{ref:w,code:(0,Re.stringify)(w)}:{ref:w}),E=t.name("valid"),v=e.subschema({schema:w,dataTypes:[],schemaPath:Re.nil,topSchemaRef:A,errSchemaPath:r},E);e.mergeEvaluated(v),e.ok(E)}}};function Us(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Re._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Et.getValidate=Us;function vr(e,t,r,s){const{gen:n,it:o}=e,{allErrors:l,schemaEnv:h,opts:d}=o,u=d.passContext?kt.default.this:Re.nil;s?c():p();function c(){if(!h.$async)throw new Error("async schema referenced by sync schema");const w=n.let("valid");n.try(()=>{n.code((0,Re._)`await ${(0,es.callValidateCode)(e,t,u)}`),N(t),l||n.assign(w,!0)},A=>{n.if((0,Re._)`!(${A} instanceof ${o.ValidationError})`,()=>n.throw(A)),F(A),l||n.assign(w,!1)}),e.ok(w)}function p(){e.result((0,es.callValidateCode)(e,t,u),()=>N(t),()=>F(t))}function F(w){const A=(0,Re._)`${w}.errors`;n.assign(kt.default.vErrors,(0,Re._)`${kt.default.vErrors} === null ? ${A} : ${kt.default.vErrors}.concat(${A})`),n.assign(kt.default.errors,(0,Re._)`${kt.default.vErrors}.length`)}function N(w){var A;if(!o.opts.unevaluated)return;const E=(A=r==null?void 0:r.validate)===null||A===void 0?void 0:A.evaluated;if(o.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(o.props=dr.mergeEvaluated.props(n,E.props,o.props));else{const v=n.var("props",(0,Re._)`${w}.evaluated.props`);o.props=dr.mergeEvaluated.props(n,v,o.props,Re.Name)}if(o.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(o.items=dr.mergeEvaluated.items(n,E.items,o.items));else{const v=n.var("items",(0,Re._)`${w}.evaluated.items`);o.items=dr.mergeEvaluated.items(n,v,o.items,Re.Name)}}}Et.callRef=vr;Et.default=tl;Object.defineProperty(tn,"__esModule",{value:!0});const rl=rn,nl=Et,sl=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",rl.default,nl.default];tn.default=sl;var nn={},sn={};Object.defineProperty(sn,"__esModule",{value:!0});const Er=oe,ut=Er.operators,br={maximum:{okStr:"<=",ok:ut.LTE,fail:ut.GT},minimum:{okStr:">=",ok:ut.GTE,fail:ut.LT},exclusiveMaximum:{okStr:"<",ok:ut.LT,fail:ut.GTE},exclusiveMinimum:{okStr:">",ok:ut.GT,fail:ut.LTE}},al={message:({keyword:e,schemaCode:t})=>(0,Er.str)`must be ${br[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Er._)`{comparison: ${br[e].okStr}, limit: ${t}}`},ol={keyword:Object.keys(br),type:"number",schemaType:"number",$data:!0,error:al,code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data((0,Er._)`${r} ${br[t].fail} ${s} || isNaN(${r})`)}};sn.default=ol;var an={};Object.defineProperty(an,"__esModule",{value:!0});const Qt=oe,il={message:({schemaCode:e})=>(0,Qt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Qt._)`{multipleOf: ${e}}`},ul={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:il,code(e){const{gen:t,data:r,schemaCode:s,it:n}=e,o=n.opts.multipleOfPrecision,l=t.let("res"),h=o?(0,Qt._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${o}`:(0,Qt._)`${l} !== parseInt(${l})`;e.fail$data((0,Qt._)`(${s} === 0 || (${l} = ${r}/${s}, ${h}))`)}};an.default=ul;var on={},un={};Object.defineProperty(un,"__esModule",{value:!0});function zs(e){const t=e.length;let r=0,s=0,n;for(;s<t;)r++,n=e.charCodeAt(s++),n>=55296&&n<=56319&&s<t&&(n=e.charCodeAt(s),(n&64512)===56320&&s++);return r}un.default=zs;zs.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(on,"__esModule",{value:!0});const yt=oe,ll=ce,cl=un,dl={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,yt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,yt._)`{limit: ${e}}`},fl={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:dl,code(e){const{keyword:t,data:r,schemaCode:s,it:n}=e,o=t==="maxLength"?yt.operators.GT:yt.operators.LT,l=n.opts.unicode===!1?(0,yt._)`${r}.length`:(0,yt._)`${(0,ll.useFunc)(e.gen,cl.default)}(${r})`;e.fail$data((0,yt._)`${l} ${o} ${s}`)}};on.default=fl;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});const hl=ae,wr=oe,ml={message:({schemaCode:e})=>(0,wr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,wr._)`{pattern: ${e}}`},pl={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ml,code(e){const{data:t,$data:r,schema:s,schemaCode:n,it:o}=e,l=o.opts.unicodeRegExp?"u":"",h=r?(0,wr._)`(new RegExp(${n}, ${l}))`:(0,hl.usePattern)(e,s);e.fail$data((0,wr._)`!${h}.test(${t})`)}};ln.default=pl;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});const Xt=oe,_l={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Xt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Xt._)`{limit: ${e}}`},vl={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_l,code(e){const{keyword:t,data:r,schemaCode:s}=e,n=t==="maxProperties"?Xt.operators.GT:Xt.operators.LT;e.fail$data((0,Xt._)`Object.keys(${r}).length ${n} ${s}`)}};cn.default=vl;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});const Gt=ae,Zt=oe,yl=ce,$l={message:({params:{missingProperty:e}})=>(0,Zt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Zt._)`{missingProperty: ${e}}`},gl={keyword:"required",type:"object",schemaType:"array",$data:!0,error:$l,code(e){const{gen:t,schema:r,schemaCode:s,data:n,$data:o,it:l}=e,{opts:h}=l;if(!o&&r.length===0)return;const d=r.length>=h.loopRequired;if(l.allErrors?u():c(),h.strictRequired){const N=e.parentSchema.properties,{definedProperties:w}=e.it;for(const A of r)if((N==null?void 0:N[A])===void 0&&!w.has(A)){const E=l.schemaEnv.baseId+l.errSchemaPath,v=`required property "${A}" is not defined at "${E}" (strictRequired)`;(0,yl.checkStrictMode)(l,v,l.opts.strictRequired)}}function u(){if(d||o)e.block$data(Zt.nil,p);else for(const N of r)(0,Gt.checkReportMissingProp)(e,N)}function c(){const N=t.let("missing");if(d||o){const w=t.let("valid",!0);e.block$data(w,()=>F(N,w)),e.ok(w)}else t.if((0,Gt.checkMissingProp)(e,r,N)),(0,Gt.reportMissingProp)(e,N),t.else()}function p(){t.forOf("prop",s,N=>{e.setParams({missingProperty:N}),t.if((0,Gt.noPropertyInData)(t,n,N,h.ownProperties),()=>e.error())})}function F(N,w){e.setParams({missingProperty:N}),t.forOf(N,s,()=>{t.assign(w,(0,Gt.propertyInData)(t,n,N,h.ownProperties)),t.if((0,Zt.not)(w),()=>{e.error(),t.break()})},Zt.nil)}}};dn.default=gl;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});const xt=oe,El={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,xt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,xt._)`{limit: ${e}}`},bl={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:El,code(e){const{keyword:t,data:r,schemaCode:s}=e,n=t==="maxItems"?xt.operators.GT:xt.operators.LT;e.fail$data((0,xt._)`${r}.length ${n} ${s}`)}};fn.default=bl;var hn={},or={};Object.defineProperty(or,"__esModule",{value:!0});const Ls=Ss;Ls.code='require("ajv/dist/runtime/equal").default';or.default=Ls;Object.defineProperty(hn,"__esModule",{value:!0});const Ir=ar,Ae=oe,wl=ce,Sl=or,Al={message:({params:{i:e,j:t}})=>(0,Ae.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ae._)`{i: ${e}, j: ${t}}`},Cl={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Al,code(e){const{gen:t,data:r,$data:s,schema:n,parentSchema:o,schemaCode:l,it:h}=e;if(!s&&!n)return;const d=t.let("valid"),u=o.items?(0,Ir.getSchemaTypes)(o.items):[];e.block$data(d,c,(0,Ae._)`${l} === false`),e.ok(d);function c(){const w=t.let("i",(0,Ae._)`${r}.length`),A=t.let("j");e.setParams({i:w,j:A}),t.assign(d,!0),t.if((0,Ae._)`${w} > 1`,()=>(p()?F:N)(w,A))}function p(){return u.length>0&&!u.some(w=>w==="object"||w==="array")}function F(w,A){const E=t.name("item"),v=(0,Ir.checkDataTypes)(u,E,h.opts.strictNumbers,Ir.DataType.Wrong),D=t.const("indices",(0,Ae._)`{}`);t.for((0,Ae._)`;${w}--;`,()=>{t.let(E,(0,Ae._)`${r}[${w}]`),t.if(v,(0,Ae._)`continue`),u.length>1&&t.if((0,Ae._)`typeof ${E} == "string"`,(0,Ae._)`${E} += "_"`),t.if((0,Ae._)`typeof ${D}[${E}] == "number"`,()=>{t.assign(A,(0,Ae._)`${D}[${E}]`),e.error(),t.assign(d,!1).break()}).code((0,Ae._)`${D}[${E}] = ${w}`)})}function N(w,A){const E=(0,wl.useFunc)(t,Sl.default),v=t.name("outer");t.label(v).for((0,Ae._)`;${w}--;`,()=>t.for((0,Ae._)`${A} = ${w}; ${A}--;`,()=>t.if((0,Ae._)`${E}(${r}[${w}], ${r}[${A}])`,()=>{e.error(),t.assign(d,!1).break(v)})))}}};hn.default=Cl;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});const Lr=oe,Dl=ce,Pl=or,Fl={message:"must be equal to constant",params:({schemaCode:e})=>(0,Lr._)`{allowedValue: ${e}}`},kl={keyword:"const",$data:!0,error:Fl,code(e){const{gen:t,data:r,$data:s,schemaCode:n,schema:o}=e;s||o&&typeof o=="object"?e.fail$data((0,Lr._)`!${(0,Dl.useFunc)(t,Pl.default)}(${r}, ${n})`):e.fail((0,Lr._)`${o} !== ${r}`)}};mn.default=kl;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});const Jt=oe,Nl=ce,Ol=or,Rl={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Jt._)`{allowedValues: ${e}}`},jl={keyword:"enum",schemaType:"array",$data:!0,error:Rl,code(e){const{gen:t,data:r,$data:s,schema:n,schemaCode:o,it:l}=e;if(!s&&n.length===0)throw new Error("enum must have non-empty array");const h=n.length>=l.opts.loopEnum;let d;const u=()=>d!=null?d:d=(0,Nl.useFunc)(t,Ol.default);let c;if(h||s)c=t.let("valid"),e.block$data(c,p);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const N=t.const("vSchema",o);c=(0,Jt.or)(...n.map((w,A)=>F(N,A)))}e.pass(c);function p(){t.assign(c,!1),t.forOf("v",o,N=>t.if((0,Jt._)`${u()}(${r}, ${N})`,()=>t.assign(c,!0).break()))}function F(N,w){const A=n[w];return typeof A=="object"&&A!==null?(0,Jt._)`${u()}(${r}, ${N}[${w}])`:(0,Jt._)`${r} === ${A}`}}};pn.default=jl;Object.defineProperty(nn,"__esModule",{value:!0});const Tl=sn,Il=an,Ml=on,Bl=ln,Vl=cn,ql=dn,Ul=fn,zl=hn,Ll=mn,Kl=pn,Hl=[Tl.default,Il.default,Ml.default,Bl.default,Vl.default,ql.default,Ul.default,zl.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Ll.default,Kl.default];nn.default=Hl;var _n={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.validateAdditionalItems=void 0;const $t=oe,Kr=ce,Yl={message:({params:{len:e}})=>(0,$t.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,$t._)`{limit: ${e}}`},Gl={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Yl,code(e){const{parentSchema:t,it:r}=e,{items:s}=t;if(!Array.isArray(s)){(0,Kr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ks(e,s)}};function Ks(e,t){const{gen:r,schema:s,data:n,keyword:o,it:l}=e;l.items=!0;const h=r.const("len",(0,$t._)`${n}.length`);if(s===!1)e.setParams({len:t.length}),e.pass((0,$t._)`${h} <= ${t.length}`);else if(typeof s=="object"&&!(0,Kr.alwaysValidSchema)(l,s)){const u=r.var("valid",(0,$t._)`${h} <= ${t.length}`);r.if((0,$t.not)(u),()=>d(u)),e.ok(u)}function d(u){r.forRange("i",t.length,h,c=>{e.subschema({keyword:o,dataProp:c,dataPropType:Kr.Type.Num},u),l.allErrors||r.if((0,$t.not)(u),()=>r.break())})}}Tt.validateAdditionalItems=Ks;Tt.default=Gl;var vn={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.validateTuple=void 0;const rs=oe,yr=ce,Jl=ae,Wl={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Hs(e,"additionalItems",t);r.items=!0,!(0,yr.alwaysValidSchema)(r,t)&&e.ok((0,Jl.validateArray)(e))}};function Hs(e,t,r=e.schema){const{gen:s,parentSchema:n,data:o,keyword:l,it:h}=e;c(n),h.opts.unevaluated&&r.length&&h.items!==!0&&(h.items=yr.mergeEvaluated.items(s,r.length,h.items));const d=s.name("valid"),u=s.const("len",(0,rs._)`${o}.length`);r.forEach((p,F)=>{(0,yr.alwaysValidSchema)(h,p)||(s.if((0,rs._)`${u} > ${F}`,()=>e.subschema({keyword:l,schemaProp:F,dataProp:F},d)),e.ok(d))});function c(p){const{opts:F,errSchemaPath:N}=h,w=r.length,A=w===p.minItems&&(w===p.maxItems||p[t]===!1);if(F.strictTuples&&!A){const E=`"${l}" is ${w}-tuple, but minItems or maxItems/${t} are not specified or different at path "${N}"`;(0,yr.checkStrictMode)(h,E,F.strictTuples)}}}It.validateTuple=Hs;It.default=Wl;Object.defineProperty(vn,"__esModule",{value:!0});const Ql=It,Xl={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Ql.validateTuple)(e,"items")};vn.default=Xl;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});const ns=oe,Zl=ce,xl=ae,ec=Tt,tc={message:({params:{len:e}})=>(0,ns.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ns._)`{limit: ${e}}`},rc={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:tc,code(e){const{schema:t,parentSchema:r,it:s}=e,{prefixItems:n}=r;s.items=!0,!(0,Zl.alwaysValidSchema)(s,t)&&(n?(0,ec.validateAdditionalItems)(e,n):e.ok((0,xl.validateArray)(e)))}};yn.default=rc;var $n={};Object.defineProperty($n,"__esModule",{value:!0});const Be=oe,fr=ce,nc={message:({params:{min:e,max:t}})=>t===void 0?(0,Be.str)`must contain at least ${e} valid item(s)`:(0,Be.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Be._)`{minContains: ${e}}`:(0,Be._)`{minContains: ${e}, maxContains: ${t}}`},sc={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:nc,code(e){const{gen:t,schema:r,parentSchema:s,data:n,it:o}=e;let l,h;const{minContains:d,maxContains:u}=s;o.opts.next?(l=d===void 0?1:d,h=u):l=1;const c=t.const("len",(0,Be._)`${n}.length`);if(e.setParams({min:l,max:h}),h===void 0&&l===0){(0,fr.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&l>h){(0,fr.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,fr.alwaysValidSchema)(o,r)){let A=(0,Be._)`${c} >= ${l}`;h!==void 0&&(A=(0,Be._)`${A} && ${c} <= ${h}`),e.pass(A);return}o.items=!0;const p=t.name("valid");h===void 0&&l===1?N(p,()=>t.if(p,()=>t.break())):l===0?(t.let(p,!0),h!==void 0&&t.if((0,Be._)`${n}.length > 0`,F)):(t.let(p,!1),F()),e.result(p,()=>e.reset());function F(){const A=t.name("_valid"),E=t.let("count",0);N(A,()=>t.if(A,()=>w(E)))}function N(A,E){t.forRange("i",0,c,v=>{e.subschema({keyword:"contains",dataProp:v,dataPropType:fr.Type.Num,compositeRule:!0},A),E()})}function w(A){t.code((0,Be._)`${A}++`),h===void 0?t.if((0,Be._)`${A} >= ${l}`,()=>t.assign(p,!0).break()):(t.if((0,Be._)`${A} > ${h}`,()=>t.assign(p,!1).break()),l===1?t.assign(p,!0):t.if((0,Be._)`${A} >= ${l}`,()=>t.assign(p,!0)))}}};$n.default=sc;var Ys={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=oe,r=ce,s=ae;e.error={message:({params:{property:d,depsCount:u,deps:c}})=>{const p=u===1?"property":"properties";return(0,t.str)`must have ${p} ${c} when property ${d} is present`},params:({params:{property:d,depsCount:u,deps:c,missingProperty:p}})=>(0,t._)`{property: ${d},
    missingProperty: ${p},
    depsCount: ${u},
    deps: ${c}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(d){const[u,c]=o(d);l(d,u),h(d,c)}};function o({schema:d}){const u={},c={};for(const p in d){if(p==="__proto__")continue;const F=Array.isArray(d[p])?u:c;F[p]=d[p]}return[u,c]}function l(d,u=d.schema){const{gen:c,data:p,it:F}=d;if(Object.keys(u).length===0)return;const N=c.let("missing");for(const w in u){const A=u[w];if(A.length===0)continue;const E=(0,s.propertyInData)(c,p,w,F.opts.ownProperties);d.setParams({property:w,depsCount:A.length,deps:A.join(", ")}),F.allErrors?c.if(E,()=>{for(const v of A)(0,s.checkReportMissingProp)(d,v)}):(c.if((0,t._)`${E} && (${(0,s.checkMissingProp)(d,A,N)})`),(0,s.reportMissingProp)(d,N),c.else())}}e.validatePropertyDeps=l;function h(d,u=d.schema){const{gen:c,data:p,keyword:F,it:N}=d,w=c.name("valid");for(const A in u)(0,r.alwaysValidSchema)(N,u[A])||(c.if((0,s.propertyInData)(c,p,A,N.opts.ownProperties),()=>{const E=d.subschema({keyword:F,schemaProp:A},w);d.mergeValidEvaluated(E,w)},()=>c.var(w,!0)),d.ok(w))}e.validateSchemaDeps=h,e.default=n})(Ys);var gn={};Object.defineProperty(gn,"__esModule",{value:!0});const Gs=oe,ac=ce,oc={message:"property name must be valid",params:({params:e})=>(0,Gs._)`{propertyName: ${e.propertyName}}`},ic={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:oc,code(e){const{gen:t,schema:r,data:s,it:n}=e;if((0,ac.alwaysValidSchema)(n,r))return;const o=t.name("valid");t.forIn("key",s,l=>{e.setParams({propertyName:l}),e.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},o),t.if((0,Gs.not)(o),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(o)}};gn.default=ic;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});const hr=ae,Ue=oe,uc=et,mr=ce,lc={message:"must NOT have additional properties",params:({params:e})=>(0,Ue._)`{additionalProperty: ${e.additionalProperty}}`},cc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:lc,code(e){const{gen:t,schema:r,parentSchema:s,data:n,errsCount:o,it:l}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:h,opts:d}=l;if(l.props=!0,d.removeAdditional!=="all"&&(0,mr.alwaysValidSchema)(l,r))return;const u=(0,hr.allSchemaProperties)(s.properties),c=(0,hr.allSchemaProperties)(s.patternProperties);p(),e.ok((0,Ue._)`${o} === ${uc.default.errors}`);function p(){t.forIn("key",n,E=>{!u.length&&!c.length?w(E):t.if(F(E),()=>w(E))})}function F(E){let v;if(u.length>8){const D=(0,mr.schemaRefOrVal)(l,s.properties,"properties");v=(0,hr.isOwnProperty)(t,D,E)}else u.length?v=(0,Ue.or)(...u.map(D=>(0,Ue._)`${E} === ${D}`)):v=Ue.nil;return c.length&&(v=(0,Ue.or)(v,...c.map(D=>(0,Ue._)`${(0,hr.usePattern)(e,D)}.test(${E})`))),(0,Ue.not)(v)}function N(E){t.code((0,Ue._)`delete ${n}[${E}]`)}function w(E){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){N(E);return}if(r===!1){e.setParams({additionalProperty:E}),e.error(),h||t.break();return}if(typeof r=="object"&&!(0,mr.alwaysValidSchema)(l,r)){const v=t.name("valid");d.removeAdditional==="failing"?(A(E,v,!1),t.if((0,Ue.not)(v),()=>{e.reset(),N(E)})):(A(E,v),h||t.if((0,Ue.not)(v),()=>t.break()))}}function A(E,v,D){const P={keyword:"additionalProperties",dataProp:E,dataPropType:mr.Type.Str};D===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(P,v)}}};kr.default=cc;var En={};Object.defineProperty(En,"__esModule",{value:!0});const dc=Ke,ss=ae,Mr=ce,as=kr,fc={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:s,data:n,it:o}=e;o.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&as.default.code(new dc.KeywordCxt(o,as.default,"additionalProperties"));const l=(0,ss.allSchemaProperties)(r);for(const p of l)o.definedProperties.add(p);o.opts.unevaluated&&l.length&&o.props!==!0&&(o.props=Mr.mergeEvaluated.props(t,(0,Mr.toHash)(l),o.props));const h=l.filter(p=>!(0,Mr.alwaysValidSchema)(o,r[p]));if(h.length===0)return;const d=t.name("valid");for(const p of h)u(p)?c(p):(t.if((0,ss.propertyInData)(t,n,p,o.opts.ownProperties)),c(p),o.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(d);function u(p){return o.opts.useDefaults&&!o.compositeRule&&r[p].default!==void 0}function c(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},d)}}};En.default=fc;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const os=ae,pr=oe,is=ce,us=ce,hc={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:s,parentSchema:n,it:o}=e,{opts:l}=o,h=(0,os.allSchemaProperties)(r),d=h.filter(A=>(0,is.alwaysValidSchema)(o,r[A]));if(h.length===0||d.length===h.length&&(!o.opts.unevaluated||o.props===!0))return;const u=l.strictSchema&&!l.allowMatchingProperties&&n.properties,c=t.name("valid");o.props!==!0&&!(o.props instanceof pr.Name)&&(o.props=(0,us.evaluatedPropsToName)(t,o.props));const{props:p}=o;F();function F(){for(const A of h)u&&N(A),o.allErrors?w(A):(t.var(c,!0),w(A),t.if(c))}function N(A){for(const E in u)new RegExp(A).test(E)&&(0,is.checkStrictMode)(o,`property ${E} matches pattern ${A} (use allowMatchingProperties)`)}function w(A){t.forIn("key",s,E=>{t.if((0,pr._)`${(0,os.usePattern)(e,A)}.test(${E})`,()=>{const v=d.includes(A);v||e.subschema({keyword:"patternProperties",schemaProp:A,dataProp:E,dataPropType:us.Type.Str},c),o.opts.unevaluated&&p!==!0?t.assign((0,pr._)`${p}[${E}]`,!0):!v&&!o.allErrors&&t.if((0,pr.not)(c),()=>t.break())})})}}};bn.default=hc;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const mc=ce,pc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:s}=e;if((0,mc.alwaysValidSchema)(s,r)){e.fail();return}const n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};wn.default=pc;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const _c=ae,vc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_c.validateUnion,error:{message:"must match a schema in anyOf"}};Sn.default=vc;var An={};Object.defineProperty(An,"__esModule",{value:!0});const $r=oe,yc=ce,$c={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,$r._)`{passingSchemas: ${e.passing}}`},gc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:$c,code(e){const{gen:t,schema:r,parentSchema:s,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&s.discriminator)return;const o=r,l=t.let("valid",!1),h=t.let("passing",null),d=t.name("_valid");e.setParams({passing:h}),t.block(u),e.result(l,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((c,p)=>{let F;(0,yc.alwaysValidSchema)(n,c)?t.var(d,!0):F=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},d),p>0&&t.if((0,$r._)`${d} && ${l}`).assign(l,!1).assign(h,(0,$r._)`[${h}, ${p}]`).else(),t.if(d,()=>{t.assign(l,!0),t.assign(h,p),F&&e.mergeEvaluated(F,$r.Name)})})}}};An.default=gc;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const Ec=ce,bc={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=t.name("valid");r.forEach((o,l)=>{if((0,Ec.alwaysValidSchema)(s,o))return;const h=e.subschema({keyword:"allOf",schemaProp:l},n);e.ok(n),e.mergeEvaluated(h)})}};Cn.default=bc;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});const Sr=oe,Js=ce,wc={message:({params:e})=>(0,Sr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Sr._)`{failingKeyword: ${e.ifClause}}`},Sc={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:wc,code(e){const{gen:t,parentSchema:r,it:s}=e;r.then===void 0&&r.else===void 0&&(0,Js.checkStrictMode)(s,'"if" without "then" and "else" is ignored');const n=ls(s,"then"),o=ls(s,"else");if(!n&&!o)return;const l=t.let("valid",!0),h=t.name("_valid");if(d(),e.reset(),n&&o){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(h,u("then",c),u("else",c))}else n?t.if(h,u("then")):t.if((0,Sr.not)(h),u("else"));e.pass(l,()=>e.error(!0));function d(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);e.mergeEvaluated(c)}function u(c,p){return()=>{const F=e.subschema({keyword:c},h);t.assign(l,h),e.mergeValidEvaluated(F,l),p?t.assign(p,(0,Sr._)`${c}`):e.setParams({ifClause:c})}}}};function ls(e,t){const r=e.schema[t];return r!==void 0&&!(0,Js.alwaysValidSchema)(e,r)}Dn.default=Sc;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const Ac=ce,Cc={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Ac.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Pn.default=Cc;Object.defineProperty(_n,"__esModule",{value:!0});const Dc=Tt,Pc=vn,Fc=It,kc=yn,Nc=$n,Oc=Ys,Rc=gn,jc=kr,Tc=En,Ic=bn,Mc=wn,Bc=Sn,Vc=An,qc=Cn,Uc=Dn,zc=Pn;function Lc(e=!1){const t=[Mc.default,Bc.default,Vc.default,qc.default,Uc.default,zc.default,Rc.default,jc.default,Oc.default,Tc.default,Ic.default];return e?t.push(Pc.default,kc.default):t.push(Dc.default,Fc.default),t.push(Nc.default),t}_n.default=Lc;var Fn={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});const we=oe,Kc={message:({schemaCode:e})=>(0,we.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,we._)`{format: ${e}}`},Hc={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Kc,code(e,t){const{gen:r,data:s,$data:n,schema:o,schemaCode:l,it:h}=e,{opts:d,errSchemaPath:u,schemaEnv:c,self:p}=h;if(!d.validateFormats)return;n?F():N();function F(){const w=r.scopeValue("formats",{ref:p.formats,code:d.code.formats}),A=r.const("fDef",(0,we._)`${w}[${l}]`),E=r.let("fType"),v=r.let("format");r.if((0,we._)`typeof ${A} == "object" && !(${A} instanceof RegExp)`,()=>r.assign(E,(0,we._)`${A}.type || "string"`).assign(v,(0,we._)`${A}.validate`),()=>r.assign(E,(0,we._)`"string"`).assign(v,A)),e.fail$data((0,we.or)(D(),P()));function D(){return d.strictSchema===!1?we.nil:(0,we._)`${l} && !${v}`}function P(){const j=c.$async?(0,we._)`(${A}.async ? await ${v}(${s}) : ${v}(${s}))`:(0,we._)`${v}(${s})`,M=(0,we._)`(typeof ${v} == "function" ? ${j} : ${v}.test(${s}))`;return(0,we._)`${v} && ${v} !== true && ${E} === ${t} && !${M}`}}function N(){const w=p.formats[o];if(!w){D();return}if(w===!0)return;const[A,E,v]=P(w);A===t&&e.pass(j());function D(){if(d.strictSchema===!1){p.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function P(M){const b=M instanceof RegExp?(0,we.regexpCode)(M):d.code.formats?(0,we._)`${d.code.formats}${(0,we.getProperty)(o)}`:void 0,k=r.scopeValue("formats",{key:o,ref:M,code:b});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,we._)`${k}.validate`]:["string",M,k]}function j(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!c.$async)throw new Error("async format in sync schema");return(0,we._)`await ${v}(${s})`}return typeof E=="function"?(0,we._)`${v}(${s})`:(0,we._)`${v}.test(${s})`}}}};kn.default=Hc;Object.defineProperty(Fn,"__esModule",{value:!0});const Yc=kn,Gc=[Yc.default];Fn.default=Gc;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.contentVocabulary=jt.metadataVocabulary=void 0;jt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];jt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(en,"__esModule",{value:!0});const Jc=tn,Wc=nn,Qc=_n,Xc=Fn,cs=jt,Zc=[Jc.default,Wc.default,(0,Qc.default)(),Xc.default,cs.metadataVocabulary,cs.contentVocabulary];en.default=Zc;var Nn={},Ws={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Ws);Object.defineProperty(Nn,"__esModule",{value:!0});const Nt=oe,Hr=Ws,ds=je,xc=ce,ed={message:({params:{discrError:e,tagName:t}})=>e===Hr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Nt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},td={keyword:"discriminator",type:"object",schemaType:"object",error:ed,code(e){const{gen:t,data:r,schema:s,parentSchema:n,it:o}=e,{oneOf:l}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=s.propertyName;if(typeof h!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),u=t.const("tag",(0,Nt._)`${r}${(0,Nt.getProperty)(h)}`);t.if((0,Nt._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:Hr.DiscrError.Tag,tag:u,tagName:h})),e.ok(d);function c(){const N=F();t.if(!1);for(const w in N)t.elseIf((0,Nt._)`${u} === ${w}`),t.assign(d,p(N[w]));t.else(),e.error(!1,{discrError:Hr.DiscrError.Mapping,tag:u,tagName:h}),t.endIf()}function p(N){const w=t.name("valid"),A=e.subschema({keyword:"oneOf",schemaProp:N},w);return e.mergeEvaluated(A,Nt.Name),w}function F(){var N;const w={},A=v(n);let E=!0;for(let j=0;j<l.length;j++){let M=l[j];(M==null?void 0:M.$ref)&&!(0,xc.schemaHasRulesButRef)(M,o.self.RULES)&&(M=ds.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,M==null?void 0:M.$ref),M instanceof ds.SchemaEnv&&(M=M.schema));const b=(N=M==null?void 0:M.properties)===null||N===void 0?void 0:N[h];if(typeof b!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);E=E&&(A||v(M)),D(b,j)}if(!E)throw new Error(`discriminator: "${h}" must be required`);return w;function v({required:j}){return Array.isArray(j)&&j.includes(h)}function D(j,M){if(j.const)P(j.const,M);else if(j.enum)for(const b of j.enum)P(b,M);else throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`)}function P(j,M){if(typeof j!="string"||j in w)throw new Error(`discriminator: "${h}" values must be unique strings`);w[j]=M}}}};Nn.default=td;const rd="http://json-schema.org/draft-07/schema#",nd="http://json-schema.org/draft-07/schema#",sd="Core schema meta-schema",ad={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},od=["object","boolean"],id={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var ud={$schema:rd,$id:nd,title:sd,definitions:ad,type:od,properties:id,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=_s,s=en,n=Nn,o=ud,l=["/properties"],h="http://json-schema.org/draft-07/schema";class d extends r.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(F=>this.addVocabulary(F)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const F=this.opts.$data?this.$dataMetaSchema(o,l):o;this.addMetaSchema(F,h,!1),this.refs["http://json-schema.org/schema"]=h}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(h)?h:void 0)}}e.exports=t=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var u=Ke;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=oe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}})})(Vr,Vr.exports);var ld=ba(Vr.exports);new ld;let Br=null;async function Qs(){return Br||(Br=await(await fetch("https://next-early-intervention.vercel.app/api/setting")).json()),Br}function cd(e){return fetch("https://next-early-intervention.vercel.app/api/registration_date?date="+e).then(function(t){return t.json()}).then(function(t){return t})}async function dd(e){return await fetch("https://next-early-intervention.vercel.app/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}const fd=y("h5",null,"6.\u9001\u51FA\u5831\u540D\u8CC7\u6599",-1),hd=se(" \u8ACB\u78BA\u8A8D\u4EE5\u4E0B\u8CC7\u8A0A\uFF0C\u78BA\u8A8D\u597D\u5F8C\u6309\u4E0B\u9001\u51FA\u5373\u53EF\u5831\u540D\u3002 "),md=y("td",null,"\u5152\u7AE5\u59D3\u540D",-1),pd=y("td",null,"\u5152\u7AE5\u5E74\u9F61",-1),_d=y("td",null,"\u5152\u7AE5\u8EAB\u5206\u8B49\u865F",-1),vd=y("td",null,"\u5BB6\u9577\u96FB\u8A71",-1),yd=y("td",null,"\u5BB6\u9577\u95DC\u4FC2",-1),$d=y("td",null,"\u5C31\u8A3A\u554F\u984C",-1),gd=y("td",null,"\u4E0A\u6B21\u8A55\u4F30",-1),Ed=y("td",null,"\u4E0A\u6B21\u8A55\u4F30\u65E5\u671F",-1),bd=y("td",null,"\u4E0A\u6B21\u5EFA\u8B70\u8A55\u4F30\u65E5\u671F",-1),wd=y("tr",null,[y("td",{colspan:"2"},"\u5099\u8A3B\uFF1A")],-1),Sd={colspan:"2"},Ad=He({__name:"EndPage",props:{jsondata:null},setup(e){const t=e,r=Ve(t.jsondata.registrationDate);t.jsondata.registrationDate;const s=r.year()-1911+r.format("\u5E74 MM\u6708 DD\u65E5"),n=de("\u9001\u51FA"),o=de("");function l(u){n.value=="\u9001\u51FA"&&(n.value="\u9001\u51FA\u4E2D",h(t.jsondata))}function h(u){u.userRelationshipOther||(u.userRelationshipOther=""),u.questionsAbouts||(u.questionsAbouts=""),u.previousAssessment||(u.previousAssessment=""),u.lastEvaluate||(u.lastEvaluate=""),u.SuggestEvaluate||(u.SuggestEvaluate=""),u.comment=o.value,dd(u).then(async c=>{if(c.status!=200){alert(JSON.stringify(await c.json())),n.value="\u932F\u8AA4\uFF0C\u5831\u540D\u5931\u6557";return}const p=`\u5831\u540D\u5B8C\u6210\u3002\u9810\u8A08\u770B\u8A3A\u65E5\u671F\u70BA ${s}\uFF0C\u7D93\u7CFB\u7D71\u5831\u540D\u6210\u529F\u4E0D\u7B49\u65BC\u639B\u865F\u6210\u529F\uFF0C\u7D93\u672C\u9662\u78BA\u8A8D\u8EAB\u4EFD\u8CC7\u683C\u7B26\u5408\u8A55\u4F30\u8CC7\u683C\u5F8C\uFF0C\u6703\u518D\u4EE5\u96FB\u8A71\u901A\u77E5\u3002
    
\u672A\u63A5\u5230\u96FB\u8A71\u901A\u77E5\u5373\u4E0D\u7B26\u5408\u770B\u8A3A\u8CC7\u683C\uFF0C\u8ACB\u52FF\u64C5\u81EA\u524D\u4F86\u770B\u8A3A\uFF0C\u4EE5\u514D\u767D\u8DD1\u4E00\u8D9F\u3002`;n.value="\u6210\u529F",alert(p),window.location.reload()})}function d(u){return u>360?Math.floor(u/360)+"\u6B72"+Math.floor(u%360/30)+"\u500B\u6708":Math.floor(u%360/30)+"\u500B\u6708"}return(u,c)=>(Q(),ne("table",null,[fd,hd,y("tr",null,[md,y("td",null,$e(t.jsondata.childName),1)]),y("tr",null,[pd,y("td",null,$e(d(t.jsondata.kidday)),1)]),y("tr",null,[_d,y("td",null,$e(t.jsondata.identityNumber),1)]),y("tr",null,[vd,y("td",null,$e(t.jsondata.phoneNumber),1)]),y("tr",null,[yd,y("td",null,$e(t.jsondata.userRelationship||t.jsondata.userRelationshipOther),1)]),y("tr",null,[$d,y("td",null,$e(t.jsondata.questionsAbouts),1)]),y("tr",null,[gd,y("td",null,$e(t.jsondata.previousAssessment),1)]),y("tr",null,[Ed,y("td",null,$e(t.jsondata.lastEvaluate),1)]),y("tr",null,[bd,y("td",null,$e(t.jsondata.SuggestEvaluate),1)]),wd,y("tr",null,[y("td",Sd,[rt(y("textarea",{class:"form-control",rows:"3",style:{width:"100%"},"onUpdate:modelValue":c[0]||(c[0]=p=>o.value=p)},null,512),[[Yr,o.value]])])]),y("button",{type:"button",class:"btn btn-primary",onClick:l},$e(n.value),1)]))}});const Cd=["onSubmit"],Dd=y("h1",null,"\u5152\u7AE5\u767C\u5C55\u8A55\u4F30\u5831\u540D\u7CFB\u7D71",-1),Pd=se(" \u6B63\u78BA\u5E74\u9F61\u8A08\u7B97\u65B9\u5F0F\uFF1A"),Fd=y("br",null,null,-1),kd=se(" \u300C\u5BE6\u8DB3\u5E74\u9F61\u300D\uFF1A\u300C\u65BD\u6E2C\u65E5\u671F - \u51FA\u751F\u65E5\u671F = \u5BE6\u8DB3\u5E74\u9F61\u300D"),Nd=y("br",null,null,-1),Od=se(" \uFF0A\u65E9\u7522\u5152\u4E8C\u6B72\u524D\u5EFA\u8B70\u4EE5\u9810\u7522\u671F\u4EE3\u66FF\u51FA\u751F\u65E5\u671F\u8A08\u7B97"),Rd=y("br",null,null,-1),jd={class:"kidBirthdayFrom"},Td=se(" \u8ACB\u9078\u64C7\u60A8\u7684\u5BF6\u8C9D\u51FA\u751F\u65E5\u671F\u9032\u884C\u6AA2\u6E2C\uFF1A"),Id=y("br",null,null,-1),Md={class:"form-label"},Bd=y("br",null,null,-1),Vd={key:0,class:"col-md-12"},qd=y("div",{class:"alert alert-warning"},[se(" \u5E74\u9F61\u4E0D\u7B26\u5408\u672C\u9662\u770B\u8A3A\u689D\u4EF6\uFF0C\u82E5\u4ECD\u9700\u8981\u672C\u9662\u5C31\u8A3A\uFF0C\u5EFA\u8B70\u8F49\u8A3A\u81F3\u4EE5\u4E0B\u79D1\u5225\uFF1A"),y("br"),se(" \u52D5\u4F5C\u3001\u8A9E\u8A00\u985E\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),y("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1"),y("br"),se(" \u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49 \u2192 \u8ACB\u639B"),y("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1")],-1),Ud=[qd],zd={key:1,class:"btn btn-primary",type:"submit"},Ld=y("br",null,null,-1),Kd=He({__name:"UserFrom0",props:{disabled:{type:Boolean}},emits:["kidBirthdayChange","submit"],setup(e,{emit:t}){const r=de(Ve("2022-07-01").add(-106,"day")),s=de(Ve("2016-01-01").add(-106,"day"));de(s.value.format("YYYY\u5E74MM\u6708DD\u65E5")),de(r.value.format("YYYY\u5E74MM\u6708DD\u65E5")),de(s.value.format("YYYY\u5E74MM\u6708DD\u65E5")),de(r.value.format("YYYY\u5E74MM\u6708DD\u65E5")),de(r.value.format("YYYY\u5E74MM\u6708DD\u65E5"));const n=de(Ve().format("YYYY-MM-DD")),o=Or(()=>Math.floor(Ve().diff(n.value)/(1e3*60*60*24))),l=Or(()=>Ve(n.value)),h=Or(()=>(o.value>360?Math.floor(o.value/360)+"\u5E74":"")+(o.value>30?Math.floor(o.value%360/30)+"\u500B\u6708":"")+(o.value>0?o.value%360%30+"\u5929":"")),d=de(null);function u(c){t("kidBirthdayChange",l.value),d.value=l.value.isBefore(r.value)&&l.value.isAfter(s.value),t("submit",Object.assign({},nr(c),{kidday:o.value}),d.value)}return(c,p)=>(Q(),ne(Ne,null,[y("form",{id:"from",onSubmit:rr(u,["prevent"])},[Dd,Pd,Fd,kd,Nd,Od,Rd,y("div",jd,[Td,Id,y("label",Md,[rt(y("input",{type:"date",class:"form-control",name:"kidBirthday","onUpdate:modelValue":p[0]||(p[0]=F=>n.value=F),required:""},null,512),[[Yr,n.value]])]),Bd,se(" \u8A66\u7B97\u7D50\u679C\uFF1A"+$e(ct(h)),1)]),d.value===!1?(Q(),ne("div",Vd,Ud)):ge("",!0),d.value?ge("",!0):(Q(),ne("button",zd,"\u78BA\u8A8D"))],40,Cd),Ld],64))}});const Hd={key:0,class:"text-center"},Yd=y("div",{class:"spinner-border",role:"status"},[y("span",{class:"visually-hidden"},"Loading...")],-1),Gd=[Yd],Jd={key:1,class:"tablebox"},Wd={key:1,style:{"white-space":"nowrap",color:"red"}},Qd=y("br",null,null,-1),fs=He({__name:"RegistrationTime",props:{dateStr:null,special:{type:Boolean}},emits:["submit"],setup(e,{emit:t}){const r=e,s=Ve(r.dateStr),n=r.dateStr,o=s.year()-1911+s.format(".MM.DD"),l=de(0),h=de(-1),d=de(!0),u=hs(()=>l.value>=h.value);Promise.all([Qs(),cd(n)]).then(([p,F])=>{F||(F={}),F=Object.fromEntries(Object.entries(F).filter(([A,E])=>E.doctorAppointment!=="\u8CC7\u683C\u4E0D\u7B26"));let N=Object.values(F).filter(A=>A.kidday<360*3).length,w=Object.keys(F).length-N;r.special?(l.value=w+N,h.value=p.quota+p.specialQuota):(l.value=w+Math.max(N-p.specialQuota,0),h.value=p.quota),d.value=!1});function c(){t("submit",r.dateStr)}return(p,F)=>(Q(),ne(Ne,null,[d.value?(Q(),ne("div",Hd,Gd)):ge("",!0),d.value?ge("",!0):(Q(),ne("tr",Jd,[y("td",null,[ct(u)?ge("",!0):(Q(),ne("a",{key:0,class:"red",onclick:c,style:{"white-space":"nowrap"}},"\u3010\u5831\u540D\u3011")),ct(u)?(Q(),ne("a",Wd,"\u5831\u540D\u984D\u6EFF")):ge("",!0)]),y("td",null,[se($e(o)),Qd,se("\u5DF2\u639B\u4EBA\u6578\uFF1A"+$e(l.value+"/"+h.value),1)])]))],64))}});const Xd=y("h5",null,"\u9078\u64C7\u770B\u8A3A\u65E5\u671F",-1),Zd={class:"table table-sm"},xd={class:"weekhead"},ef=y("th",null,[se("\u661F\u671F/"),y("br"),se("\u5348\u5225")],-1),tf={class:"weekbody"},rf=y("th",{class:"weekside"},[se("\u4E0A\u5348"),y("br"),se("08:30"),y("br"),se("~"),y("br"),se("12:00")],-1),nf=y("th",{class:"weekside"},[se("\u4E0B\u5348"),y("br"),se("13:30"),y("br"),se("~"),y("br"),se("17:00")],-1),sf=y("br",null,null,-1),af=He({__name:"RegistrationFrom",props:{jsondata:null},emits:["submit"],setup(e,{emit:t}){const s=de(e.jsondata.kidday<360*3),n=["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],o=de([[[],[],[],[],[],[],[]],[[],[],[],[],[],[],[]]]);Qs().then(d=>{console.log(d),l(d.dayofweek,d.minday,d.maxday)});function l(d,u,c){let p=Ve().add(u,"day");for(let F=u;F<c;F++)p.day()==d&&o.value[0][d].push(p),p=p.add(1,"day")}function h(d){t("submit",{registrationDate:d},!0)}return(d,u)=>(Q(),ne(Ne,null,[Xd,y("table",Zd,[y("thead",xd,[y("tr",null,[ef,(Q(!0),ne(Ne,null,ze(n.slice(1),c=>(Q(),ne("th",null,"\u661F\u671F"+$e(c),1))),256)),y("th",null,"\u661F\u671F"+$e(n[0]),1)])]),y("tbody",tf,[y("tr",null,[rf,(Q(!0),ne(Ne,null,ze(o.value[0].slice(1),(c,p,F)=>(Q(),ne("td",null,[(Q(!0),ne(Ne,null,ze(c,N=>(Q(),Xe(fs,{dateStr:N.format("YYYY-MM-DD"),onSubmit:h,special:s.value},null,8,["dateStr","special"]))),256))]))),256)),(Q(!0),ne(Ne,null,ze([o.value[0][0]],(c,p,F)=>(Q(),ne("td",null,[(Q(!0),ne(Ne,null,ze(c,N=>(Q(),Xe(fs,{dateStr:N.format("YYYY-MM-DD"),onSubmit:h,special:s.value},null,8,["dateStr","special"]))),256))]))),256))]),y("tr",null,[nf,(Q(),ne(Ne,null,ze(n,c=>y("td")),64))])])]),sf],64))}}),of=y("br",null,null,-1),uf=y("br",null,null,-1),df=He({__name:"UserView",setup(e){const t=de(-1),r=de("");function s(h){r.value=h.format("YYYY-MM-DD")}const n=de(""),o={};function l(h,d){if(!!d){if(t.value==1&&(!h.questionsAbouts||h.questionsAbouts.split("|").length<=1)){ya.push("SuggestReferral");return}t.value+=1;for(const u of Object.keys(h))o[u]=h[u];n.value=JSON.stringify(o,null,2)}}return(h,d)=>(Q(),ne("div",null,[of,va(Ea),t.value==-10?(Q(),Xe(Ei,{key:0})):ge("",!0),t.value==-1?(Q(),Xe(Kd,{key:1,disabled:t.value!=-1,onSubmit:l,onKidBirthdayChange:s},null,8,["disabled"])):ge("",!0),t.value==0?(Q(),Xe(af,{key:2,onSubmit:l,jsondata:ct(o)},null,8,["jsondata"])):ge("",!0),t.value==1?(Q(),Xe(Wa,{key:3,disabled:t.value!=1,onSubmit:l},null,8,["disabled"])):ge("",!0),t.value==2?(Q(),Xe(Fo,{key:4,disabled:t.value!=2,onSubmit:l},null,8,["disabled"])):ge("",!0),t.value==3?(Q(),Xe(Yo,{key:5,disabled:t.value!=3,onSubmit:l},null,8,["disabled"])):ge("",!0),t.value==4?(Q(),Xe(hi,{key:6,disabled:t.value!=4,onSubmit:l,"kid-birthday":r.value},null,8,["disabled","kid-birthday"])):ge("",!0),t.value==5?(Q(),Xe(Ad,{key:7,jsondata:ct(o)},null,8,["jsondata"])):ge("",!0),uf]))}});export{df as default};
//# sourceMappingURL=UserView.b01cd856.js.map

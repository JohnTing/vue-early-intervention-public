import{d as k,r as _,o as T,M as U,a as s,c as a,b as u,e as o,f as I,t as C,u as A,F as g,g as $,w as q,h as P,i as Y,v as V,j as N,k as b,l as O,m as H,n as L,p as Q,q as R,s as W,x as z,y as x}from"./index.d9d5e745.js";import{d as f}from"./dayjs.min.493d4460.js";import{u as M,A as J}from"./appointment.43e8bcf8.js";import{p as Z,g as G}from"./MyFirebase.18c3dd3f.js";const K=u("div",{class:"modal-dialog"},[u("div",{class:"modal-content"},[u("div",{class:"modal-header"},[u("h4",{class:"modal-title"},"\u5831\u540D\u524D\u8ACB\u5BB6\u9577\u8A73\u95B1\u898F\u5B9A"),u("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})]),u("div",{class:"modal-body"},[u("ol",null,[u("li",null,"\u672C\u9580\u8A3A\u770B\u8A3A\u689D\u4EF6\u9700\u70BA\u300C\u591A\u9762\u5411\u767C\u5C55\u9072\u7DE9\u300D\uFF0C\u82E5\u70BA\u55AE\u4E00\u9762\u9805\u767C\u5C55\u9072\u7DE9\uFF0C\u8ACB\u76F4\u63A5\u639B\u55AE\u4E00\u79D1\u5225\u5C31\u8A3A\uFF0C\u8ACB\u52FF\u639B\u865F"),u("ul",null,[u("li",null,"\u55AE\u7D14\u52D5\u4F5C\u3001\u8A9E\u8A00\u554F\u984C\u2192\u8ACB\u639B\u5FA9\u5065\u79D1"),u("li",null,"\u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49\u2192\u8ACB\u639B\u5152\u7AE5\u5FC3\u667A\u79D1"),u("li",null,"\u751F\u9577\u554F\u984C\uFF08\u8EAB\u9AD8\u3001\u9AD4\u91CD\u3001\u6027\u65E9\u719F\u7B49\uFF09\u2192\u8ACB\u639B\u907A\u50B3\u4EE3\u8B1D\u79D1")]),u("br"),u("li",null,"\u672C\u9580\u8A3A\u7684\u770B\u8A3A\u5E74\u9F61\u70BA\u300C\u5B78\u9F61\u524D\uFF08\u5165\u5C0F\u5B78\u524D\uFF09\u300D\uFF0C\u82E5\u60A8\u7684\u5152\u7AE5\u73FE\u76EE\u524D\u5DF2\u8B80\u5927\u73ED\uFF0C\u82E5\u9580\u8A3A\u53EF\u770B\u8A3A\u65E5\u671F\u5DF2\u8D85\u904E\u4E94\u6708\uFF0C\u5247\u4E0D\u7B26\u5408\u672C\u9662\u770B\u8A3A\u5E74\u9F61\uFF1B\u5EFA\u8B70\u60A8\u8F49\u81F3\u5B83\u9662\u639B\u865F\uFF0C\u6216\u55AE\u4E00\u79D1\u5225\u5C31\u8A3A\u3002"),u("br"),u("li",null,"\u76EE\u524D\u570B\u5065\u7F72\u5DF2\u63D0\u4F9B\u7CFB\u7D71\u53EF\u67E5\u8A62\u5152\u7AE5\u5728\u5404\u5BB6\u91AB\u9662\u5152\u7AE5\u767C\u5C55\u79D1\u662F\u5426\u6709\u5C31\u8A3A\u7D00\u9304\uFF0C\u56E0\u6B64\u82E5\u4E00\u5E74\u5167\u66FE\u7D93\u5C31\u8A3A\u6216\u5230\u671F\u65E5\u672A\u8005\uFF0C\u8ACB\u52FF\u639B\u865F\u3002"),u("br"),u("li",null,[o("\u82E5\u70BA\u8907\u8A55\u8005\uFF0C\u8DDD\u96E2\u524D\u6B21\u806F\u5408\u8A55\u4F30\u5831\u544A\u66F8\u5230\u671F\u65E5(\u6709\u6548\u671F\u9650) \u5927\u65BC2\u500B\u6708\u4EE5\u4E0A\u8005\u4E0D\u63D0\u4F9B\u670D\u52D9(\u521D\u8A55\u4E0D\u5728\u6B64\u9650)"),u("br"),o("(\u5982\u5831\u544A\u66F8\u5230\u671F\u65E5\u70BA112\u5E746\u6708\uFF0C\u50C5\u53EF\u5831\u540D112\u5E744\u6708\u4EE5\u5F8C\u7684\u9580\u8A3A)\u3002")])])]),u("div",{class:"modal-footer"},[u("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onclick:"sessionStorage.setItem('isReadRegulations', 'true');"},"\u78BA\u8A8D")])])],-1),X=[K],uu=k({__name:"ReadRegulations",setup(y){let t=_(),r=null;return T(()=>{r=new U(t.value,{}),sessionStorage.getItem("isReadRegulations")!=="true"&&r.show()}),(e,E)=>(s(),a("div",{class:"modal fade",id:"myModal",tabindex:"-1",ref_key:"myModalRef",ref:t},X,512))}});function j(y){const t={},r=new FormData(y.target);for(const e of r.keys())t[e]=r.getAll(e).join("|");return t}const S=I("state",{state:()=>({step:0})}),tu=["onSubmit"],eu=P('<div class="row"><div class="col-md-4"> \u5152\u7AE5\u8EAB\u4EFD\u8B49\u865F\uFF1A <input type="text" class="form-control" name="identityNumber" required pattern="[A-Z][01][0-9]{8}"></div><div class="col-md-4"> \u5152\u7AE5\u59D3\u540D\uFF1A <input type="text" class="form-control" name="childName"></div></div><br>',2),su={class:"row"},ou={class:"col-md-12"},nu=o(" \u586B\u5BEB\u4EBA\u8207\u5152\u7AE5\u95DC\u4FC2\uFF1A "),lu={class:"form-inline"},au={class:"form-check-inline"},iu={class:"form-check-label"},ru=["value"],cu=["placeholder","disabled"],du=u("div",{class:"row"},[u("div",{class:"col-md-4"},[u("label",null,[o(" \u586B\u8868\u4EBA\u806F\u7E6B\u96FB\u8A71\uFF1A "),u("input",{type:"text",class:"form-control",placeholder:"(\u52D9\u5FC5\u7559\u4E0B\u53EF\u806F\u7E6B\u96FB\u8A71)",name:"phoneNumber",required:""})])])],-1),_u=u("br",null,null,-1),Fu=u("button",{class:"btn btn-primary",type:"submit"},"\u78BA\u8A8D",-1),hu=k({__name:"BasicInformation",setup(y){const t=["\u7236\u6BCD/\u76E3\u8B77\u4EBA","\u8001\u5E2B","\u793E\u5DE5","\u8B77\u7406\u5E2B","\u5176\u4ED6"],r=_(""),e=M(),E=S();f(),_(null);function h(m){const c=j(m);e.childName=c.childName,e.childIdentityNumber=c.identityNumber,e.parentRelationship=c.userRelationshipOther?c.userRelationshipOther:c.userRelationship,e.parentPhoneNumber=c.phoneNumber,console.log(Object.entries(e)),E.step+=1}return(m,c)=>(s(),a("form",{id:"from",onSubmit:q(h,["prevent"])},[u("h5",null,C(A(E).step)+".\u5152\u7AE5\u57FA\u672C\u8CC7\u6599",1),eu,u("div",su,[u("div",ou,[nu,u("div",lu,[(s(),a(g,null,$(t,(D,i)=>u("div",au,[u("label",iu,[Y(u("input",{class:"form-check-input",type:"radio",name:"userRelationship",value:D,"onUpdate:modelValue":c[0]||(c[0]=n=>r.value=n),required:""},null,8,ru),[[V,r.value]]),o(C(D),1)])])),64)),u("div",null,[u("input",{type:"text",class:"form-control",name:"userRelationshipOther",placeholder:r.value==t[t.length-1]?"\u8ACB\u8F38\u5165\u95DC\u4FC2":"",disabled:r.value!=t[t.length-1],required:""},null,8,cu)])])])]),du,_u,Fu],40,tu))}}),Au=["onSubmit"],mu={class:"col-md-12"},Eu={class:"form-check"},Du={class:"form-check-label"},pu=["disabled"],Cu=o("\u5426 "),Bu={class:"form-check"},fu={class:"form-check-label"},vu=["disabled"],bu=o("\u662F "),gu={key:0},yu={class:"row"},$u={class:"form-inline col-md-6"},ku=o(" \u524D\u6B21\u8A55\u4F30\u65E5\u671F\uFF1A"),wu=["disabled"],xu={class:"form-inline col-md-6"},Yu=o(" \u5EFA\u8B70\u8907\u8A55\u6642\u9593\uFF1A"),Mu=["disabled"],Su=u("div",{class:"col-md-12"},[u("div",{class:"alert alert-warning"}," \u7121\u8AD6\u65BC\u672C\u9662\u6216\u4ED6\u9662\u8A55\u4F30\u4E00\u5E74\u5167\u4E0D\u5F97\u91CD\u8A55\uFF0C\u67E5\u8A62\u5F8C\u82E5\u91CD\u8986\u770B\u8A3A\uFF0C\u76F4\u63A5\u62D2\u7D55\u8A55\u4F30 ")],-1),qu=u("br",null,null,-1),Ru={key:0},Vu={class:"row"},Nu=u("h5",null,"\u5C31\u8A3A\u554F\u984C(\u8907\u9078)\uFF1A",-1),ju=u("br",null,null,-1),Tu={class:"form-check-label"},Uu=["value"],Iu=u("div",{class:"col-md-12"},[u("div",{class:"alert alert-warning"},[o(" \u5982\u70BA\u55AE\u4E00\u9805\u76EE\u7684\u767C\u5C55\u9072\u7DE9\uFF0C\u975E\u672C\u9580\u8A3A\u770B\u8A3A\u5C0D\u8C61\uFF0C"),u("br"),o(" \u52D5\u4F5C\uFF08\u542B\u7C97\u5927\u52D5\u4F5C\u3001\u7CBE\u7D30\u52D5\u4F5C\u3001\u611F\u89BA\u7D71\u5408\u3001\u8D70\u8DEF\u5E73\u8861\uFF09\u3001"),u("br"),o(" \u8A9E\u8A00\uFF08\u7406\u89E3\u3001\u6E9D\u901A\u3001\u69CB\u97F3\u3001\u53E3\u5403\uFF09\u3001"),u("br"),o(" \u7B49\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1"),u("br"),u("br"),o(" \u8A8D\u77E5\uFF08\u60C5\u7DD2\u884C\u70BA\u3001\u5B78\u7FD2\u3001\u793E\u6703\u9069\u61C9\u3001\u4EBA\u969B\u4E92\u52D5\u3001\u6CE8\u610F\u529B\u3001\u6D3B\u52D5\u91CF\u3001\u885D\u52D5\u6027\uFF09\u7B49"),u("br"),o(" \u2192 \u8ACB\u639B"),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1")])],-1),Pu=u("br",null,null,-1),Ou={key:1},Hu=u("h5",null,"\u524D\u6B21\u8A55\u4F30\u9072\u7DE9/\u81E8\u754C\u9072\u7DE9\uFF1A",-1),Lu={class:"col-md-12"},Qu={class:"form-inline"},Wu={class:"form-check"},zu={class:"form-check-label"},Ju=["value","disabled"],Zu=u("div",{class:"col-md-12"},[u("div",{class:"alert alert-warning"},[o(" \u5982\u70BA\u55AE\u4E00\u9805\u76EE\u7684\u767C\u5C55\u9072\u7DE9\uFF0C\u975E\u672C\u9580\u8A3A\u770B\u8A3A\u5C0D\u8C61\uFF0C"),u("br"),o(" \u52D5\u4F5C\uFF08\u542B\u7C97\u5927\u52D5\u4F5C\u3001\u7CBE\u7D30\u52D5\u4F5C\u3001\u611F\u89BA\u7D71\u5408\u3001\u8D70\u8DEF\u5E73\u8861\uFF09\u3001"),u("br"),o(" \u8A9E\u8A00\uFF08\u7406\u89E3\u3001\u6E9D\u901A\u3001\u69CB\u97F3\u3001\u53E3\u5403\uFF09\u3001"),u("br"),o(" \u7B49\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1"),u("br"),u("br"),o(" \u8A8D\u77E5\uFF08\u60C5\u7DD2\u884C\u70BA\u3001\u5B78\u7FD2\u3001\u793E\u6703\u9069\u61C9\u3001\u4EBA\u969B\u4E92\u52D5\u3001\u6CE8\u610F\u529B\u3001\u6D3B\u52D5\u91CF\u3001\u885D\u52D5\u6027\uFF09"),u("br"),o(" \u2192 \u8ACB\u639B"),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1")])],-1),Gu=u("h5",null,"\u7279\u6B8A\u75BE\u75C5\uFF1A",-1),Ku={class:"form-check form-check-inline"},Xu={class:"form-check-label"},ut=["value"],tt=u("br",null,null,-1),et=u("br",null,null,-1),st=u("button",{class:"btn btn-primary",type:"submit"},"\u78BA\u8A8D",-1),ot=k({__name:"CheckIsVisited",setup(y){const t=M(),r=S(),e=_(!1),E=_(null);_(null);const h=_(null),m=_(!1),c=["\u795E\u7D93\u7CFB\u7D71","\u5167\u5206\u6CCC","\u7F55\u898B\u75BE\u75C5","\u65E9\u7522"],D=`\u55AE\u4E00\u9805\u76EE\u7684\u767C\u5C55\u9072\u7DE9\uFF0C\u975E\u672C\u9580\u8A3A\u770B\u8A3A\u5C0D\u8C61\u3002
\u52D5\u4F5C\uFF08\u542B\u7C97\u5927\u52D5\u4F5C\u3001\u7CBE\u7D30\u52D5\u4F5C\u3001\u611F\u89BA\u7D71\u5408\u3001\u8D70\u8DEF\u5E73\u8861\uFF09\u3001
\u8A9E\u8A00\uFF08\u7406\u89E3\u3001\u6E9D\u901A\u3001\u69CB\u97F3\u3001\u53E3\u5403\uFF09\u3001\u7B49\u767C\u5C55\u554F\u984C\u8ACB\u639B\u5FA9\u5065\u79D1\u3002

\u8A8D\u77E5\u3001\u60C5\u7DD2\u884C\u70BA\u3001\u5B78\u7FD2\u3001\u793E\u6703\u9069\u61C9\u3001\u4EBA\u969B\u4E92\u52D5\u3001\u6CE8\u610F\u529B\u3001\u6D3B\u52D5\u91CF\u3001\u885D\u52D5\u6027\u7B49\uFF0C\u8ACB\u639B\u5152\u7AE5\u5FC3\u667A\u79D1\u3002`,i=["\u52D5\u4F5C","\u8A9E\u8A00","\u5B78\u7FD2","\u60C5\u7DD2","\u5C08\u6CE8\u529B\u3001\u904E\u52D5","\u5B78\u524D\u9451\u5B9A"],n=["\u52D5\u4F5C\u985E","\u8A9E\u8A00","\u8A8D\u77E5\u3001\u793E\u6703\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49"],l=_([]);function F(v){const d=j(v);console.log(d),e.value?(t.lastEvaluateDate=d.lastEvaluate,t.lastEvaluateSuggestDate=d.SuggestEvaluate,d.previousAssessment?d.previousAssessment.split("|").length<=1?alert(D):r.step+=1:(h.value=!1,alert("\u8ACB\u9078\u64C7\u524D\u6B21\u8A55\u4F30\u9072\u7DE9/\u81E8\u754C\u9072\u7DE9"))):d.questionsAbouts?d.questionsAbouts.split("|").length<=1?(h.value=!1,alert(D)):(t.appointmentQuestions=d.questionsAbouts,r.step+=1):(h.value=!1,alert("\u8ACB\u9078\u64C7\u5C31\u8A3A\u554F\u984C")),console.log(t.$state)}return(v,d)=>(s(),a("form",{id:"from",onSubmit:q(F,["prevent"])},[u("h5",null,C(A(r).step)+"\u3001\u662F\u5426\u66FE\u7D93\u65BC\u672C\u9662/\u4ED6\u9662\u770B\u904E\u5152\u7AE5\u767C\u5C55\u806F\u5408\u8A55\u4F30\u9580\u8A3A\uFF1F",1),u("div",mu,[u("div",Eu,[u("label",Du,[Y(u("input",{type:"radio",class:"form-check-input",value:!1,"onUpdate:modelValue":d[0]||(d[0]=B=>e.value=B),name:"isVisited",required:"",disabled:m.value},null,8,pu),[[V,e.value]]),Cu])]),u("div",Bu,[u("label",fu,[Y(u("input",{type:"radio",class:"form-check-input",value:!0,"onUpdate:modelValue":d[1]||(d[1]=B=>e.value=B),name:"isVisited",required:"",disabled:m.value},null,8,vu),[[V,e.value]]),bu]),e.value?(s(),a("div",gu,[u("div",yu,[u("div",$u,[ku,Y(u("input",{type:"date",class:"form-control",name:"lastEvaluate",required:"","onUpdate:modelValue":d[2]||(d[2]=B=>E.value=B),disabled:m.value},null,8,wu),[[N,E.value]])]),u("div",xu,[Yu,u("input",{type:"date",class:"form-control",name:"SuggestEvaluate",required:"",disabled:m.value},null,8,Mu)]),Su])])):b("",!0)])]),qu,e.value?b("",!0):(s(),a("div",Ru,[u("div",Vu,[Nu,ju,(s(),a(g,null,$(i,B=>u("label",Tu,[u("input",{class:"form-check-input",type:"checkbox",name:"questionsAbouts",value:B},null,8,Uu),o(" "+C(B)+"\u2003 ",1)])),64)),Iu]),Pu])),e.value?(s(),a("div",Ou,[Hu,u("div",Lu,[(s(),a(g,null,$(n,(B,p)=>u("div",Qu,[u("div",Wu,[u("label",zu,[Y(u("input",{type:"checkbox",class:"form-check-input",name:"previousAssessment","onUpdate:modelValue":d[3]||(d[3]=w=>l.value=w),value:B,disabled:m.value},null,8,Ju),[[O,l.value]]),o(C(B),1)])])])),64))]),Zu])):b("",!0),Gu,(s(),a(g,null,$(c,(B,p)=>u("div",Ku,[u("label",Xu,[u("input",{type:"checkbox",class:"form-check-input",name:"specialDisease",value:B},null,8,ut),o(C(B),1)])])),64)),tt,et,st],40,Au))}});const nt=["onSubmit"],lt=u("h5",null,"5\u3001TAIPEI II \u7BE9\u6AA2\u8868",-1),at={class:"col-md-12"},it={key:0},rt=u("div",{class:"text-center"},[u("div",{class:"spinner-border",role:"status"},[u("span",{class:"visually-hidden"},"Loading...")])],-1),ct=[rt],dt={key:1},_t={class:"row"},Ft={class:"col-md-1"},ht={style:{color:"red"}},At={class:"col-md-9"},mt={class:"form-check-label"},Et={class:"col-md-2 text-center"},Dt=["id","name"],pt=["for"],Ct=["id","name"],Bt=["for"],ft=["src"],vt=u("br",null,null,-1),bt=u("button",{class:"btn btn-primary",type:"submit"},"\u78BA\u8A8D",-1),gt=k({__name:"Taipai2From",setup(y){const t=_({}),r=_({questions:[],image:""}),e=M(),E=S();fetch("assets/monthRoot.json").then(c=>c.json()).then(c=>{t.value=c});const h=H(()=>{const D=f().diff(f(e.childBirthday))/(1e3*60*60*24);let i="";for(const n in t.value)if(t.value[n].min<=D&&t.value[n].max>=D){i=t.value[n].title,fetch(n).then(l=>l.json()).then(l=>{l.questions.forEach((F,v,d)=>{F.title=F.title.replace(/^\d+\./gm,""),F.answer=!!F.answer}),r.value=l});break}return i});_(null);function m(c){const D=j(c),i=[];r.value.questions.forEach((n,l,F)=>{const v=n.answer?"true":"false";D["q_"+l]==v&&i.push(l+1),delete D["q_"+l]}),D.wrongAnswers=i.join("|"),e.Taipei2Title=h.value,e.Taipei2WrongAnswers=i.join("|"),E.step+=1}return(c,D)=>(s(),a("form",{id:"from",onSubmit:q(m,["prevent"])},[lt,u("div",at,[A(h)?b("",!0):(s(),a("div",it,ct)),A(h)?(s(),a("div",dt,[u("h6",null,C(A(h)),1),u("div",null,[(s(!0),a(g,null,$(r.value.questions,(i,n)=>(s(),a("div",{class:L(n%2==0?"q_white_line":"q_gray_line")},[u("div",_t,[u("div",Ft,[o(C(n+1),1),u("span",ht,C(i.special?"\u2605":""),1)]),u("div",At,[u("label",mt,C(i.title),1)]),u("div",Et,[u("input",{type:"radio",class:"slist_radio_input",id:`q5t_${n}`,name:`q_${n}`,required:"",value:!0},null,8,Dt),u("label",{class:"slist_radio_label",for:`q5t_${n}`},"\u662F",8,pt),u("input",{type:"radio",class:"slist_radio_input",id:`q5f_${n}`,name:`q_${n}`,required:"",value:!1},null,8,Ct),u("label",{class:"slist_radio_label",for:`q5f_${n}`},"\u5426",8,Bt)])])],2))),256)),u("img",{src:r.value.image,style:{width:"100%"}},null,8,ft)])])):b("",!0)]),vt,bt],40,nt))}}),yt=o(" \u4E0D\u7B26\u5408\u672C\u9662\u770B\u8A3A\u689D\u4EF6\uFF0C\u82E5\u4ECD\u9700\u8981\u672C\u9662\u5C31\u8A3A\uFF0C\u5EFA\u8B70\u8F49\u8A3A\u81F3\u4EE5\u4E0B\u79D1\u5225\uFF1A"),$t=u("br",null,null,-1),kt=o(" \u52D5\u4F5C\u3001\u8A9E\u8A00\u985E\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),wt=u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1",-1),xt=u("br",null,null,-1),Yt=o(" \u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49 \u2192 \u8ACB\u639B"),Mt=u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1",-1),St=k({__name:"SuggestReferral",setup(y){return(t,r)=>(s(),a(g,null,[yt,$t,kt,wt,xt,Yt,Mt],64))}}),qt=u("h5",null,"6.\u9001\u51FA\u5831\u540D\u8CC7\u6599",-1),Rt=o(" \u8ACB\u78BA\u8A8D\u4EE5\u4E0B\u8CC7\u8A0A\uFF0C\u78BA\u8A8D\u597D\u5F8C\u6309\u4E0B\u9001\u51FA\u5373\u53EF\u5831\u540D\u3002 "),Vt={colspan:"2"},Nt=k({__name:"EndPage",setup(y){const t=M(),r=S(),e=f(t.appointmentDate);t.appointmentDate,e.year()-1911+e.format("\u5E74 MM\u6708 DD\u65E5");const E=_("\u9001\u51FA"),h=_("");function m(D){E.value=="\u9001\u51FA"&&(E.value="\u9001\u51FA\u4E2D",c(t.$state))}function c(D){Z(D).then(async i=>{if(i.status!=200){alert(JSON.stringify(await i.json())),E.value="\u932F\u8AA4\uFF0C\u5831\u540D\u5931\u6557";return}const n="\u639B\u865F\u6210\u529F\uFF01";E.value="\u6210\u529F",alert(n);const l=t.appointmentDate;t.$reset(),r.$reset(),Q.push("./success?date="+l)})}return(D,i)=>(s(),a("table",null,[qt,Rt,(s(!0),a(g,null,$(A(J),(n,l)=>(s(),a("tr",null,[u("td",null,C(n),1),u("td",null,C(A(t)[l]),1)]))),256)),u("tr",null,[u("td",Vt,[Y(u("textarea",{class:"form-control",rows:"3",style:{width:"100%"},"onUpdate:modelValue":i[0]||(i[0]=n=>h.value=n)},null,512),[[N,h.value]])])]),u("button",{type:"button",class:"btn btn-primary",onClick:m},C(E.value),1)]))}});const jt=["onSubmit"],Tt=u("h1",null,"\u5152\u7AE5\u767C\u5C55\u8A55\u4F30\u5831\u540D\u7CFB\u7D71",-1),Ut=o(" \u6B63\u78BA\u5E74\u9F61\u8A08\u7B97\u65B9\u5F0F\uFF1A"),It=u("br",null,null,-1),Pt=o(" \u300C\u5BE6\u8DB3\u5E74\u9F61\u300D\uFF1A\u300C\u65BD\u6E2C\u65E5\u671F - \u51FA\u751F\u65E5\u671F = \u5BE6\u8DB3\u5E74\u9F61\u300D"),Ot=u("br",null,null,-1),Ht=o(" \uFF0A\u65E9\u7522\u5152\u4E8C\u6B72\u524D\u5EFA\u8B70\u4EE5\u9810\u7522\u671F\u4EE3\u66FF\u51FA\u751F\u65E5\u671F\u8A08\u7B97"),Lt=u("br",null,null,-1),Qt={class:"kidBirthdayFrom"},Wt=o(" \u8ACB\u9078\u64C7\u60A8\u7684\u5BF6\u8C9D\u51FA\u751F\u65E5\u671F\u9032\u884C\u6AA2\u6E2C\uFF1A"),zt=u("br",null,null,-1),Jt={class:"form-label"},Zt=u("br",null,null,-1),Gt={key:0,class:"col-md-12"},Kt=u("div",{class:"alert alert-warning"},[o(" \u5E74\u9F61\u4E0D\u7B26\u5408\u672C\u9662\u770B\u8A3A\u689D\u4EF6\uFF0C\u82E5\u4ECD\u9700\u8981\u672C\u9662\u5C31\u8A3A\uFF0C\u5EFA\u8B70\u8F49\u8A3A\u81F3\u4EE5\u4E0B\u79D1\u5225\uFF1A"),u("br"),o(" \u52D5\u4F5C\u3001\u8A9E\u8A00\u985E\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1"),u("br"),o(" \u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49 \u2192 \u8ACB\u639B"),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1")],-1),Xt=[Kt],ue={key:1,class:"btn btn-primary",type:"submit"},te=u("br",null,null,-1),ee=k({__name:"UserFrom0",setup(y){const t=M(),r=S(),e=_(f("2022-07-01").add(-106,"day")),E=_(f("2016-01-01").add(-106,"day"));_(E.value.format("YYYY\u5E74MM\u6708DD\u65E5")),_(e.value.format("YYYY\u5E74MM\u6708DD\u65E5")),_(E.value.format("YYYY\u5E74MM\u6708DD\u65E5")),_(e.value.format("YYYY\u5E74MM\u6708DD\u65E5")),_(e.value.format("YYYY\u5E74MM\u6708DD\u65E5"));const h=_(f().format("YYYY-MM-DD")),m=R(()=>Math.floor(f().diff(h.value)/(1e3*60*60*24))),c=R(()=>f(h.value)),D=R(()=>(m.value>360?Math.floor(m.value/360)+"\u5E74":"")+(m.value>30?Math.floor(m.value%360/30)+"\u500B\u6708":"")+(m.value>0?m.value%360%30+"\u5929":"")),i=_(null);function n(l){i.value=c.value.isBefore(e.value)&&c.value.isAfter(E.value),i.value&&(r.step+=1,t.childBirthday=c.value.format("YYYY-MM-DD"))}return(l,F)=>(s(),a(g,null,[u("form",{id:"from",onSubmit:q(n,["prevent"])},[Tt,Ut,It,Pt,Ot,Ht,Lt,u("div",Qt,[Wt,zt,u("label",Jt,[Y(u("input",{type:"date",class:"form-control",name:"kidBirthday","onUpdate:modelValue":F[0]||(F[0]=v=>h.value=v),required:""},null,512),[[N,h.value]])]),Zt,o(" \u8A66\u7B97\u7D50\u679C\uFF1A"+C(A(D)),1)]),i.value===!1?(s(),a("div",Gt,Xt)):b("",!0),i.value?b("",!0):(s(),a("button",ue,"\u78BA\u8A8D"))],40,jt),te],64))}});const se=["onSubmit"],oe={key:0,class:"col-md-12"},ne={class:"alert alert-warning"},le={class:"table table-sm"},ae={class:"weekhead"},ie={class:"weekbody"},re={key:0,class:"form-check"},ce=["disabled","id","value"],de={style:{color:"blue"}},_e=u("button",{class:"btn btn-primary",type:"submit"},"\u78BA\u8A8D",-1),Fe=u("br",null,null,-1),he=k({__name:"ChooseDate",setup(y){const t=M(),r=S(),e=_([]),E=_([]),h=t.lastEvaluateSuggestDate?f(t.lastEvaluateSuggestDate):null,m=_(Math.abs(f(t.childBirthday).diff(f(),"day"))<360*3);console.log("special = "+m.value),(async()=>{const i=await G();let n=Object.values(i);n.sort((v,d)=>v.date.localeCompare(d.date)),console.log(n);let l=-1,F=-1;for(const v of n){const d=f(v.date);if(l!=d.month()){if(l=d.month(),F+=1,F>=5)break;e.value.push([])}e.value[F].push(v)}for(let v=0;v<5;v++){const d=[];for(let B=0;B<e.value.length;B++){const p=e.value[B][v];if(!p){d.push(null);continue}if(p.work){let w=0;m.value?(w=p.max_num-p.num+p.max_spnum-p.spnum,p.hasnum=w,p.comment="\u540D\u984D: "):(w=Math.min(p.max_num-p.num,p.max_num-p.num+p.max_spnum-p.spnum),p.hasnum=w,p.comment="\u540D\u984D: "),w<=0&&(p.comment="\u540D\u984D\u5DF2\u6EFF",p.work=!1)}d.push(p)}E.value.push(d)}})();function c(i){return i.work?h?f(i.date).diff(h,"day")<-62:!1:!0}function D(i){const l=new FormData(i.target).get("worktime");!(l!=null&&l.toString())||(t.appointmentDate=l==null?void 0:l.toString(),r.step+=1)}return(i,n)=>(s(),a(g,null,[u("h5",null,C(A(r).step)+"\u3001\u9078\u64C7\u770B\u8A3A\u65E5\u671F",1),u("form",{id:"from",onSubmit:q(D,["prevent"])},[A(h)?(s(),a("div",oe,[u("div",ne," \u8907\u8A55\u8005\u5831\u544A\u66F8\u5230\u671F\u65E5\u70BA "+C(A(h).format("YYYY-MM-DD"))+"\uFF0C \u53EF\u5831\u540D "+C(A(h).add(-62,"day").format("YYYY-MM-DD"))+" \u4EE5\u5F8C\u7684\u9580\u8A3A ",1)])):b("",!0),u("table",le,[u("thead",ae,[u("tr",null,[(s(!0),a(g,null,$(Array.from({length:e.value.length},(l,F)=>F),l=>(s(),a("th",null,C(A(f)(e.value[l][0].date).format("YYYY\u5E74 MM\u6708")),1))),256))])]),u("tbody",ie,[(s(!0),a(g,null,$(E.value,l=>(s(),a("tr",null,[(s(!0),a(g,null,$(l,F=>(s(),a("td",null,[F?(s(),a("div",re,[u("label",{class:"form-check-label workradio",style:W(c(F)?"opacity: 0.5;":"")},[u("input",{type:"radio",class:"form-check-input",disabled:c(F),id:A(f)(F.date).format("YYYY-MM-DD"),name:"worktime",value:A(f)(F.date).format("YYYY-MM-DD")},null,8,ce),o(C(A(f)(F.date).format("MM/DD")+" "+F.comment)+" ",1),u("span",de,C(F.hasnum),1)],4)])):b("",!0)]))),256))]))),256)),_e])])],40,se),Fe],64))}}),Ae=u("br",null,null,-1),me=u("br",null,null,-1),Be=k({__name:"UserView",setup(y){M();const t=S();return(r,e)=>(s(),a("div",null,[Ae,z(uu),A(t).step==-10?(s(),x(St,{key:0})):b("",!0),A(t).step==0?(s(),x(ee,{key:1})):b("",!0),A(t).step==1?(s(),x(ot,{key:2})):b("",!0),A(t).step==2?(s(),x(he,{key:3})):b("",!0),A(t).step==3?(s(),x(hu,{key:4})):b("",!0),A(t).step==4?(s(),x(gt,{key:5})):b("",!0),A(t).step==5?(s(),x(Nt,{key:6})):b("",!0),me]))}});export{Be as default};
//# sourceMappingURL=UserView.f705f336.js.map

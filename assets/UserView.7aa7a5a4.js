import{d as k,r as _,o as T,M as U,a as s,c as n,b as u,e as o,t as D,u as m,F as g,f as $,w as q,g as I,h as S,v as V,i as j,j as v,k as P,l as O,n as H,m as L,p as R,q as Q,s as W,x}from"./index.04e58edb.js";import{d as f}from"./dayjs.min.493d4460.js";import{u as Y,a as M,A as z}from"./step.a5f221f2.js";import{p as J,g as Z}from"./MyFirebase.18c3dd3f.js";const G=u("div",{class:"modal-dialog"},[u("div",{class:"modal-content"},[u("div",{class:"modal-header"},[u("h4",{class:"modal-title"},"\u5831\u540D\u524D\u8ACB\u5BB6\u9577\u8A73\u95B1\u898F\u5B9A"),u("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})]),u("div",{class:"modal-body"},[u("ol",null,[u("li",null,"\u672C\u9580\u8A3A\u770B\u8A3A\u689D\u4EF6\u9700\u70BA\u300C\u591A\u9762\u5411\u767C\u5C55\u9072\u7DE9\u300D\uFF0C\u82E5\u70BA\u55AE\u4E00\u9762\u9805\u767C\u5C55\u9072\u7DE9\uFF0C\u8ACB\u76F4\u63A5\u639B\u55AE\u4E00\u79D1\u5225\u5C31\u8A3A\uFF0C\u8ACB\u52FF\u639B\u865F"),u("ul",null,[u("li",null,"\u55AE\u7D14\u52D5\u4F5C\u3001\u8A9E\u8A00\u554F\u984C\u2192\u8ACB\u639B\u5FA9\u5065\u79D1"),u("li",null,"\u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49\u2192\u8ACB\u639B\u5152\u7AE5\u5FC3\u667A\u79D1"),u("li",null,"\u751F\u9577\u554F\u984C\uFF08\u8EAB\u9AD8\u3001\u9AD4\u91CD\u3001\u6027\u65E9\u719F\u7B49\uFF09\u2192\u8ACB\u639B\u907A\u50B3\u4EE3\u8B1D\u79D1")]),u("br"),u("li",null,"\u672C\u9580\u8A3A\u7684\u770B\u8A3A\u5E74\u9F61\u70BA\u300C\u5B78\u9F61\u524D\uFF08\u5165\u5C0F\u5B78\u524D\uFF09\u300D\uFF0C\u82E5\u60A8\u7684\u5152\u7AE5\u73FE\u76EE\u524D\u5DF2\u8B80\u5927\u73ED\uFF0C\u82E5\u9580\u8A3A\u53EF\u770B\u8A3A\u65E5\u671F\u5DF2\u8D85\u904E\u4E94\u6708\uFF0C\u5247\u4E0D\u7B26\u5408\u672C\u9662\u770B\u8A3A\u5E74\u9F61\uFF1B\u5EFA\u8B70\u60A8\u8F49\u81F3\u5B83\u9662\u639B\u865F\uFF0C\u6216\u55AE\u4E00\u79D1\u5225\u5C31\u8A3A\u3002"),u("br"),u("li",null,"\u76EE\u524D\u570B\u5065\u7F72\u5DF2\u63D0\u4F9B\u7CFB\u7D71\u53EF\u67E5\u8A62\u5152\u7AE5\u5728\u5404\u5BB6\u91AB\u9662\u5152\u7AE5\u767C\u5C55\u79D1\u662F\u5426\u6709\u5C31\u8A3A\u7D00\u9304\uFF0C\u56E0\u6B64\u82E5\u4E00\u5E74\u5167\u66FE\u7D93\u5C31\u8A3A\u6216\u5230\u671F\u65E5\u672A\u8005\uFF0C\u8ACB\u52FF\u639B\u865F\u3002"),u("br"),u("li",null,[o("\u82E5\u70BA\u8907\u8A55\u8005\uFF0C\u8DDD\u96E2\u524D\u6B21\u806F\u5408\u8A55\u4F30\u5831\u544A\u66F8\u5230\u671F\u65E5(\u6709\u6548\u671F\u9650) \u5927\u65BC2\u500B\u6708\u4EE5\u4E0A\u8005\u4E0D\u63D0\u4F9B\u670D\u52D9(\u521D\u8A55\u4E0D\u5728\u6B64\u9650)"),u("br"),o("(\u5982\u5831\u544A\u66F8\u5230\u671F\u65E5\u70BA112\u5E746\u6708\uFF0C\u50C5\u53EF\u5831\u540D112\u5E744\u6708\u4EE5\u5F8C\u7684\u9580\u8A3A)\u3002")]),u("br"),u("li",null,"\u300C\u5831\u540D\u6210\u529F\u300D\u4E0D\u4EE3\u8868\u300C\u639B\u865F\u6210\u529F\u300D\uFF0C\u8ACB\u65BC\u639B\u865F\u6210\u529F\u5169\u9031\u5F8C\uFF0C\u81EA\u884C\u81F3\u300C\u67E5\u8A62\u7CFB\u7D71\u300D\u67E5\u8A62\u662F\u5426\u639B\u865F\u6210\u529F\uFF0C\u8CC7\u683C\u4E0D\u7B26\u8005\u4EA6\u4E0D\u53E6\u884C\u901A\u77E5\u3002")])]),u("div",{class:"modal-footer"},[u("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onclick:"sessionStorage.setItem('isReadRegulations', 'true');"},"\u78BA\u8A8D")])])],-1),K=[G],X=k({__name:"ReadRegulations",setup(y){let t=_(),a=null;return T(()=>{a=new U(t.value,{}),sessionStorage.getItem("isReadRegulations")!=="true"&&a.show()}),(e,C)=>(s(),n("div",{class:"modal fade",id:"myModal",tabindex:"-1",ref_key:"myModalRef",ref:t},K,512))}});function N(y){const t={},a=new FormData(y.target);for(const e of a.keys())t[e]=a.getAll(e).join("|");return t}const uu=["onSubmit"],tu=I('<div class="row"><div class="col-md-4"> \u5152\u7AE5\u8EAB\u4EFD\u8B49\u865F\uFF1A <input type="text" class="form-control" name="identityNumber" required pattern="[A-Z][01][0-9]{8}"></div><div class="col-md-4"> \u5152\u7AE5\u59D3\u540D\uFF1A <input type="text" class="form-control" name="childName"></div></div><br>',2),eu={class:"row"},su={class:"col-md-12"},ou=o(" \u586B\u5BEB\u4EBA\u8207\u5152\u7AE5\u95DC\u4FC2\uFF1A "),nu={class:"form-inline"},lu={class:"form-check-inline"},au={class:"form-check-label"},iu=["value"],ru=["placeholder","disabled"],cu=u("div",{class:"row"},[u("div",{class:"col-md-4"},[u("label",null,[o(" \u586B\u8868\u4EBA\u806F\u7E6B\u96FB\u8A71\uFF1A "),u("input",{type:"text",class:"form-control",placeholder:"(\u52D9\u5FC5\u7559\u4E0B\u53EF\u806F\u7E6B\u96FB\u8A71)",name:"phoneNumber",required:""})])])],-1),du=u("br",null,null,-1),_u=u("button",{class:"btn btn-primary",type:"submit"},"\u78BA\u8A8D",-1),Fu=k({__name:"BasicInformation",setup(y){const t=["\u7236\u6BCD/\u76E3\u8B77\u4EBA","\u8001\u5E2B","\u793E\u5DE5","\u8B77\u7406\u5E2B","\u5176\u4ED6"],a=_(""),e=Y(),C=M();f(),_(null);function A(h){const l=N(h);e.childName=l.childName,e.childIdentityNumber=l.identityNumber,e.parentRelationship=l.userRelationshipOther?l.userRelationshipOther:l.userRelationship,e.parentPhoneNumber=l.phoneNumber,console.log(Object.entries(e)),C.step+=1}return(h,l)=>(s(),n("form",{id:"from",onSubmit:q(A,["prevent"])},[u("h5",null,D(m(C).step)+".\u5152\u7AE5\u57FA\u672C\u8CC7\u6599",1),tu,u("div",eu,[u("div",su,[ou,u("div",nu,[(s(),n(g,null,$(t,(E,i)=>u("div",lu,[u("label",au,[S(u("input",{class:"form-check-input",type:"radio",name:"userRelationship",value:E,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),required:""},null,8,iu),[[V,a.value]]),o(D(E),1)])])),64)),u("div",null,[u("input",{type:"text",class:"form-control",name:"userRelationshipOther",placeholder:a.value==t[t.length-1]?"\u8ACB\u8F38\u5165\u95DC\u4FC2":"",disabled:a.value!=t[t.length-1],required:""},null,8,ru)])])])]),cu,du,_u],40,uu))}}),hu=["onSubmit"],Au={class:"col-md-12"},mu={class:"form-check"},Eu={class:"form-check-label"},Du=["disabled"],pu=o("\u5426 "),Cu={class:"form-check"},Bu={class:"form-check-label"},fu=["disabled"],vu=o("\u662F "),bu={key:0},gu={class:"row"},yu={class:"form-inline col-md-6"},$u=o(" \u524D\u6B21\u8A55\u4F30\u65E5\u671F\uFF1A"),ku=["disabled"],wu={class:"form-inline col-md-6"},xu=o(" \u5EFA\u8B70\u8907\u8A55\u6642\u9593\uFF1A"),Yu=["disabled"],Mu=u("div",{class:"col-md-12"},[u("div",{class:"alert alert-warning"}," \u7121\u8AD6\u65BC\u672C\u9662\u6216\u4ED6\u9662\u8A55\u4F30\u4E00\u5E74\u5167\u4E0D\u5F97\u91CD\u8A55\uFF0C\u67E5\u8A62\u5F8C\u82E5\u91CD\u8986\u770B\u8A3A\uFF0C\u76F4\u63A5\u62D2\u7D55\u8A55\u4F30 ")],-1),Su=u("br",null,null,-1),qu={key:0},Ru={class:"row"},Vu=u("h5",null,"\u5C31\u8A3A\u554F\u984C(\u8907\u9078)\uFF1A",-1),Nu=u("br",null,null,-1),ju={class:"form-check-label"},Tu=["value"],Uu=u("div",{class:"col-md-12"},[u("div",{class:"alert alert-warning"},[o(" \u5982\u70BA\u55AE\u4E00\u9805\u76EE\u7684\u767C\u5C55\u9072\u7DE9\uFF0C\u975E\u672C\u9580\u8A3A\u770B\u8A3A\u5C0D\u8C61\uFF0C"),u("br"),o(" \u52D5\u4F5C\uFF08\u542B\u7C97\u5927\u52D5\u4F5C\u3001\u7CBE\u7D30\u52D5\u4F5C\u3001\u611F\u89BA\u7D71\u5408\u3001\u8D70\u8DEF\u5E73\u8861\uFF09\u3001"),u("br"),o(" \u8A9E\u8A00\uFF08\u7406\u89E3\u3001\u6E9D\u901A\u3001\u69CB\u97F3\u3001\u53E3\u5403\uFF09\u3001"),u("br"),o(" \u7B49\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1"),u("br"),u("br"),o(" \u8A8D\u77E5\uFF08\u60C5\u7DD2\u884C\u70BA\u3001\u5B78\u7FD2\u3001\u793E\u6703\u9069\u61C9\u3001\u4EBA\u969B\u4E92\u52D5\u3001\u6CE8\u610F\u529B\u3001\u6D3B\u52D5\u91CF\u3001\u885D\u52D5\u6027\uFF09\u7B49"),u("br"),o(" \u2192 \u8ACB\u639B"),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1")])],-1),Iu=u("br",null,null,-1),Pu={key:1},Ou=u("h5",null,"\u524D\u6B21\u8A55\u4F30\u9072\u7DE9/\u81E8\u754C\u9072\u7DE9\uFF1A",-1),Hu={class:"col-md-12"},Lu={class:"form-inline"},Qu={class:"form-check"},Wu={class:"form-check-label"},zu=["value","disabled"],Ju=u("div",{class:"col-md-12"},[u("div",{class:"alert alert-warning"},[o(" \u5982\u70BA\u55AE\u4E00\u9805\u76EE\u7684\u767C\u5C55\u9072\u7DE9\uFF0C\u975E\u672C\u9580\u8A3A\u770B\u8A3A\u5C0D\u8C61\uFF0C"),u("br"),o(" \u52D5\u4F5C\uFF08\u542B\u7C97\u5927\u52D5\u4F5C\u3001\u7CBE\u7D30\u52D5\u4F5C\u3001\u611F\u89BA\u7D71\u5408\u3001\u8D70\u8DEF\u5E73\u8861\uFF09\u3001"),u("br"),o(" \u8A9E\u8A00\uFF08\u7406\u89E3\u3001\u6E9D\u901A\u3001\u69CB\u97F3\u3001\u53E3\u5403\uFF09\u3001"),u("br"),o(" \u7B49\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1"),u("br"),u("br"),o(" \u8A8D\u77E5\uFF08\u60C5\u7DD2\u884C\u70BA\u3001\u5B78\u7FD2\u3001\u793E\u6703\u9069\u61C9\u3001\u4EBA\u969B\u4E92\u52D5\u3001\u6CE8\u610F\u529B\u3001\u6D3B\u52D5\u91CF\u3001\u885D\u52D5\u6027\uFF09"),u("br"),o(" \u2192 \u8ACB\u639B"),u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1")])],-1),Zu=u("h5",null,"\u6709\u5176\u5B83\u7279\u6B8A\u75BE\u75C5\uFF08\u7121\u5247\u514D\u52FE\uFF09\uFF1A",-1),Gu={class:"form-check form-check-inline"},Ku={class:"form-check-label"},Xu=["value"],ut=u("br",null,null,-1),tt=u("br",null,null,-1),et=u("button",{class:"btn btn-primary",type:"submit"},"\u78BA\u8A8D",-1),st=k({__name:"CheckIsVisited",setup(y){const t=Y(),a=M(),e=_(!1),C=_(null);_(null);const A=_(null),h=_(!1),l=["\u795E\u7D93\u7CFB\u7D71","\u5167\u5206\u6CCC","\u7F55\u898B\u75BE\u75C5","\u65E9\u7522"],E=`\u55AE\u4E00\u9805\u76EE\u7684\u767C\u5C55\u9072\u7DE9\uFF0C\u975E\u672C\u9580\u8A3A\u770B\u8A3A\u5C0D\u8C61\u3002
\u52D5\u4F5C\uFF08\u542B\u7C97\u5927\u52D5\u4F5C\u3001\u7CBE\u7D30\u52D5\u4F5C\u3001\u611F\u89BA\u7D71\u5408\u3001\u8D70\u8DEF\u5E73\u8861\uFF09\u3001
\u8A9E\u8A00\uFF08\u7406\u89E3\u3001\u6E9D\u901A\u3001\u69CB\u97F3\u3001\u53E3\u5403\uFF09\u3001\u7B49\u767C\u5C55\u554F\u984C\u8ACB\u639B\u5FA9\u5065\u79D1\u3002

\u8A8D\u77E5\u3001\u60C5\u7DD2\u884C\u70BA\u3001\u5B78\u7FD2\u3001\u793E\u6703\u9069\u61C9\u3001\u4EBA\u969B\u4E92\u52D5\u3001\u6CE8\u610F\u529B\u3001\u6D3B\u52D5\u91CF\u3001\u885D\u52D5\u6027\u7B49\uFF0C\u8ACB\u639B\u5152\u7AE5\u5FC3\u667A\u79D1\u3002`,i=["\u52D5\u4F5C","\u8A9E\u8A00","\u5B78\u7FD2","\u60C5\u7DD2","\u5C08\u6CE8\u529B\u3001\u904E\u52D5","\u5B78\u524D\u9451\u5B9A"],r=["\u52D5\u4F5C\u985E","\u8A9E\u8A00","\u8A8D\u77E5\u3001\u793E\u6703\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49"],c=_([]);function F(b){const d=N(b);console.log(d),e.value?(t.lastEvaluateDate=d.lastEvaluate,t.lastEvaluateSuggestDate=d.SuggestEvaluate,d.previousAssessment?d.previousAssessment.split("|").length<=1?alert(E):a.step+=1:(A.value=!1,alert("\u8ACB\u9078\u64C7\u524D\u6B21\u8A55\u4F30\u9072\u7DE9/\u81E8\u754C\u9072\u7DE9"))):d.questionsAbouts?d.questionsAbouts.split("|").length<=1?(A.value=!1,alert(E)):(t.appointmentQuestions=d.questionsAbouts,a.step+=1):(A.value=!1,alert("\u8ACB\u9078\u64C7\u5C31\u8A3A\u554F\u984C")),console.log(t.$state)}return(b,d)=>(s(),n("form",{id:"from",onSubmit:q(F,["prevent"])},[u("h5",null,D(m(a).step)+"\u3001\u662F\u5426\u66FE\u7D93\u65BC\u672C\u9662/\u4ED6\u9662\u770B\u904E\u5152\u7AE5\u767C\u5C55\u806F\u5408\u8A55\u4F30\u9580\u8A3A\uFF1F",1),u("div",Au,[u("div",mu,[u("label",Eu,[S(u("input",{type:"radio",class:"form-check-input",value:!1,"onUpdate:modelValue":d[0]||(d[0]=B=>e.value=B),name:"isVisited",required:"",disabled:h.value},null,8,Du),[[V,e.value]]),pu])]),u("div",Cu,[u("label",Bu,[S(u("input",{type:"radio",class:"form-check-input",value:!0,"onUpdate:modelValue":d[1]||(d[1]=B=>e.value=B),name:"isVisited",required:"",disabled:h.value},null,8,fu),[[V,e.value]]),vu]),e.value?(s(),n("div",bu,[u("div",gu,[u("div",yu,[$u,S(u("input",{type:"date",class:"form-control",name:"lastEvaluate",required:"","onUpdate:modelValue":d[2]||(d[2]=B=>C.value=B),disabled:h.value},null,8,ku),[[j,C.value]])]),u("div",wu,[xu,u("input",{type:"date",class:"form-control",name:"SuggestEvaluate",required:"",disabled:h.value},null,8,Yu)]),Mu])])):v("",!0)])]),Su,e.value?v("",!0):(s(),n("div",qu,[u("div",Ru,[Vu,Nu,(s(),n(g,null,$(i,B=>u("label",ju,[u("input",{class:"form-check-input",type:"checkbox",name:"questionsAbouts",value:B},null,8,Tu),o(" "+D(B)+"\u2003 ",1)])),64)),Uu]),Iu])),e.value?(s(),n("div",Pu,[Ou,u("div",Hu,[(s(),n(g,null,$(r,(B,p)=>u("div",Lu,[u("div",Qu,[u("label",Wu,[S(u("input",{type:"checkbox",class:"form-check-input",name:"previousAssessment","onUpdate:modelValue":d[3]||(d[3]=w=>c.value=w),value:B,disabled:h.value},null,8,zu),[[P,c.value]]),o(D(B),1)])])])),64))]),Ju])):v("",!0),Zu,(s(),n(g,null,$(l,(B,p)=>u("div",Gu,[u("label",Ku,[u("input",{type:"checkbox",class:"form-check-input",name:"specialDisease",value:B},null,8,Xu),o(D(B),1)])])),64)),ut,tt,et],40,hu))}});const ot=["onSubmit"],nt=u("h5",null,"5\u3001TAIPEI II \u7BE9\u6AA2\u8868",-1),lt={class:"col-md-12"},at={key:0},it=u("div",{class:"text-center"},[u("div",{class:"spinner-border",role:"status"},[u("span",{class:"visually-hidden"},"Loading...")])],-1),rt=[it],ct={key:1},dt={class:"row"},_t={class:"col-md-1"},Ft={style:{color:"red"}},ht={class:"col-md-9"},At={class:"form-check-label"},mt={class:"col-md-2 text-center"},Et=["id","name"],Dt=["for"],pt=["id","name"],Ct=["for"],Bt=["src"],ft=u("br",null,null,-1),vt=u("button",{class:"btn btn-primary",type:"submit"},"\u78BA\u8A8D",-1),bt=k({__name:"Taipai2From",setup(y){const t=_({}),a=_({questions:[],image:""}),e=Y(),C=M();fetch("assets/monthRoot.json").then(l=>l.json()).then(l=>{t.value=l});const A=O(()=>{const E=f().diff(f(e.childBirthday))/(1e3*60*60*24);let i="";for(const r in t.value)if(t.value[r].min<=E&&t.value[r].max>=E){i=t.value[r].title,fetch(r).then(c=>c.json()).then(c=>{c.questions.forEach((F,b,d)=>{F.title=F.title.replace(/^\d+\./gm,""),F.answer=!!F.answer}),a.value=c});break}return i});_(null);function h(l){const E=N(l),i=[];a.value.questions.forEach((r,c,F)=>{const b=r.answer?"true":"false";E["q_"+c]==b&&i.push(c+1),delete E["q_"+c]}),E.wrongAnswers=i.join("|"),e.Taipei2Title=A.value,e.Taipei2WrongAnswers=i.join("|"),C.step+=1}return(l,E)=>(s(),n("form",{id:"from",onSubmit:q(h,["prevent"])},[nt,u("div",lt,[m(A)?v("",!0):(s(),n("div",at,rt)),m(A)?(s(),n("div",ct,[u("h6",null,D(m(A)),1),u("div",null,[(s(!0),n(g,null,$(a.value.questions,(i,r)=>(s(),n("div",{class:H(r%2==0?"q_white_line":"q_gray_line")},[u("div",dt,[u("div",_t,[o(D(r+1),1),u("span",Ft,D(i.special?"\u2605":""),1)]),u("div",ht,[u("label",At,D(i.title),1)]),u("div",mt,[u("input",{type:"radio",class:"slist_radio_input",id:`q5t_${r}`,name:`q_${r}`,required:"",value:!0},null,8,Et),u("label",{class:"slist_radio_label",for:`q5t_${r}`},"\u662F",8,Dt),u("input",{type:"radio",class:"slist_radio_input",id:`q5f_${r}`,name:`q_${r}`,required:"",value:!1},null,8,pt),u("label",{class:"slist_radio_label",for:`q5f_${r}`},"\u5426",8,Ct)])])],2))),256)),u("img",{src:a.value.image,style:{width:"100%"}},null,8,Bt)])])):v("",!0)]),ft,vt],40,ot))}}),gt=o(" \u4E0D\u7B26\u5408\u672C\u9662\u770B\u8A3A\u689D\u4EF6\uFF0C\u82E5\u4ECD\u9700\u8981\u672C\u9662\u5C31\u8A3A\uFF0C\u5EFA\u8B70\u8F49\u8A3A\u81F3\u4EE5\u4E0B\u79D1\u5225\uFF1A"),yt=u("br",null,null,-1),$t=o(" \u52D5\u4F5C\u3001\u8A9E\u8A00\u985E\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),kt=u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1",-1),wt=u("br",null,null,-1),xt=o(" \u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49 \u2192 \u8ACB\u639B"),Yt=u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1",-1),Mt=k({__name:"SuggestReferral",setup(y){return(t,a)=>(s(),n(g,null,[gt,yt,$t,kt,wt,xt,Yt],64))}}),St=u("h5",null,"6.\u9001\u51FA\u5831\u540D\u8CC7\u6599",-1),qt=o(" \u8ACB\u78BA\u8A8D\u4EE5\u4E0B\u8CC7\u8A0A\uFF0C\u78BA\u8A8D\u597D\u5F8C\u6309\u4E0B\u9001\u51FA\u5373\u53EF\u5831\u540D\u3002 "),Rt=k({__name:"EndPage",setup(y){const t=Y();M();const a=f(t.appointmentDate);t.appointmentDate,a.year()-1911+a.format("\u5E74 MM\u6708 DD\u65E5");const e=_("\u9001\u51FA");_("");function C(h){e.value=="\u9001\u51FA"&&(e.value="\u9001\u51FA\u4E2D",A(t.$state))}function A(h){J(h).then(async l=>{if(l.status!=200){alert(JSON.stringify(await l.json())),e.value="\u932F\u8AA4\uFF0C\u5831\u540D\u5931\u6557";return}const E="\u5831\u540D\u6210\u529F\uFF01";e.value="\u6210\u529F",alert(E);const i=t.appointmentDate;L.push("./success?date="+i)})}return(h,l)=>(s(),n("table",null,[St,qt,(s(!0),n(g,null,$(m(z),(E,i)=>(s(),n("tr",null,[E!=""?(s(),n(g,{key:0},[u("td",null,D(E),1),u("td",null,D(m(t)[i]),1)],64)):v("",!0)]))),256)),u("button",{type:"button",class:"btn btn-primary",onClick:C},D(e.value),1)]))}});const Vt=["onSubmit"],Nt=u("h1",null,"\u5152\u7AE5\u767C\u5C55\u8A55\u4F30\u5831\u540D\u7CFB\u7D71",-1),jt=o(" \u6B63\u78BA\u5E74\u9F61\u8A08\u7B97\u65B9\u5F0F\uFF1A"),Tt=u("br",null,null,-1),Ut=o(" \u300C\u5BE6\u8DB3\u5E74\u9F61\u300D\uFF1A\u300C\u65BD\u6E2C\u65E5\u671F - \u51FA\u751F\u65E5\u671F = \u5BE6\u8DB3\u5E74\u9F61\u300D"),It=u("br",null,null,-1),Pt=o(" \uFF0A\u65E9\u7522\u5152\u4E8C\u6B72\u524D\u5EFA\u8B70\u4EE5\u9810\u7522\u671F\u4EE3\u66FF\u51FA\u751F\u65E5\u671F\u8A08\u7B97"),Ot=u("br",null,null,-1),Ht={class:"kidBirthdayFrom"},Lt=o(" \u8ACB\u9078\u64C7\u60A8\u7684\u5BF6\u8C9D\u51FA\u751F\u65E5\u671F\u9032\u884C\u6AA2\u6E2C\uFF1A"),Qt=u("br",null,null,-1),Wt={class:"form-label"},zt=u("br",null,null,-1),Jt={key:0,class:"col-md-12"},Zt={class:"alert alert-warning"},Gt=u("br",null,null,-1),Kt=o(" \u52D5\u4F5C\u3001\u8A9E\u8A00\u985E\u767C\u5C55\u554F\u984C \u2192 \u8ACB\u639B "),Xt=u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=REHA"},"\u5FA9\u5065\u79D1",-1),ue=u("br",null,null,-1),te=o(" \u8A8D\u77E5\u3001\u4EBA\u969B\u3001\u60C5\u7DD2\u3001\u5C08\u6CE8\u529B\u3001\u904E\u52D5\u7B49 \u2192 \u8ACB\u639B"),ee=u("a",{href:"https://register.vghtc.gov.tw/register/listDoctor.jsp?init=init&section=PSYC"},"\u5152\u7AE5\u5FC3\u667A\u79D1",-1),se={key:1,class:"btn btn-primary",type:"submit"},oe=u("br",null,null,-1),ne=u("footer",null,[u("p",null,"Copyright \xA9 2023 \u91AB\u7642\u7CFB\u7D71\u806F\u76DF")],-1),le=k({__name:"UserFrom0",setup(y){const t=Y(),a=M(),e=_(f("2022-07-01").add(-106,"day")),C=_(f("2016-01-01").add(-106,"day"));_(C.value.format("YYYY\u5E74MM\u6708DD\u65E5")),_(e.value.format("YYYY\u5E74MM\u6708DD\u65E5")),_(C.value.format("YYYY\u5E74MM\u6708DD\u65E5")),_(e.value.format("YYYY\u5E74MM\u6708DD\u65E5")),_(e.value.format("YYYY\u5E74MM\u6708DD\u65E5"));const A=_(f().format("YYYY-MM-DD")),h=R(()=>Math.floor(f().diff(A.value)/(1e3*60*60*24))),l=R(()=>f(A.value)),E=R(()=>(h.value>360?Math.floor(h.value/360)+"\u5E74":"")+(h.value>30?Math.floor(h.value%360/30)+"\u500B\u6708":"")+(h.value>0?h.value%360%30+"\u5929":"")),i=_(null);function r(c){i.value=l.value.isBefore(e.value)&&l.value.isAfter(C.value),i.value&&(a.step+=1,t.childBirthday=l.value.format("YYYY-MM-DD"))}return(c,F)=>(s(),n(g,null,[u("form",{id:"from",onSubmit:q(r,["prevent"])},[Nt,jt,Tt,Ut,It,Pt,Ot,u("div",Ht,[Lt,Qt,u("label",Wt,[S(u("input",{type:"date",class:"form-control",name:"kidBirthday","onUpdate:modelValue":F[0]||(F[0]=b=>A.value=b),required:""},null,512),[[j,A.value]])]),zt,o(" \u8A66\u7B97\u7D50\u679C\uFF1A"+D(m(E)),1)]),i.value===!1?(s(),n("div",Jt,[u("div",Zt,[o(" \u76EE\u524D\u7684\u6536\u8A3A\u51FA\u751F\u5E74\u9F61\u7BC4\u570D\u70BA "+D(C.value.format("YYYY-MM-DD"))+" \u81F3 "+D(e.value.format("YYYY-MM-DD"))+" \uFF0C\u82E5\u4ECD\u9700\u8981\u672C\u9662\u5C31\u8A3A\uFF0C\u5EFA\u8B70\u8F49\u8A3A\u81F3\u4EE5\u4E0B\u79D1\u5225\uFF1A",1),Gt,Kt,Xt,ue,te,ee])])):v("",!0),i.value?v("",!0):(s(),n("button",se,"\u78BA\u8A8D"))],40,Vt),oe,ne],64))}});const ae=["onSubmit"],ie={key:0,class:"col-md-12"},re={class:"alert alert-warning"},ce={class:"table table-sm"},de={class:"weekhead"},_e={class:"weekbody"},Fe={key:0,class:"form-check"},he=["disabled","id","value"],Ae={style:{color:"blue"}},me=u("button",{class:"btn btn-primary",type:"submit"},"\u78BA\u8A8D",-1),Ee=u("br",null,null,-1),De=k({__name:"ChooseDate",setup(y){const t=Y(),a=M(),e=_([]),C=_([]),A=t.lastEvaluateSuggestDate?f(t.lastEvaluateSuggestDate):null,h=_(Math.abs(f(t.childBirthday).diff(f(),"day"))<360*3);console.log("special = "+h.value),(async()=>{const i=await Z();let r=Object.values(i);r.sort((b,d)=>b.date.localeCompare(d.date)),console.log(r);let c=-1,F=-1;for(const b of r){const d=f(b.date);if(c!=d.month()){if(c=d.month(),F+=1,F>=5)break;e.value.push([])}e.value[F].push(b)}for(let b=0;b<5;b++){const d=[];for(let B=0;B<e.value.length;B++){const p=e.value[B][b];if(!p){d.push(null);continue}if(p.work){let w=0;h.value?(w=p.max_num-p.num+p.max_spnum-p.spnum,p.hasnum=w,p.comment="\u540D\u984D: "):(w=Math.min(p.max_num-p.num,p.max_num-p.num+p.max_spnum-p.spnum),p.hasnum=w,p.comment="\u540D\u984D: "),w<=0&&(p.comment="\u540D\u984D\u5DF2\u6EFF",p.work=!1)}d.push(p)}C.value.push(d)}})();function l(i){return i.work?A?f(i.date).diff(A,"day")<-62:!1:!0}function E(i){const c=new FormData(i.target).get("worktime");!(c!=null&&c.toString())||(t.appointmentDate=c==null?void 0:c.toString(),a.step+=1)}return(i,r)=>(s(),n(g,null,[u("h5",null,D(m(a).step)+"\u3001\u9078\u64C7\u770B\u8A3A\u65E5\u671F",1),u("form",{id:"from",onSubmit:q(E,["prevent"])},[m(A)?(s(),n("div",ie,[u("div",re," \u8907\u8A55\u8005\u5831\u544A\u66F8\u5230\u671F\u65E5\u70BA "+D(m(A).format("YYYY-MM-DD"))+"\uFF0C \u53EF\u5831\u540D "+D(m(A).add(-62,"day").format("YYYY-MM-DD"))+" \u4EE5\u5F8C\u7684\u9580\u8A3A ",1)])):v("",!0),u("table",ce,[u("thead",de,[u("tr",null,[(s(!0),n(g,null,$(Array.from({length:e.value.length},(c,F)=>F),c=>(s(),n("th",null,D(m(f)(e.value[c][0].date).format("YYYY\u5E74 MM\u6708")),1))),256))])]),u("tbody",_e,[(s(!0),n(g,null,$(C.value,c=>(s(),n("tr",null,[(s(!0),n(g,null,$(c,F=>(s(),n("td",null,[F?(s(),n("div",Fe,[u("label",{class:"form-check-label workradio",style:Q(l(F)?"opacity: 0.5;":"")},[u("input",{type:"radio",class:"form-check-input",disabled:l(F),id:m(f)(F.date).format("YYYY-MM-DD"),name:"worktime",value:m(f)(F.date).format("YYYY-MM-DD")},null,8,he),o(D(m(f)(F.date).format("MM/DD")+" "+F.comment)+" ",1),u("span",Ae,D(F.hasnum),1)],4)])):v("",!0)]))),256))]))),256)),me])])],40,ae),Ee],64))}}),pe=u("br",null,null,-1),Ce=u("br",null,null,-1),ge=k({__name:"UserView",setup(y){Y();const t=M();return(a,e)=>(s(),n("div",null,[pe,W(X),m(t).step==-10?(s(),x(Mt,{key:0})):v("",!0),m(t).step==0?(s(),x(le,{key:1})):v("",!0),m(t).step==1?(s(),x(st,{key:2})):v("",!0),m(t).step==2?(s(),x(De,{key:3})):v("",!0),m(t).step==3?(s(),x(Fu,{key:4})):v("",!0),m(t).step==4?(s(),x(bt,{key:5})):v("",!0),m(t).step==5?(s(),x(Rt,{key:6})):v("",!0),Ce]))}});export{ge as default};
//# sourceMappingURL=UserView.7aa7a5a4.js.map
